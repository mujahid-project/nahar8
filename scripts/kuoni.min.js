/* jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(c,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?d(c,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return d(b)}:d(c)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a){return d}if(1!==(k=b.nodeType)&&9!==k){return[]}if(p&&!e){if(f=_.exec(a)){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return I.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return I.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+qb(o[l])}w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x){try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0}if(f===g){return kb(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=lb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=mb(b)}function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++){fb(a,b[d],c)}return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)}})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return !g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++){if(c=d.relative[a[i].type]){m=[rb(sb(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=G.call(i))}}s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=wb(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a){return I.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return !0}function bb(){return !1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=bb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g){d[g]&&Bb(e,d[g])}}if(b){if(c){for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++){Ab(e,d[g])}}else{Ab(a,f)}}return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++]){ob.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0}if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++){d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--){if(b=Tb[e]+c,b in a){return b}}return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jc(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++){if(d=dc[f].call(j,a,k,j.opts)){return d}}return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)}},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t){return v}h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vc(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vc(c,a[c],b,e)}}return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc){Xc[a](void 0,!0)}}),k.cors=!!Yc&&"withCredentials" in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd){return bd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});!function(a){var c=function(d){this.element=a(d)};c.prototype={constructor:c,show:function(){var f=this.element,g=f.closest("ul:not(.dropdown-menu)"),j=f.attr("data-target"),i,d,h;if(!j){j=f.attr("href");j=j&&j.replace(/.*(?=#[^\s]*$)/,"")}if(f.parent("li").hasClass("active")){return}i=g.find(".active:last a")[0];h=a.Event("show",{relatedTarget:i});f.trigger(h);if(h.isDefaultPrevented()){return}d=a(j);this.activate(f.parent("li"),g);this.activate(d,d.parent(),function(){f.trigger({type:"shown",relatedTarget:i})})},activate:function(g,f,e){var d=f.find("> .active"),i=e&&a.support.transition&&d.hasClass("fade");function h(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");g.addClass("active");if(i){g[0].offsetWidth;g.addClass("in")}else{g.removeClass("fade")}if(g.parent(".dropdown-menu")){g.closest("li.dropdown").addClass("active")}e&&e()}i?d.one(a.support.transition.end,h):h();d.removeClass("in")}};var b=a.fn.tab;a.fn.tab=function(d){return this.each(function(){var e=a(this),f=e.data("tab");if(!f){e.data("tab",(f=new c(this)))}if(typeof d=="string"){f[d]()}})};a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){a.fn.tab=b;return this};a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();a(this).tab("show")})}(window.jQuery);/* jQuery UI - v1.10.3 - 2013-06-10
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.datepicker.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(c,h){function d(p,j){var e,k,m,l=p.nodeName.toLowerCase();return"area"===l?(e=p.parentNode,k=e.name,p.href&&k&&"map"===e.nodeName.toLowerCase()?(m=c("img[usemap=#"+k+"]")[0],!!m&&g(m)):!1):(/input|select|textarea|button|object/.test(l)?!p.disabled:"a"===l?p.href||j:j)&&g(p)}function g(a){return c.expr.filters.visible(a)&&!c(a).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var b=0,f=/^ui-id-\d+$/;c.ui=c.ui||{},c.extend(c.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),c.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){c(i).focus(),j&&j.call(i)},e)}):a.apply(this,arguments)}}(c.fn.focus),scrollParent:function(){var a;return a=c.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(j){if(j!==h){return this.css("zIndex",j)}if(this.length){for(var l,e,k=c(this[0]);k.length&&k[0]!==document;){if(l=k.css("position"),("absolute"===l||"relative"===l||"fixed"===l)&&(e=parseInt(k.css("zIndex"),10),!isNaN(e)&&0!==e)){return e}k=k.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&c(this).removeAttr("id")})}}),c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(a){return function(e){return !!c.data(e,a)}}):function(j,a,e){return !!c.data(j,e[3])},focusable:function(a){return d(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(j){var i=c.attr(j,"tabindex"),e=isNaN(i);return(e||i>=0)&&d(j,!e)}}),c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(j,p){function e(r,o,q,n){return c.each(k,function(){o-=parseFloat(c.css(r,"padding"+this))||0,q&&(o-=parseFloat(c.css(r,"border"+this+"Width"))||0),n&&(o-=parseFloat(c.css(r,"margin"+this))||0)}),o}var k="Width"===p?["Left","Right"]:["Top","Bottom"],m=p.toLowerCase(),l={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+p]=function(a){return a===h?l["inner"+p].call(this):this.each(function(){c(this).css(m,e(this,a)+"px")})},c.fn["outer"+p]=function(n,a){return"number"!=typeof n?l["outer"+p].call(this,n):this.each(function(){c(this).css(m,e(this,n,!0,a)+"px")})}}),c.fn.addBack||(c.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,c.camelCase(e)):a.call(this)}}(c.fn.removeData)),c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),c.support.selectstart="onselectstart" in document.createElement("div"),c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),c.extend(c.ui,{plugin:{add:function(m,j,l){var e,k=c.ui[m].prototype;for(e in l){k.plugins[e]=k.plugins[e]||[],k.plugins[e].push([j,l[e]])}},call:function(k,n,l){var m,j=k.plugins[n];if(j&&k.element[0].parentNode&&11!==k.element[0].parentNode.nodeType){for(m=0;j.length>m;m++){k.options[j[m][0]]&&j[m][1].apply(k.element,l)}}}},hasScroll:function(l,j){if("hidden"===c(l).css("overflow")){return !1}var k=j&&"left"===j?"scrollLeft":"scrollTop",e=!1;return l[k]>0?!0:(l[k]=1,e=l[k]>0,l[k]=0,e)}})})(jQuery);(function(a,f){var b=0,d=Array.prototype.slice,c=a.cleanData;a.cleanData=function(j){for(var g,h=0;null!=(g=j[h]);h++){try{a(g).triggerHandler("remove")}catch(e){}}c(j)},a.widget=function(j,t,m){var e,q,p,g,k={},v=j.split(".")[0];j=j.split(".")[1],e=v+"-"+j,m||(m=t,t=a.Widget),a.expr[":"][e.toLowerCase()]=function(h){return !!a.data(h,e)},a[v]=a[v]||{},q=a[v][j],p=a[v][j]=function(h,l){return this._createWidget?(arguments.length&&this._createWidget(h,l),f):new p(h,l)},a.extend(p,q,{version:m.version,_proto:a.extend({},m),_childConstructors:[]}),g=new t,g.options=a.widget.extend({},g.options),a.each(m,function(h,l){return a.isFunction(l)?(k[h]=function(){var i=function(){return t.prototype[h].apply(this,arguments)},n=function(o){return t.prototype[h].apply(this,o)};return function(){var r,u=this._super,o=this._superApply;return this._super=i,this._superApply=n,r=l.apply(this,arguments),this._super=u,this._superApply=o,r}}(),f):(k[h]=l,f)}),p.prototype=a.widget.extend(g,{widgetEventPrefix:q?g.widgetEventPrefix:j},k,{constructor:p,namespace:v,widgetName:j,widgetFullName:e}),q?(a.each(q._childConstructors,function(n,h){var l=h.prototype;a.widget(l.namespace+"."+l.widgetName,p,h._proto)}),delete q._childConstructors):t._childConstructors.push(p),a.widget.bridge(j,p)},a.widget.extend=function(j){for(var k,e,m=d.call(arguments,1),l=0,g=m.length;g>l;l++){for(k in m[l]){e=m[l][k],m[l].hasOwnProperty(k)&&e!==f&&(j[k]=a.isPlainObject(e)?a.isPlainObject(j[k])?a.widget.extend({},j[k],e):a.widget.extend({},e):e)}}return j},a.widget.bridge=function(g,h){var e=h.prototype.widgetFullName||g;a.fn[g]=function(m){var k="string"==typeof m,i=d.call(arguments,1),j=this;return m=!k&&i.length?a.widget.extend.apply(null,[m].concat(i)):m,k?this.each(function(){var o,l=a.data(this,e);return l?a.isFunction(l[m])&&"_"!==m.charAt(0)?(o=l[m].apply(l,i),o!==l&&o!==f?(j=o&&o.jquery?j.pushStack(o.get()):o,!1):f):a.error("no such method '"+m+"' for "+g+" widget instance"):a.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+m+"'")}):this.each(function(){var l=a.data(this,e);l?l.option(m||{})._init():a.data(this,e,new h(m,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(g,e){e=a(e||this.defaultElement||this)[0],this.element=a(e),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),g),this.bindings=a(),this.hoverable=a(),this.focusable=a(),e!==this&&(a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(g,l){var h,e,k,j=g;if(0===arguments.length){return a.widget.extend({},this.options)}if("string"==typeof g){if(j={},h=g.split("."),g=h.shift(),h.length){for(e=j[g]=a.widget.extend({},this.options[g]),k=0;h.length-1>k;k++){e[h[k]]=e[h[k]]||{},e=e[h[k]]}if(g=h.pop(),l===f){return e[g]===f?null:e[g]}e[g]=l}else{if(l===f){return this.options[g]===f?null:this.options[g]}j[g]=l}}return this._setOptions(j),this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){return this.options[g]=h,"disabled"===g&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,k,h){var e,j=this;"boolean"!=typeof g&&(h=k,k=g,g=!1),h?(k=e=a(k),this.bindings=this.bindings.add(k)):(h=k,k=this.element,e=this.widget()),a.each(h,function(q,r){function m(){return g||j.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof r?j[r]:r).apply(j,arguments):f}"string"!=typeof r&&(m.guid=r.guid=r.guid||m.guid||a.guid++);var p=q.match(/^(\w+)\s*(.*)$/),s=p[1]+j.eventNamespace,i=p[2];i?e.delegate(i,s,m):k.bind(s,m)})},_off:function(g,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(h).undelegate(h)},_delay:function(g,k){function h(){return("string"==typeof g?j[g]:g).apply(j,arguments)}var j=this;return setTimeout(h,k||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(g){a(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){a(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(g){a(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){a(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,g,k){var h,e,j=this.options[l];if(k=k||{},g=a.Event(g),g.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),g.target=this.element[0],e=g.originalEvent){for(h in e){h in g||(g[h]=e[h])}}return this.element.trigger(g,k),!(a.isFunction(j)&&j.apply(this.element[0],[g].concat(k))===!1||g.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(g,e){a.Widget.prototype["_"+g]=function(l,i,h){"string"==typeof i&&(i={effect:i});var k,j=i?i===!0||"number"==typeof i?e:i.effect||e:g;i=i||{},"number"==typeof i&&(i={duration:i}),k=!a.isEmptyObject(i),i.complete=h,i.delay&&l.delay(i.delay),k&&a.effects&&a.effects.effect[j]?l[g](i):j!==g&&l[j]?l[j](i.duration,i.easing,h):l.queue(function(m){a(this)[g](),h&&h.call(l[0]),m()})}})})(jQuery);(function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===a.data(d.target,c.widgetName+".preventClickEvent")?(a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!b){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var f=this,e=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return e&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return f._mouseMove(g)},this._mouseUpDelegate=function(g){return f._mouseUp(g)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(C,k){function v(d,a,c){return[parseFloat(d[0])*(z.test(d[0])?a/100:1),parseFloat(d[1])*(z.test(d[1])?c/100:1)]}function B(a,c){return parseInt(C.css(a,c),10)||0}function x(a){var c=a[0];return 9===c.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:C.isWindow(c)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}C.ui=C.ui||{};var b,y=Math.max,A=Math.abs,q=Math.round,w=/left|center|right/,g=/top|center|bottom/,D=/[\+\-]\d+(\.[\d]+)?%?/,j=/^\w+/,z=/%$/,m=C.fn.position;C.position={scrollbarWidth:function(){if(b!==k){return b}var a,e,c=C("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=c.children()[0];return C("body").append(c),a=d.offsetWidth,c.css("overflow","scroll"),e=d.offsetWidth,a===e&&(e=c[0].clientWidth),c.remove(),b=a-e},getScrollInfo:function(d){var f=d.isWindow?"":d.element.css("overflow-x"),l=d.isWindow?"":d.element.css("overflow-y"),h="scroll"===f||"auto"===f&&d.width<d.element[0].scrollWidth,c="scroll"===l||"auto"===l&&d.height<d.element[0].scrollHeight;return{width:c?C.position.scrollbarWidth():0,height:h?C.position.scrollbarWidth():0}},getWithinInfo:function(a){var c=C(a||window),d=C.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},C.fn.position=function(h){if(!h||!h.of){return m.apply(this,arguments)}h=C.extend({},h);var d,o,n,i,r,f,c=C(h.of),u=C.position.getWithinInfo(h.within),s=C.position.getScrollInfo(u),t=(h.collision||"flip").split(" "),l={};return f=x(c),c[0].preventDefault&&(h.at="left top"),o=f.width,n=f.height,i=f.offset,r=C.extend({},i),C.each(["my","at"],function(){var p,a,e=(h[this]||"").split(" ");1===e.length&&(e=w.test(e[0])?e.concat(["center"]):g.test(e[0])?["center"].concat(e):["center","center"]),e[0]=w.test(e[0])?e[0]:"center",e[1]=g.test(e[1])?e[1]:"center",p=D.exec(e[0]),a=D.exec(e[1]),l[this]=[p?p[0]:0,a?a[0]:0],h[this]=[j.exec(e[0])[0],j.exec(e[1])[0]]}),1===t.length&&(t[1]=t[0]),"right"===h.at[0]?r.left+=o:"center"===h.at[0]&&(r.left+=o/2),"bottom"===h.at[1]?r.top+=n:"center"===h.at[1]&&(r.top+=n/2),d=v(l.at,o,n),r.left+=d[0],r.top+=d[1],this.each(function(){var J,H,e=C(this),L=e.outerWidth(),E=e.outerHeight(),G=B(this,"marginLeft"),a=B(this,"marginTop"),F=L+G+B(this,"marginRight")+s.width,K=E+a+B(this,"marginBottom")+s.height,p=C.extend({},r),I=v(l.my,e.outerWidth(),e.outerHeight());"right"===h.my[0]?p.left-=L:"center"===h.my[0]&&(p.left-=L/2),"bottom"===h.my[1]?p.top-=E:"center"===h.my[1]&&(p.top-=E/2),p.left+=I[0],p.top+=I[1],C.support.offsetFractions||(p.left=q(p.left),p.top=q(p.top)),J={marginLeft:G,marginTop:a},C.each(["left","top"],function(M,N){C.ui.position[t[M]]&&C.ui.position[t[M]][N](p,{targetWidth:o,targetHeight:n,elemWidth:L,elemHeight:E,collisionPosition:J,collisionWidth:F,collisionHeight:K,offset:[d[0]+I[0],d[1]+I[1]],my:h.my,at:h.at,within:u,elem:e})}),h.using&&(H=function(R){var O=i.left-p.left,Q=O+o-L,P=i.top-p.top,M=P+n-E,N={target:{element:c,left:i.left,top:i.top,width:o,height:n},element:{element:e,left:p.left,top:p.top,width:L,height:E},horizontal:0>Q?"left":O>0?"right":"center",vertical:0>M?"top":P>0?"bottom":"middle"};L>o&&o>A(O+Q)&&(N.horizontal="center"),E>n&&n>A(P+M)&&(N.vertical="middle"),N.important=y(A(O),A(Q))>y(A(P),A(M))?"horizontal":"vertical",h.using.call(this,R,N)}),e.offset(C.extend(p,{using:H}))})},C.ui.position={fit:{left:function(G,d){var o,F=d.within,u=F.isWindow?F.scrollLeft:F.offset.left,c=F.width,E=G.left-d.collisionPosition.marginLeft,f=u-E,p=E+d.collisionWidth-c-u;d.collisionWidth>c?f>0&&0>=p?(o=G.left+f+d.collisionWidth-c-u,G.left+=f-o):G.left=p>0&&0>=f?u:f>p?u+c-d.collisionWidth:u:f>0?G.left+=f:p>0?G.left-=p:G.left=y(G.left-E,G.left)},top:function(G,d){var o,F=d.within,u=F.isWindow?F.scrollTop:F.offset.top,c=d.within.height,E=G.top-d.collisionPosition.marginTop,f=u-E,p=E+d.collisionHeight-c-u;d.collisionHeight>c?f>0&&0>=p?(o=G.top+f+d.collisionHeight-c-u,G.top+=f-o):G.top=p>0&&0>=f?u:f>p?u+c-d.collisionHeight:u:f>0?G.top+=f:p>0?G.top-=p:G.top=y(G.top-E,G.top)}},flip:{left:function(P,G){var J,O,L=G.within,r=L.offset.left+L.scrollLeft,M=L.width,I=L.isWindow?L.scrollLeft:L.offset.left,K=P.left-G.collisionPosition.marginLeft,E=K-I,Q=K+G.collisionWidth-M-I,F="left"===G.my[0]?-G.elemWidth:"right"===G.my[0]?G.elemWidth:0,N="left"===G.at[0]?G.targetWidth:"right"===G.at[0]?-G.targetWidth:0,H=-2*G.offset[0];0>E?(J=P.left+F+N+H+G.collisionWidth-M-r,(0>J||A(E)>J)&&(P.left+=F+N+H)):Q>0&&(O=P.left-G.collisionPosition.marginLeft+F+N+H-I,(O>0||Q>A(O))&&(P.left+=F+N+H))},top:function(Q,G){var J,P,M=G.within,r=M.offset.top+M.scrollTop,N=M.height,I=M.isWindow?M.scrollTop:M.offset.top,K=Q.top-G.collisionPosition.marginTop,E=K-I,R=K+G.collisionHeight-N-I,F="top"===G.my[1],O=F?-G.elemHeight:"bottom"===G.my[1]?G.elemHeight:0,H="top"===G.at[1]?G.targetHeight:"bottom"===G.at[1]?-G.targetHeight:0,L=-2*G.offset[1];0>E?(P=Q.top+O+H+L+G.collisionHeight-N-r,Q.top+O+H+L>E&&(0>P||A(E)>P)&&(Q.top+=O+H+L)):R>0&&(J=Q.top-G.collisionPosition.marginTop+O+H+L-I,Q.top+O+H+L>R&&(J>0||R>A(J))&&(Q.top+=O+H+L))}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}},function(){var d,f,t,h,c,l=document.getElementsByTagName("body")[0],p=document.createElement("div");d=document.createElement(l?"div":"body"),t={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&C.extend(t,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in t){d.style[c]=t[c]}d.appendChild(p),f=l||document.documentElement,f.insertBefore(d,f.firstChild),p.style.cssText="position: absolute; left: 10.7432222px;",h=C(p).offset().left,C.support.offsetFractions=h>10&&11>h,d.innerHTML="",f.removeChild(d)}()})(jQuery);(function(b){var a=0;b.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var d,f,j,g=this.element[0].nodeName.toLowerCase(),c="textarea"===g,h="input"===g;this.isMultiLine=c?!0:h?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[c||h?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){return d=!0,j=!0,f=!0,undefined}d=!1,j=!1,f=!1;var e=b.ui.keyCode;switch(i.keyCode){case e.PAGE_UP:d=!0,this._move("previousPage",i);break;case e.PAGE_DOWN:d=!0,this._move("nextPage",i);break;case e.UP:d=!0,this._keyEvent("previous",i);break;case e.DOWN:d=!0,this._keyEvent("next",i);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(d=!0,i.preventDefault(),this.menu.select(i));break;case e.TAB:this.menu.active&&this.menu.select(i);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:f=!0,this._searchTimeout(i)}},keypress:function(i){if(d){return d=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault(),undefined}if(!f){var e=b.ui.keyCode;switch(i.keyCode){case e.PAGE_UP:this._move("previousPage",i);break;case e.PAGE_DOWN:this._move("nextPage",i);break;case e.UP:this._keyEvent("previous",i);break;case e.DOWN:this._keyEvent("next",i)}}},input:function(e){return j?(j=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=b("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(k){k.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var l=this.menu.element[0];b(k.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(e){e.target===i.element[0]||e.target===l||b.contains(l,e.target)||i.close()})})},menufocus:function(k,l){if(this.isNewMenu&&(this.isNewMenu=!1,k.originalEvent&&/^mouse/.test(k.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){b(k.target).trigger(k.originalEvent)}),undefined}var m=l.item.data("ui-autocomplete-item");!1!==this._trigger("focus",k,{item:m})?k.originalEvent&&/^key/.test(k.originalEvent.type)&&this._value(m.value):this.liveRegion.text(m.value)},menuselect:function(n,k){var l=k.item.data("ui-autocomplete-item"),m=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=m,this._delay(function(){this.previous=m,this.selectedItem=l})),!1!==this._trigger("select",n,{item:l})&&this._value(l.value),this.term=this._value(),this.close(n),this.selectedItem=l}}),this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(d,c){this._super(d,c),"source"===d&&this._initSource(),"appendTo"===d&&this.menu.element.appendTo(this._appendTo()),"disabled"===d&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?b(c):this.document.find(c).eq(0)),c||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),c},_initSource:function(){var c,d,f=this;b.isArray(this.options.source)?(c=this.options.source,this.source=function(e,g){g(b.ui.autocomplete.filter(c,e.term))}):"string"==typeof this.options.source?(d=this.options.source,this.source=function(g,h){f.xhr&&f.xhr.abort(),f.xhr=b.ajax({url:d,data:g,dataType:"json",success:function(e){h(e)},error:function(){h([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(d,c){return d=null!=d?d:this._value(),this.term=this._value(),d.length<this.options.minLength?this.close(c):this._trigger("search",c)!==!1?this._search(d):undefined},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var d=this,c=++a;return function(e){c===a&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:b.map(c,function(d){return"string"==typeof d?{label:d,value:d}:b.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(c){var d=this.menu.element.empty();this._renderMenu(d,c),this.isNewMenu=!0,this.menu.refresh(),d.show(),this._resizeMenu(),d.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,d){var f=this;b.each(d,function(g,e){f._renderItemData(c,e)})},_renderItemData:function(d,c){return this._renderItem(d,c).data("ui-autocomplete-item",c)},_renderItem:function(c,d){return b("<li>").append(b("<a>").text(d.label)).appendTo(c)},_move:function(d,c){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[d](c),undefined):(this.search(null,c),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,c){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(d,c),c.preventDefault())}}),b.extend(b.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,d){var f=RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(c,function(e){return f.test(e.label||e.value||e)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=d&&d.length?this.options.messages.results(d.length):this.options.messages.noResults,this.liveRegion.text(c))}})})(jQuery);(function(j,c){function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},j.extend(this._defaults,this.regional[""]),this.dpDiv=h(j("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function h(a){var k="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(k,"mouseout",function(){j(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&j(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&j(this).removeClass("ui-datepicker-next-hover")}).delegate(k,"mouseover",function(){j.datepicker._isDisabledDatepicker(b.inline?a.parent()[0]:b.input[0])||(j(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),j(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&j(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&j(this).addClass("ui-datepicker-next-hover"))})}function f(a,k){j.extend(a,k);for(var l in k){null==k[l]&&(a[l]=k[l])}return a}j.extend(j.ui,{datepicker:{version:"1.10.3"}});var b,g="datepicker";j.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(l,m){var p,o,k;p=l.nodeName.toLowerCase(),o="div"===p||"span"===p,l.id||(this.uuid+=1,l.id="dp"+this.uuid),k=this._newInst(j(l),o),k.settings=j.extend({},m||{}),"input"===p?this._connectDatepicker(l,k):o&&this._inlineDatepicker(l,k)},_newInst:function(a,k){var l=a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:l,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:k,dpDiv:k?h(j("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(a,k){var l=j(a);k.append=j([]),k.trigger=j([]),l.hasClass(this.markerClassName)||(this._attachments(l,k),l.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(k),j.data(a,g,k),k.settings.disabled&&this._disableDatepicker(a))},_attachments:function(l,m){var u,p,k,t=this._get(m,"appendText"),q=this._get(m,"isRTL");m.append&&m.append.remove(),t&&(m.append=j("<span class='"+this._appendClass+"'>"+t+"</span>"),l[q?"before":"after"](m.append)),l.unbind("focus",this._showDatepicker),m.trigger&&m.trigger.remove(),u=this._get(m,"showOn"),("focus"===u||"both"===u)&&l.focus(this._showDatepicker),("button"===u||"both"===u)&&(p=this._get(m,"buttonText"),k=this._get(m,"buttonImage"),m.trigger=j(this._get(m,"buttonImageOnly")?j("<img/>").addClass(this._triggerClass).attr({src:k,alt:p,title:p}):j("<button type='button'></button>").addClass(this._triggerClass).html(k?j("<img/>").attr({src:k,alt:p,title:p}):p)),l[q?"before":"after"](m.trigger),m.trigger.click(function(){return j.datepicker._datepickerShowing&&j.datepicker._lastInput===l[0]?j.datepicker._hideDatepicker():j.datepicker._datepickerShowing&&j.datepicker._lastInput!==l[0]?(j.datepicker._hideDatepicker(),j.datepicker._showDatepicker(l[0])):j.datepicker._showDatepicker(l[0]),!1}))},_autoSize:function(u){if(this._get(u,"autoSize")&&!u.inline){var l,m,q,o,k=new Date(2009,11,20),p=this._get(u,"dateFormat");p.match(/[DM]/)&&(l=function(a){for(m=0,q=0,o=0;a.length>o;o++){a[o].length>m&&(m=a[o].length,q=o)}return q},k.setMonth(l(this._get(u,p.match(/MM/)?"monthNames":"monthNamesShort"))),k.setDate(l(this._get(u,p.match(/DD/)?"dayNames":"dayNamesShort"))+20-k.getDay())),u.input.attr("size",this._formatDate(u,k).length)}},_inlineDatepicker:function(a,k){var l=j(a);l.hasClass(this.markerClassName)||(l.addClass(this.markerClassName).append(k.dpDiv),j.data(a,g,k),this._setDate(k,this._getDefaultDate(k),!0),this._updateDatepicker(k),this._updateAlternate(k),k.settings.disabled&&this._disableDatepicker(a),k.dpDiv.css("display","block"))},_dialogDatepicker:function(q,t,y,k,w){var r,v,m,z,n,x=this._dialogInst;return x||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=j("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),j("body").append(this._dialogInput),x=this._dialogInst=this._newInst(this._dialogInput,!1),x.settings={},j.data(this._dialogInput[0],g,x)),f(x.settings,k||{}),t=t&&t.constructor===Date?this._formatDate(x,t):t,this._dialogInput.val(t),this._pos=w?w.length?w:[w.pageX,w.pageY]:null,this._pos||(v=document.documentElement.clientWidth,m=document.documentElement.clientHeight,z=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[v/2-100+z,m/2-150+n]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),x.settings.onSelect=y,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),j.blockUI&&j.blockUI(this.dpDiv),j.data(this._dialogInput[0],g,x),this},_destroyDatepicker:function(a){var k,m=j(a),l=j.data(a,g);m.hasClass(this.markerClassName)&&(k=a.nodeName.toLowerCase(),j.removeData(a,g),"input"===k?(l.append.remove(),l.trigger.remove(),m.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===k||"span"===k)&&m.removeClass(this.markerClassName).empty())},_enableDatepicker:function(l){var m,p,o=j(l),k=j.data(l,g);o.hasClass(this.markerClassName)&&(m=l.nodeName.toLowerCase(),"input"===m?(l.disabled=!1,k.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===m||"span"===m)&&(p=o.children("."+this._inlineClass),p.children().removeClass("ui-state-disabled"),p.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=j.map(this._disabledInputs,function(a){return a===l?null:a}))},_disableDatepicker:function(l){var m,p,o=j(l),k=j.data(l,g);o.hasClass(this.markerClassName)&&(m=l.nodeName.toLowerCase(),"input"===m?(l.disabled=!0,k.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===m||"span"===m)&&(p=o.children("."+this._inlineClass),p.children().addClass("ui-state-disabled"),p.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=j.map(this._disabledInputs,function(a){return a===l?null:a}),this._disabledInputs[this._disabledInputs.length]=l)},_isDisabledDatepicker:function(i){if(!i){return !1}for(var a=0;this._disabledInputs.length>a;a++){if(this._disabledInputs[a]===i){return !0}}return !1},_getInst:function(a){try{return j.data(a,g)}catch(k){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,u,e){var t,q,m,p,k=this._getInst(n);return 2===arguments.length&&"string"==typeof u?"defaults"===u?j.extend({},j.datepicker._defaults):k?"all"===u?j.extend({},k.settings):this._get(k,u):null:(t=u||{},"string"==typeof u&&(t={},t[u]=e),k&&(this._curInst===k&&this._hideDatepicker(),q=this._getDateDatepicker(n,!0),m=this._getMinMaxDate(k,"min"),p=this._getMinMaxDate(k,"max"),f(k.settings,t),null!==m&&t.dateFormat!==c&&t.minDate===c&&(k.settings.minDate=this._formatDate(k,m)),null!==p&&t.dateFormat!==c&&t.maxDate===c&&(k.settings.maxDate=this._formatDate(k,p)),"disabled" in t&&(t.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(j(n),k),this._autoSize(k),this._setDate(k,q),this._updateAlternate(k),this._updateDatepicker(k)),c)},_changeDatepicker:function(l,a,k){this._optionDatepicker(l,a,k)},_refreshDatepicker:function(i){var a=this._getInst(i);a&&this._updateDatepicker(a)},_setDateDatepicker:function(l,a){var k=this._getInst(l);k&&(this._setDate(k,a),this._updateDatepicker(k),this._updateAlternate(k))},_getDateDatepicker:function(l,a){var k=this._getInst(l);return k&&!k.inline&&this._setDateFromField(k,a),k?this._getDate(k):null},_doKeyDown:function(l){var m,u,p,k=j.datepicker._getInst(l.target),t=!0,q=k.dpDiv.is(".ui-datepicker-rtl");if(k._keyEvent=!0,j.datepicker._datepickerShowing){switch(l.keyCode){case 9:j.datepicker._hideDatepicker(),t=!1;break;case 13:return p=j("td."+j.datepicker._dayOverClass+":not(."+j.datepicker._currentClass+")",k.dpDiv),p[0]&&j.datepicker._selectDay(l.target,k.selectedMonth,k.selectedYear,p[0]),m=j.datepicker._get(k,"onSelect"),m?(u=j.datepicker._formatDate(k),m.apply(k.input?k.input[0]:null,[u,k])):j.datepicker._hideDatepicker(),!1;case 27:j.datepicker._hideDatepicker();break;case 33:j.datepicker._adjustDate(l.target,l.ctrlKey?-j.datepicker._get(k,"stepBigMonths"):-j.datepicker._get(k,"stepMonths"),"M");break;case 34:j.datepicker._adjustDate(l.target,l.ctrlKey?+j.datepicker._get(k,"stepBigMonths"):+j.datepicker._get(k,"stepMonths"),"M");break;case 35:(l.ctrlKey||l.metaKey)&&j.datepicker._clearDate(l.target),t=l.ctrlKey||l.metaKey;break;case 36:(l.ctrlKey||l.metaKey)&&j.datepicker._gotoToday(l.target),t=l.ctrlKey||l.metaKey;break;case 37:(l.ctrlKey||l.metaKey)&&j.datepicker._adjustDate(l.target,q?1:-1,"D"),t=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&j.datepicker._adjustDate(l.target,l.ctrlKey?-j.datepicker._get(k,"stepBigMonths"):-j.datepicker._get(k,"stepMonths"),"M");break;case 38:(l.ctrlKey||l.metaKey)&&j.datepicker._adjustDate(l.target,-7,"D"),t=l.ctrlKey||l.metaKey;break;case 39:(l.ctrlKey||l.metaKey)&&j.datepicker._adjustDate(l.target,q?-1:1,"D"),t=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&j.datepicker._adjustDate(l.target,l.ctrlKey?+j.datepicker._get(k,"stepBigMonths"):+j.datepicker._get(k,"stepMonths"),"M");break;case 40:(l.ctrlKey||l.metaKey)&&j.datepicker._adjustDate(l.target,7,"D"),t=l.ctrlKey||l.metaKey;break;default:t=!1}}else{36===l.keyCode&&l.ctrlKey?j.datepicker._showDatepicker(this):t=!1}t&&(l.preventDefault(),l.stopPropagation())},_doKeyPress:function(k){var m,l,e=j.datepicker._getInst(k.target);return j.datepicker._get(e,"constrainInput")?(m=j.datepicker._possibleChars(j.datepicker._get(e,"dateFormat")),l=String.fromCharCode(null==k.charCode?k.keyCode:k.charCode),k.ctrlKey||k.metaKey||" ">l||!m||m.indexOf(l)>-1):c},_doKeyUp:function(a){var k,m=j.datepicker._getInst(a.target);if(m.input.val()!==m.lastVal){try{k=j.datepicker.parseDate(j.datepicker._get(m,"dateFormat"),m.input?m.input.val():null,j.datepicker._getFormatConfig(m)),k&&(j.datepicker._setDateFromField(m),j.datepicker._updateAlternate(m),j.datepicker._updateDatepicker(m))}catch(l){}}return !0},_showDatepicker:function(m){if(m=m.target||m,"input"!==m.nodeName.toLowerCase()&&(m=j("input",m.parentNode)[0]),!j.datepicker._isDisabledDatepicker(m)&&j.datepicker._lastInput!==m){var p,v,k,u,t,n,q;p=j.datepicker._getInst(m),j.datepicker._curInst&&j.datepicker._curInst!==p&&(j.datepicker._curInst.dpDiv.stop(!0,!0),p&&j.datepicker._datepickerShowing&&j.datepicker._hideDatepicker(j.datepicker._curInst.input[0])),v=j.datepicker._get(p,"beforeShow"),k=v?v.apply(m,[m,p]):{},k!==!1&&(f(p.settings,k),p.lastVal=null,j.datepicker._lastInput=m,j.datepicker._setDateFromField(p),j.datepicker._inDialog&&(m.value=""),j.datepicker._pos||(j.datepicker._pos=j.datepicker._findPos(m),j.datepicker._pos[1]+=m.offsetHeight),u=!1,j(m).parents().each(function(){return u|="fixed"===j(this).css("position"),!u}),t={left:j.datepicker._pos[0],top:j.datepicker._pos[1]},j.datepicker._pos=null,p.dpDiv.empty(),p.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),j.datepicker._updateDatepicker(p),t=j.datepicker._checkOffset(p,t,u),p.dpDiv.css({position:j.datepicker._inDialog&&j.blockUI?"static":u?"fixed":"absolute",display:"none",left:t.left+"px",top:t.top+"px"}),p.inline||(n=j.datepicker._get(p,"showAnim"),q=j.datepicker._get(p,"duration"),p.dpDiv.zIndex(j(m).zIndex()+1),j.datepicker._datepickerShowing=!0,j.effects&&j.effects.effect[n]?p.dpDiv.show(n,j.datepicker._get(p,"showOptions"),q):p.dpDiv[n||"show"](n?q:null),j.datepicker._shouldFocusInput(p)&&p.input.focus(),j.datepicker._curInst=p))}},_updateDatepicker:function(a){this.maxRows=4,b=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var k,o=this._getNumberOfMonths(a),l=o[1],m=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),l>1&&a.dpDiv.addClass("ui-datepicker-multi-"+l).css("width",m*l+"em"),a.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a===j.datepicker._curInst&&j.datepicker._datepickerShowing&&j.datepicker._shouldFocusInput(a)&&a.input.focus(),a.yearshtml&&(k=a.yearshtml,setTimeout(function(){k===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),k=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(m,q,x){var u=m.dpDiv.outerWidth(),k=m.dpDiv.outerHeight(),w=m.input?m.input.outerWidth():0,v=m.input?m.input.outerHeight():0,p=document.documentElement.clientWidth+(x?0:j(document).scrollLeft()),t=document.documentElement.clientHeight+(x?0:j(document).scrollTop());return q.left-=this._get(m,"isRTL")?u-w:0,q.left-=x&&q.left===m.input.offset().left?j(document).scrollLeft():0,q.top-=x&&q.top===m.input.offset().top+v?j(document).scrollTop():0,q.left-=Math.min(q.left,q.left+u>p&&p>u?Math.abs(q.left+u-p):0),q.top-=Math.min(q.top,q.top+k>t&&t>k?Math.abs(k+v):0),q},_findPos:function(a){for(var k,m=this._getInst(a),l=this._get(m,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||j.expr.filters.hidden(a));){a=a[l?"previousSibling":"nextSibling"]}return k=j(a).offset(),[k.left,k.top]},_hideDatepicker:function(l){var m,r,p,k,q=this._curInst;!q||l&&q!==j.data(l,g)||this._datepickerShowing&&(m=this._get(q,"showAnim"),r=this._get(q,"duration"),p=function(){j.datepicker._tidyDialog(q)},j.effects&&(j.effects.effect[m]||j.effects[m])?q.dpDiv.hide(m,j.datepicker._get(q,"showOptions"),r,p):q.dpDiv["slideDown"===m?"slideUp":"fadeIn"===m?"fadeOut":"hide"](m?r:null,p),m||p(),this._datepickerShowing=!1,k=this._get(q,"onClose"),k&&k.apply(q.input?q.input[0]:null,[q.input?q.input.val():"",q]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),j.blockUI&&(j.unblockUI(),j("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(j.datepicker._curInst){var k=j(a.target),l=j.datepicker._getInst(k[0]);(k[0].id!==j.datepicker._mainDivId&&0===k.parents("#"+j.datepicker._mainDivId).length&&!k.hasClass(j.datepicker.markerClassName)&&!k.closest("."+j.datepicker._triggerClass).length&&j.datepicker._datepickerShowing&&(!j.datepicker._inDialog||!j.blockUI)||k.hasClass(j.datepicker.markerClassName)&&j.datepicker._curInst!==l)&&j.datepicker._hideDatepicker()}},_adjustDate:function(l,m,p){var o=j(l),k=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(k,m+("M"===p?this._get(k,"showCurrentAtPos"):0),p),this._updateDatepicker(k))},_gotoToday:function(a){var k,m=j(a),l=this._getInst(m[0]);this._get(l,"gotoCurrent")&&l.currentDay?(l.selectedDay=l.currentDay,l.drawMonth=l.selectedMonth=l.currentMonth,l.drawYear=l.selectedYear=l.currentYear):(k=new Date,l.selectedDay=k.getDate(),l.drawMonth=l.selectedMonth=k.getMonth(),l.drawYear=l.selectedYear=k.getFullYear()),this._notifyChange(l),this._adjustDate(m)},_selectMonthYear:function(l,m,p){var o=j(l),k=this._getInst(o[0]);k["selected"+("M"===p?"Month":"Year")]=k["draw"+("M"===p?"Month":"Year")]=parseInt(m.options[m.selectedIndex].value,10),this._notifyChange(k),this._adjustDate(o)},_selectDay:function(l,m,q,o){var k,p=j(l);j(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(p[0])||(k=this._getInst(p[0]),k.selectedDay=k.currentDay=j("a",o).html(),k.selectedMonth=k.currentMonth=m,k.selectedYear=k.currentYear=q,this._selectDate(l,this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear)))},_clearDate:function(a){var k=j(a);this._selectDate(k,"")},_selectDate:function(l,m){var p,o=j(l),k=this._getInst(o[0]);m=null!=m?m:this._formatDate(k),k.input&&k.input.val(m),this._updateAlternate(k),p=this._get(k,"onSelect"),p?p.apply(k.input?k.input[0]:null,[m,k]):k.input&&k.input.trigger("change"),k.inline?this._updateDatepicker(k):(this._hideDatepicker(),this._lastInput=k.input[0],"object"!=typeof k.input[0]&&k.input.focus(),this._lastInput=null)},_updateAlternate:function(l){var m,p,o,k=this._get(l,"altField");k&&(m=this._get(l,"altFormat")||this._get(l,"dateFormat"),p=this._getDate(l),o=this.formatDate(m,p,this._getFormatConfig(l)),j(k).each(function(){j(this).val(o)}))},noWeekends:function(i){var a=i.getDay();return[a>0&&6>a,""]},iso8601Week:function(l){var a,k=new Date(l.getTime());return k.setDate(k.getDate()+4-(k.getDay()||7)),a=k.getTime(),k.setMonth(0),k.setDate(1),Math.floor(Math.round((a-k)/86400000)/7)+1},parseDate:function(G,O,K){if(null==G||null==O){throw"Invalid arguments"}if(O="object"==typeof O?""+O:O+"",""===O){return null}var q,N,L,F,I=0,z=(K?K.shortYearCutoff:null)||this._defaults.shortYearCutoff,P="string"!=typeof z?z:(new Date).getFullYear()%100+parseInt(z,10),A=(K?K.dayNamesShort:null)||this._defaults.dayNamesShort,M=(K?K.dayNames:null)||this._defaults.dayNames,C=(K?K.monthNamesShort:null)||this._defaults.monthNamesShort,J=(K?K.monthNames:null)||this._defaults.monthNames,E=-1,Q=-1,e=-1,t=-1,T=!1,S=function(i){var a=G.length>q+1&&G.charAt(q+1)===i;return a&&q++,a},H=function(p){var l=S(p),m="@"===p?14:"!"===p?20:"y"===p&&l?4:"o"===p?3:2,o=RegExp("^\\d{1,"+m+"}"),k=O.substring(I).match(o);if(!k){throw"Missing number at position "+I}return I+=k[0].length,parseInt(k[0],10)},R=function(l,m,k){var s=-1,p=j.map(S(l)?k:m,function(i,a){return[[a,i]]}).sort(function(i,a){return -(i[1].length-a[1].length)});if(j.each(p,function(r,a){var o=a[1];return O.substr(I,o.length).toLowerCase()===o.toLowerCase()?(s=a[0],I+=o.length,!1):c}),-1!==s){return s+1}throw"Unknown name at position "+I},B=function(){if(O.charAt(I)!==G.charAt(q)){throw"Unexpected literal at position "+I}I++};for(q=0;G.length>q;q++){if(T){"'"!==G.charAt(q)||S("'")?B():T=!1}else{switch(G.charAt(q)){case"d":e=H("d");break;case"D":R("D",A,M);break;case"o":t=H("o");break;case"m":Q=H("m");break;case"M":Q=R("M",C,J);break;case"y":E=H("y");break;case"@":F=new Date(H("@")),E=F.getFullYear(),Q=F.getMonth()+1,e=F.getDate();break;case"!":F=new Date((H("!")-this._ticksTo1970)/10000),E=F.getFullYear(),Q=F.getMonth()+1,e=F.getDate();break;case"'":S("'")?B():T=!0;break;default:B()}}}if(O.length>I&&(L=O.substr(I),!/^\s+/.test(L))){throw"Extra/unparsed characters found in date: "+L}if(-1===E?E=(new Date).getFullYear():100>E&&(E+=(new Date).getFullYear()-(new Date).getFullYear()%100+(P>=E?0:-100)),t>-1){for(Q=1,e=t;;){if(N=this._getDaysInMonth(E,Q-1),N>=e){break}Q++,e-=N}}if(F=this._daylightSavingAdjust(new Date(E,Q-1,e)),F.getFullYear()!==E||F.getMonth()+1!==Q||F.getDate()!==e){throw"Invalid date"}return F},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(C,q,w){if(!q){return""}var B,y=(w?w.dayNamesShort:null)||this._defaults.dayNamesShort,k=(w?w.dayNames:null)||this._defaults.dayNames,A=(w?w.monthNamesShort:null)||this._defaults.monthNamesShort,z=(w?w.monthNames:null)||this._defaults.monthNames,v=function(a){var l=C.length>B+1&&C.charAt(B+1)===a;return l&&B++,l},x=function(o,a,l){var n=""+a;if(v(o)){for(;l>n.length;){n="0"+n}}return n},m=function(o,a,l,n){return v(o)?n[a]:l[a]},D="",p=!1;if(q){for(B=0;C.length>B;B++){if(p){"'"!==C.charAt(B)||v("'")?D+=C.charAt(B):p=!1}else{switch(C.charAt(B)){case"d":D+=x("d",q.getDate(),2);break;case"D":D+=m("D",q.getDay(),y,k);break;case"o":D+=x("o",Math.round((new Date(q.getFullYear(),q.getMonth(),q.getDate()).getTime()-new Date(q.getFullYear(),0,0).getTime())/86400000),3);break;case"m":D+=x("m",q.getMonth()+1,2);break;case"M":D+=m("M",q.getMonth(),A,z);break;case"y":D+=v("y")?q.getFullYear():(10>q.getYear()%100?"0":"")+q.getYear()%100;break;case"@":D+=q.getTime();break;case"!":D+=10000*q.getTime()+this._ticksTo1970;break;case"'":v("'")?D+="'":p=!0;break;default:D+=C.charAt(B)}}}}return D},_possibleChars:function(o){var a,k="",m=!1,l=function(e){var n=o.length>a+1&&o.charAt(a+1)===e;return n&&a++,n};for(a=0;o.length>a;a++){if(m){"'"!==o.charAt(a)||l("'")?k+=o.charAt(a):m=!1}else{switch(o.charAt(a)){case"d":case"m":case"y":case"@":k+="0123456789";break;case"D":case"M":return null;case"'":l("'")?k+="'":m=!0;break;default:k+=o.charAt(a)}}}return k},_get:function(e,a){return e.settings[a]!==c?e.settings[a]:this._defaults[a]},_setDateFromField:function(w,l){if(w.input.val()!==w.lastVal){var m=this._get(w,"dateFormat"),v=w.lastVal=w.input?w.input.val():null,p=this._getDefaultDate(w),k=p,u=this._getFormatConfig(w);try{k=this.parseDate(m,v,u)||p}catch(q){v=l?"":v}w.selectedDay=k.getDate(),w.drawMonth=w.selectedMonth=k.getMonth(),w.drawYear=w.selectedYear=k.getFullYear(),w.currentDay=v?k.getDate():0,w.currentMonth=v?k.getMonth():0,w.currentYear=v?k.getFullYear():0,this._adjustInstDate(w)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(l,m,q){var o=function(i){var a=new Date;return a.setDate(a.getDate()+i),a},k=function(u){try{return j.datepicker.parseDate(j.datepicker._get(l,"dateFormat"),u,j.datepicker._getFormatConfig(l))}catch(z){}for(var w=(u.toLowerCase().match(/^c/)?j.datepicker._getDate(l):null)||new Date,e=w.getFullYear(),y=w.getMonth(),x=w.getDate(),t=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,v=t.exec(u);v;){switch(v[2]||"d"){case"d":case"D":x+=parseInt(v[1],10);break;case"w":case"W":x+=7*parseInt(v[1],10);break;case"m":case"M":y+=parseInt(v[1],10),x=Math.min(x,j.datepicker._getDaysInMonth(e,y));break;case"y":case"Y":e+=parseInt(v[1],10),x=Math.min(x,j.datepicker._getDaysInMonth(e,y))}v=t.exec(u)}return new Date(e,y,x)},p=null==m||""===m?q:"string"==typeof m?k(m):"number"==typeof m?isNaN(m)?q:o(m):new Date(m.getTime());return p=p&&"Invalid Date"==""+p?q:p,p&&(p.setHours(0),p.setMinutes(0),p.setSeconds(0),p.setMilliseconds(0)),this._daylightSavingAdjust(p)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(u,l,m){var q=!l,o=u.selectedMonth,k=u.selectedYear,p=this._restrictMinMax(u,this._determineDate(u,l,new Date));u.selectedDay=u.currentDay=p.getDate(),u.drawMonth=u.selectedMonth=u.currentMonth=p.getMonth(),u.drawYear=u.selectedYear=u.currentYear=p.getFullYear(),o===u.selectedMonth&&k===u.selectedYear||m||this._notifyChange(u),this._adjustInstDate(u),u.input&&u.input.val(q?"":this._formatDate(u))},_getDate:function(i){var a=!i.currentYear||i.input&&""===i.input.val()?null:this._daylightSavingAdjust(new Date(i.currentYear,i.currentMonth,i.currentDay));return a},_attachHandlers:function(a){var k=this._get(a,"stepMonths"),l="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var i={prev:function(){j.datepicker._adjustDate(l,-k,"M")},next:function(){j.datepicker._adjustDate(l,+k,"M")},hide:function(){j.datepicker._hideDatepicker()},today:function(){j.datepicker._gotoToday(l)},selectDay:function(){return j.datepicker._selectDay(l,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return j.datepicker._selectMonthYear(l,this,"M"),!1},selectYear:function(){return j.datepicker._selectMonthYear(l,this,"Y"),!1}};j(this).bind(this.getAttribute("data-event"),i[this.getAttribute("data-handler")])})},_generateHTML:function(aP){var ak,at,aN,aD,ac,aL,aF,aq,az,ag,aS,ai,aH,am,aB,ao,aU,ab,ae,a0,aY,ax,aW,aj,aQ,ah,aC,aO,aE,au,aI,ad,a2,ar,al,an,aG,aX,av,aM=new Date,aA=this._daylightSavingAdjust(new Date(aM.getFullYear(),aM.getMonth(),aM.getDate())),a1=this._get(aP,"isRTL"),af=this._get(aP,"showButtonPanel"),aw=this._get(aP,"hideIfNoPrevNext"),ay=this._get(aP,"navigationAsDateFormat"),aK=this._getNumberOfMonths(aP),aV=this._get(aP,"showCurrentAtPos"),aT=this._get(aP,"stepMonths"),aJ=1!==aK[0]||1!==aK[1],aZ=this._daylightSavingAdjust(aP.currentDay?new Date(aP.currentYear,aP.currentMonth,aP.currentDay):new Date(9999,9,9)),ap=this._getMinMaxDate(aP,"min"),aa=this._getMinMaxDate(aP,"max"),a3=aP.drawMonth-aV,aR=aP.drawYear;if(0>a3&&(a3+=12,aR--),aa){for(ak=this._daylightSavingAdjust(new Date(aa.getFullYear(),aa.getMonth()-aK[0]*aK[1]+1,aa.getDate())),ak=ap&&ap>ak?ap:ak;this._daylightSavingAdjust(new Date(aR,a3,1))>ak;){a3--,0>a3&&(a3=11,aR--)}}for(aP.drawMonth=a3,aP.drawYear=aR,at=this._get(aP,"prevText"),at=ay?this.formatDate(at,this._daylightSavingAdjust(new Date(aR,a3-aT,1)),this._getFormatConfig(aP)):at,aN=this._canAdjustMonth(aP,-1,aR,a3)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+at+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"e":"w")+"'>"+at+"</span></a>":aw?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+at+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"e":"w")+"'>"+at+"</span></a>",aD=this._get(aP,"nextText"),aD=ay?this.formatDate(aD,this._daylightSavingAdjust(new Date(aR,a3+aT,1)),this._getFormatConfig(aP)):aD,ac=this._canAdjustMonth(aP,1,aR,a3)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aD+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"w":"e")+"'>"+aD+"</span></a>":aw?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aD+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"w":"e")+"'>"+aD+"</span></a>",aL=this._get(aP,"currentText"),aF=this._get(aP,"gotoCurrent")&&aP.currentDay?aZ:aA,aL=ay?this.formatDate(aL,aF,this._getFormatConfig(aP)):aL,aq=aP.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aP,"closeText")+"</button>",az=af?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(a1?aq:"")+(this._isInRange(aP,aF)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aL+"</button>":"")+(a1?"":aq)+"</div>":"",ag=parseInt(this._get(aP,"firstDay"),10),ag=isNaN(ag)?0:ag,aS=this._get(aP,"showWeek"),ai=this._get(aP,"dayNames"),aH=this._get(aP,"dayNamesMin"),am=this._get(aP,"monthNames"),aB=this._get(aP,"monthNamesShort"),ao=this._get(aP,"beforeShowDay"),aU=this._get(aP,"showOtherMonths"),ab=this._get(aP,"selectOtherMonths"),ae=this._getDefaultDate(aP),a0="",ax=0;aK[0]>ax;ax++){for(aW="",this.maxRows=4,aj=0;aK[1]>aj;aj++){if(aQ=this._daylightSavingAdjust(new Date(aR,a3,aP.selectedDay)),ah=" ui-corner-all",aC="",aJ){if(aC+="<div class='ui-datepicker-group",aK[1]>1){switch(aj){case 0:aC+=" ui-datepicker-group-first",ah=" ui-corner-"+(a1?"right":"left");break;case aK[1]-1:aC+=" ui-datepicker-group-last",ah=" ui-corner-"+(a1?"left":"right");break;default:aC+=" ui-datepicker-group-middle",ah=""}}aC+="'>"}for(aC+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ah+"'>"+(/all|left/.test(ah)&&0===ax?a1?ac:aN:"")+(/all|right/.test(ah)&&0===ax?a1?aN:ac:"")+this._generateMonthYearHeader(aP,a3,aR,ap,aa,ax>0||aj>0,am,aB)+"</div><table class='ui-datepicker-calendar'><thead><tr>",aO=aS?"<th class='ui-datepicker-week-col'>"+this._get(aP,"weekHeader")+"</th>":"",aY=0;7>aY;aY++){aE=(aY+ag)%7,aO+="<th"+((aY+ag+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ai[aE]+"'>"+aH[aE]+"</span></th>"}for(aC+=aO+"</tr></thead><tbody>",au=this._getDaysInMonth(aR,a3),aR===aP.selectedYear&&a3===aP.selectedMonth&&(aP.selectedDay=Math.min(aP.selectedDay,au)),aI=(this._getFirstDayOfMonth(aR,a3)-ag+7)%7,ad=Math.ceil((aI+au)/7),a2=aJ?this.maxRows>ad?this.maxRows:ad:ad,this.maxRows=a2,ar=this._daylightSavingAdjust(new Date(aR,a3,1-aI)),al=0;a2>al;al++){for(aC+="<tr>",an=aS?"<td class='ui-datepicker-week-col'>"+this._get(aP,"calculateWeek")(ar)+"</td>":"",aY=0;7>aY;aY++){aG=ao?ao.apply(aP.input?aP.input[0]:null,[ar]):[!0,""],aX=ar.getMonth()!==a3,av=aX&&!ab||!aG[0]||ap&&ap>ar||aa&&ar>aa,an+="<td class='"+((aY+ag+6)%7>=5?" ui-datepicker-week-end":"")+(aX?" ui-datepicker-other-month":"")+(ar.getTime()===aQ.getTime()&&a3===aP.selectedMonth&&aP._keyEvent||ae.getTime()===ar.getTime()&&ae.getTime()===aQ.getTime()?" "+this._dayOverClass:"")+(av?" "+this._unselectableClass+" ui-state-disabled":"")+(aX&&!aU?"":" "+aG[1]+(ar.getTime()===aZ.getTime()?" "+this._currentClass:"")+(ar.getTime()===aA.getTime()?" ui-datepicker-today":""))+"'"+(aX&&!aU||!aG[2]?"":" title='"+aG[2].replace(/'/g,"&#39;")+"'")+(av?"":" data-handler='selectDay' data-event='click' data-month='"+ar.getMonth()+"' data-year='"+ar.getFullYear()+"'")+">"+(aX&&!aU?"&#xa0;":av?"<span class='ui-state-default'>"+ar.getDate()+"</span>":"<a class='ui-state-default"+(ar.getTime()===aA.getTime()?" ui-state-highlight":"")+(ar.getTime()===aZ.getTime()?" ui-state-active":"")+(aX?" ui-priority-secondary":"")+"' href='#'>"+ar.getDate()+"</a>")+"</td>",ar.setDate(ar.getDate()+1),ar=this._daylightSavingAdjust(ar)}aC+=an+"</tr>"}a3++,a3>11&&(a3=0,aR++),aC+="</tbody></table>"+(aJ?"</div>"+(aK[0]>0&&aj===aK[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aW+=aC}a0+=aW}return a0+=az,aP._keyEvent=!1,a0},_generateMonthYearHeader:function(M,A,E,L,H,q,K,I){var D,F,x,N,z,J,B,G,C=this._get(M,"changeMonth"),O=this._get(M,"changeYear"),k=this._get(M,"showMonthAfterYear"),w="<div class='ui-datepicker-title'>",P="";if(q||!C){P+="<span class='ui-datepicker-month'>"+K[A]+"</span>"}else{for(D=L&&L.getFullYear()===E,F=H&&H.getFullYear()===E,P+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",x=0;12>x;x++){(!D||x>=L.getMonth())&&(!F||H.getMonth()>=x)&&(P+="<option value='"+x+"'"+(x===A?" selected='selected'":"")+">"+I[x]+"</option>")}P+="</select>"}if(k||(w+=P+(!q&&C&&O?"":"&#xa0;")),!M.yearshtml){if(M.yearshtml="",q||!O){w+="<span class='ui-datepicker-year'>"+E+"</span>"}else{for(N=this._get(M,"yearRange").split(":"),z=(new Date).getFullYear(),J=function(i){var a=i.match(/c[+\-].*/)?E+parseInt(i.substring(1),10):i.match(/[+\-].*/)?z+parseInt(i,10):parseInt(i,10);return isNaN(a)?z:a},B=J(N[0]),G=Math.max(B,J(N[1]||"")),B=L?Math.max(B,L.getFullYear()):B,G=H?Math.min(G,H.getFullYear()):G,M.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";G>=B;B++){M.yearshtml+="<option value='"+B+"'"+(B===E?" selected='selected'":"")+">"+B+"</option>"}M.yearshtml+="</select>",w+=M.yearshtml,M.yearshtml=null}}return w+=this._get(M,"yearSuffix"),k&&(w+=(!q&&C&&O?"":"&#xa0;")+P),w+="</div>"},_adjustInstDate:function(u,l,m){var q=u.drawYear+("Y"===m?l:0),o=u.drawMonth+("M"===m?l:0),k=Math.min(u.selectedDay,this._getDaysInMonth(q,o))+("D"===m?l:0),p=this._restrictMinMax(u,this._daylightSavingAdjust(new Date(q,o,k)));u.selectedDay=p.getDate(),u.drawMonth=u.selectedMonth=p.getMonth(),u.drawYear=u.selectedYear=p.getFullYear(),("M"===m||"Y"===m)&&this._notifyChange(u)},_restrictMinMax:function(o,a){var k=this._getMinMaxDate(o,"min"),m=this._getMinMaxDate(o,"max"),l=k&&k>a?k:a;return m&&l>m?m:l},_notifyChange:function(i){var a=this._get(i,"onChangeMonthYear");a&&a.apply(i.input?i.input[0]:null,[i.selectedYear,i.selectedMonth+1,i])},_getNumberOfMonths:function(i){var a=this._get(i,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(i,a){return this._determineDate(i,this._get(i,a+"Date"),null)},_getDaysInMonth:function(i,a){return 32-this._daylightSavingAdjust(new Date(i,a,32)).getDate()},_getFirstDayOfMonth:function(i,a){return new Date(i,a,1).getDay()},_canAdjustMonth:function(q,l,m,p){var o=this._getNumberOfMonths(q),k=this._daylightSavingAdjust(new Date(m,p+(0>l?l:o[0]*o[1]),1));return 0>l&&k.setDate(this._getDaysInMonth(k.getFullYear(),k.getMonth())),this._isInRange(q,k)},_isInRange:function(x,l){var p,w,q=this._getMinMaxDate(x,"min"),k=this._getMinMaxDate(x,"max"),v=null,u=null,m=this._get(x,"yearRange");return m&&(p=m.split(":"),w=(new Date).getFullYear(),v=parseInt(p[0],10),u=parseInt(p[1],10),p[0].match(/[+\-].*/)&&(v+=w),p[1].match(/[+\-].*/)&&(u+=w)),(!q||l.getTime()>=q.getTime())&&(!k||l.getTime()<=k.getTime())&&(!v||l.getFullYear()>=v)&&(!u||u>=l.getFullYear())},_getFormatConfig:function(i){var a=this._get(i,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(i,"dayNamesShort"),dayNames:this._get(i,"dayNames"),monthNamesShort:this._get(i,"monthNamesShort"),monthNames:this._get(i,"monthNames")}},_formatDate:function(o,a,k,m){a||(o.currentDay=o.selectedDay,o.currentMonth=o.selectedMonth,o.currentYear=o.selectedYear);var l=a?"object"==typeof a?a:this._daylightSavingAdjust(new Date(m,k,a)):this._daylightSavingAdjust(new Date(o.currentYear,o.currentMonth,o.currentDay));return this.formatDate(this._get(o,"dateFormat"),l,this._getFormatConfig(o))}}),j.fn.datepicker=function(a){if(!this.length){return this}j.datepicker.initialized||(j(document).mousedown(j.datepicker._checkExternalClick),j.datepicker.initialized=!0),0===j("#"+j.datepicker._mainDivId).length&&j("body").append(j.datepicker.dpDiv);var k=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?j.datepicker["_"+a+"Datepicker"].apply(j.datepicker,[this[0]].concat(k)):this.each(function(){"string"==typeof a?j.datepicker["_"+a+"Datepicker"].apply(j.datepicker,[this].concat(k)):j.datepicker._attachDatepicker(this,a)}):j.datepicker["_"+a+"Datepicker"].apply(j.datepicker,[this[0]].concat(k))},j.datepicker=new d,j.datepicker.initialized=!1,j.datepicker.uuid=(new Date).getTime(),j.datepicker.version="1.10.3"})(jQuery);(function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(b){this.options.disabled&&b.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(d,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(d,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function f(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var l,g,b,j,k,d=!0;switch(c.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(c);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case a.ui.keyCode.HOME:this._move("first","first",c);break;case a.ui.keyCode.END:this._move("last","last",c);break;case a.ui.keyCode.UP:this.previous(c);break;case a.ui.keyCode.DOWN:this.next(c);break;case a.ui.keyCode.LEFT:this.collapse(c);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(c);break;case a.ui.keyCode.ESCAPE:this.collapse(c);break;default:d=!1,g=this.previousFilter||"",b=String.fromCharCode(c.keyCode),j=!1,clearTimeout(this.filterTimer),b===g?j=!0:b=g+b,k=RegExp("^"+f(b),"i"),l=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())}),l=j&&-1!==l.index(this.active.next())?this.active.nextAll(".ui-menu-item"):l,l.length||(b=String.fromCharCode(c.keyCode),k=RegExp("^"+f(b),"i"),l=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())})),l.length?(this.focus(c,l),l.length>1?(this.previousFilter=b,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}d&&c.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var f=a(this),h=f.prev("a"),g=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);h.attr("aria-haspopup","true").prepend(g),f.attr("aria-labelledby",h.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var f=a(this);/[^\-\u2014\u2013\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,b){"icons"===c&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(c,b)},focus:function(f,b){var c,d;this.blur(f,f&&"focus"===f.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),f&&"keydown"===f.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(f.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",f,{item:b})},_scrollIntoView:function(c){var d,j,f,b,g,h;this._hasScroll()&&(d=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,j=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,f=c.offset().top-this.activeMenu.offset().top-d-j,b=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=c.height(),0>f?this.activeMenu.scrollTop(b+f):f+h>g&&this.activeMenu.scrollTop(b+f-g+h))},blur:function(c,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",c,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer),"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(b)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element),b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(c){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(c,b))},expand:function(c){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(c,b)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,b,c){var d;this.active&&(d="first"===f||"last"===f?this.active["first"===f?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[f+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,f,d;return this.active?(this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),0>c.offset().top-f-d}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(b),undefined)},previousPage:function(b){var c,f,d;return this.active?(this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-f+d>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(b),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})})(jQuery);(function(b){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var d,f,j=this.options,g=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(f=j.values&&j.values.length||1,g.length>f&&(g.slice(f).remove(),g=g.slice(0,f)),d=g.length;f>d;d++){h.push(c)}this.handles=g.add(b(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){b(this).data("ui-slider-handle-index",i)})},_createRange:function(){var c=this.options,d="";c.range?(c.range===!0&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:b.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=b("<div></div>").appendTo(this.element),d="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(d+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):this.range=b([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(g){var k,v,p,d,q,t,j,m,w=this,f=this.options;return f.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:g.pageX,y:g.pageY},v=this._normValueFromMouse(k),p=this._valueMax()-this._valueMin()+1,this.handles.each(function(c){var h=Math.abs(v-w.values(c));(p>h||p===h&&(c===w._lastChangedValue||w.values(c)===f.min))&&(p=h,d=b(this),q=c)}),t=this._start(g,q),t===!1?!1:(this._mouseSliding=!0,this._handleIndex=q,d.addClass("ui-state-active").focus(),j=d.offset(),m=!b(g.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=m?{left:0,top:0}:{left:g.pageX-j.left-d.width()/2,top:g.pageY-j.top-d.height()/2-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(g,q,v),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(f){var c={x:f.pageX,y:f.pageY},d=this._normValueFromMouse(c);return this._slide(f,this._handleIndex,d),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(j){var d,f,h,g,c;return"horizontal"===this.orientation?(d=this.elementSize.width,f=j.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,f=j.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=f/d,h>1&&(h=1),0>h&&(h=0),"vertical"===this.orientation&&(h=1-h),g=this._valueMax()-this._valueMin(),c=this._valueMin()+h*g,this._trimAlignValue(c)},_start:function(f,c){var d={handle:this.handles[c],value:this.value()};return this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values()),this._trigger("start",f,d)},_slide:function(j,d,f){var h,g,c;this.options.values&&this.options.values.length?(h=this.values(d?0:1),2===this.options.values.length&&this.options.range===!0&&(0===d&&f>h||1===d&&h>f)&&(f=h),f!==this.values(d)&&(g=this.values(),g[d]=f,c=this._trigger("slide",j,{handle:this.handles[d],value:f,values:g}),h=this.values(d?0:1),c!==!1&&this.values(d,f,!0))):f!==this.value()&&(c=this._trigger("slide",j,{handle:this.handles[d],value:f}),c!==!1&&this.value(f))},_stop:function(f,c){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values()),this._trigger("stop",f,d)},_change:function(f,c){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values()),this._lastChangedValue=c,this._trigger("change",f,d)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(d,f){var h,g,c;if(arguments.length>1){return this.options.values[d]=this._trimAlignValue(f),this._refreshValue(),this._change(null,d),undefined}if(!arguments.length){return this._values()}if(!b.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(d):this.value()}for(h=this.options.values,g=arguments[0],c=0;h.length>c;c+=1){h[c]=this._trimAlignValue(g[c]),this._change(null,c)}this._refreshValue()},_setOption:function(c,d){var g,f=0;switch("range"===c&&this.options.range===!0&&("min"===d?(this.options.value=this._values(0),this.options.values=null):"max"===d&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),b.isArray(this.options.values)&&(f=this.options.values.length),b.Widget.prototype._setOption.apply(this,arguments),c){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),g=0;f>g;g+=1){this._change(null,g)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(g){var c,d,f;if(arguments.length){return c=this.options.values[g],c=this._trimAlignValue(c)}if(this.options.values&&this.options.values.length){for(d=this.options.values.slice(),f=0;d.length>f;f+=1){d[f]=this._trimAlignValue(d[f])}return d}return[]},_trimAlignValue:function(g){if(this._valueMin()>=g){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var c=this.options.step>0?this.options.step:1,d=(g-this._valueMin())%c,f=g-d;return 2*Math.abs(d)>=c&&(f+=d>0?c:-c),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var d,g,q,k,c,m=this.options.range,p=this.options,f=this,j=this._animateOff?!1:p.animate,t={};this.options.values&&this.options.values.length?this.handles.each(function(e){g=100*((f.values(e)-f._valueMin())/(f._valueMax()-f._valueMin())),t["horizontal"===f.orientation?"left":"bottom"]=g+"%",b(this).stop(1,1)[j?"animate":"css"](t,p.animate),f.options.range===!0&&("horizontal"===f.orientation?(0===e&&f.range.stop(1,1)[j?"animate":"css"]({left:g+"%"},p.animate),1===e&&f.range[j?"animate":"css"]({width:g-d+"%"},{queue:!1,duration:p.animate})):(0===e&&f.range.stop(1,1)[j?"animate":"css"]({bottom:g+"%"},p.animate),1===e&&f.range[j?"animate":"css"]({height:g-d+"%"},{queue:!1,duration:p.animate}))),d=g}):(q=this.value(),k=this._valueMin(),c=this._valueMax(),g=c!==k?100*((q-k)/(c-k)):0,t["horizontal"===this.orientation?"left":"bottom"]=g+"%",this.handle.stop(1,1)[j?"animate":"css"](t,p.animate),"min"===m&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:g+"%"},p.animate),"max"===m&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:p.animate}),"min"===m&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:g+"%"},p.animate),"max"===m&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:p.animate}))},_handleEvents:{keydown:function(d){var h,e,c,f,g=b(d.target).data("ui-slider-handle-index");switch(d.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,b(d.target).addClass("ui-state-active"),h=this._start(d,g),h===!1)){return}}switch(f=this.options.step,e=c=this.options.values&&this.options.values.length?this.values(g):this.value(),d.keyCode){case b.ui.keyCode.HOME:c=this._valueMin();break;case b.ui.keyCode.END:c=this._valueMax();break;case b.ui.keyCode.PAGE_UP:c=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/a);break;case b.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/a);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(e===this._valueMax()){return}c=this._trimAlignValue(e+f);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(e===this._valueMin()){return}c=this._trimAlignValue(e-f)}this._slide(d,g,c)},click:function(c){c.preventDefault()},keyup:function(c){var d=b(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,d),this._change(c,d),b(c.target).removeClass("ui-state-active"))}}})})(jQuery);/* Backstretch - v2.0.4 - 2013-06-19
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2013 Scott Robbin; Licensed MIT */
(function(j,i,l){j.fn.backstretch=function(a,b){if(a===l||a.length===0){j.error("No images were supplied for Backstretch")}if(j(i).scrollTop()===0){i.scrollTo(0,0)}return this.each(function(){var d=j(this),c=d.data("backstretch");if(c){if(typeof a=="string"&&typeof c[a]=="function"){c[a](b);return}b=j.extend(c.options,b);c.destroy(true)}c=new g(this,a,b);d.data("backstretch",c)})};j.backstretch=function(a,b){return j("body").backstretch(a,b).data("backstretch")};j.expr[":"].backstretch=function(a){return j(a).data("backstretch")!==l};j.fn.backstretch.defaults={centeredX:true,centeredY:true,duration:5000,fade:0,fadeFirstImage:false};var h={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999}};var g=function(c,b,e){this.options=j.extend({},j.fn.backstretch.defaults,e||{});this.firstShow=!this.options.fadeFirstImage;this.images=j.isArray(b)?b:[b];j.each(this.images,function(){j("<img />")[0].src=this});this.isBody=c===document.body;this.$container=j(c);this.$root=this.isBody?k?j(i):j(document):this.$container;var d=this.$container.children(".backstretch").first();this.$wrap=d.length?d:j('<div class="backstretch"></div>').css(h.wrap).appendTo(this.$container);if(!this.isBody){var a=this.$container.css("position"),f=this.$container.css("zIndex");this.$container.css({position:a==="static"?"relative":a,zIndex:f==="auto"?0:f,background:"none"});this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&k?"fixed":"absolute"});this.index=0;this.show(this.index);j(i).on("resize.backstretch",j.proxy(this.resize,this)).on("orientationchange.backstretch",j.proxy(function(){if(this.isBody&&i.pageYOffset===0){i.scrollTo(0,1);this.resize()}},this))};g.prototype={resize:function(){try{var d={left:0,top:0},b=this.isBody?this.$root.width():this.$root.innerWidth(),n=b,c=this.isBody?(i.innerHeight?i.innerHeight:this.$root.height()):this.$root.innerHeight(),a=n/this.$img.data("ratio"),f;if(a>=c){f=(a-c)/2;if(this.options.centeredY){d.top="-"+f+"px"}}else{a=c;n=a*this.$img.data("ratio");f=(n-b)/2;if(this.options.centeredX){d.left="-"+f+"px"}}this.$wrap.css({width:b,height:c}).find("img:not(.deleteable)").css({width:n,height:a}).css(d)}catch(e){}return this},show:function(d){if(Math.abs(d)>this.images.length-1){return}var b=this,c=b.$wrap.find("img").addClass("deleteable"),a={relatedTarget:b.$container[0]};b.$container.trigger(j.Event("backstretch.before",a),[b,d]);this.index=d;clearInterval(b.interval);b.$img=j("<img />").css(h.img).bind("load",function(n){var f=this.width||j(n.target).width(),e=this.height||j(n.target).height();j(this).data("ratio",f/e);b.oldSpeed=b.options.speed;b.oldFade=b.options.fade;if(b.firstShow){b.options.speed=l;b.options.fade=0;b.firstShow=false}j(this).fadeIn(b.options.speed||b.options.fade,function(){b.options.speed=b.oldSpeed;b.options.fade=b.oldFade;c.remove();if(!b.paused){b.cycle()}j(["after","show"]).each(function(){b.$container.trigger(j.Event("backstretch."+this,a),[b,d])})});b.resize()}).appendTo(b.$wrap);b.$img.attr("src",b.images[d]);return b},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(this.index===0?this.images.length-1:this.index-1)},pause:function(){this.paused=true;return this},resume:function(){this.paused=false;this.next();return this},cycle:function(){if(this.images.length>1){clearInterval(this.interval);this.interval=setInterval(j.proxy(function(){if(!this.paused){this.next()}},this),this.options.duration)}return this},destroy:function(a){j(i).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);if(!a){this.$wrap.remove()}this.$container.removeData("backstretch")}};var k=(function(){var b=navigator.userAgent,d=navigator.platform,t=b.match(/AppleWebKit\/([0-9]+)/),r=!!t&&t[1],c=b.match(/Fennec\/([0-9]+)/),f=!!c&&c[1],q=b.match(/Opera Mobi\/([0-9]+)/),a=!!q&&q[1],e=b.match(/MSIE ([0-9]+)/),s=!!e&&e[1];return !(((d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&r&&r<534)||(i.operamini&&({}).toString.call(i.operamini)==="[object OperaMini]")||(q&&a<7458)||(b.indexOf("Android")>-1&&r&&r<533)||(f&&f<6)||("palmGetResource" in i&&r&&r<534)||(b.indexOf("MeeGo")>-1&&b.indexOf("NokiaBrowser/8.5.0")>-1)||(s&&s<=6))}())}(jQuery,window));(function(a){function b(e,f){f=f||{};var d=this,g=f.query||"> :even";a.extend(d,{$el:e,options:f,sections:[],isAccordion:f.accordion||false,db:f.persist?jQueryCollapseStorage(e[0].id):false});d.states=d.db?d.db.read():[];d.$el.find(g).each(function(){var h=new c(a(this),d);d.sections.push(h);var i=d.states[h._index()];if(i===0){h.$summary.removeClass("open")}if(i===1){h.$summary.addClass("open")}if(h.$summary.hasClass("open")){h.open(true)}else{h.close(true)}});(function(h){d.$el.on("click","[data-collapse-summary]",a.proxy(d.handleClick,h))}(d))}b.prototype={handleClick:function(d){d.preventDefault();var g=this.sections,f=g.length;while(f--){if(a.contains(g[f].$summary[0],d.target)){g[f].toggle();break}}},open:function(d){if(isFinite(d)){return this.sections[d].open()}a.each(this.sections,function(){this.open()})},close:function(d){if(isFinite(d)){return this.sections[d].close()}a.each(this.sections,function(){this.close()})}};function c(d,e){a.extend(this,{isOpen:false,$summary:d.attr("data-collapse-summary","").wrapInner('<a href="#"/>'),$details:d.next(),options:e.options,parent:e})}c.prototype={toggle:function(){if(this.isOpen){this.close()}else{this.open()}},close:function(d){this._changeState("close",d)},open:function(e){var d=this;if(d.options.accordion&&!e){a.each(d.parent.sections,function(){this.close()})}d._changeState("open",e)},_index:function(){return a.inArray(this,this.parent.sections)},_changeState:function(f,e){var d=this;d.isOpen=f=="open";if(a.isFunction(d.options[f])&&!e){d.options[f].apply(d.$details)}else{if(d.isOpen){d.$details.show()}else{d.$details.hide()}}d.$summary.removeClass("open close").addClass(f);d.$details.attr("aria-hidden",f=="close");d.parent.$el.trigger(f,d);if(d.parent.db){d.parent.db.write(d._index(),d.isOpen)}}};a.fn.extend({collapse:function(e,f){var d=(f)?a("body").find("[data-collapse]"):a(this);return d.each(function(){var g=(f)?{}:e,h=a(this).attr("data-collapse")||"";a.each(h.split(" "),function(j,k){if(k){g[k]=true}});new jQueryCollapse(a(this),g)})}});a(function(){a.fn.collapse(false,true)});jQueryCollapse=b})(window.jQuery);(function(a){var b=function(d,e){this.$element=a(d);this.options=a.extend({},b.DEFAULTS,this.dataOptions(),e);this.init()};b.DEFAULTS={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:c,onUpdate:null,onComplete:null};b.prototype.init=function(){this.value=this.options.from;this.loops=Math.ceil(this.options.speed/this.options.refreshInterval);this.loopCount=0;this.increment=(this.options.to-this.options.from)/this.loops};b.prototype.dataOptions=function(){var g={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")};var f=Object.keys(g);for(var d in f){var e=f[d];if(typeof(g[e])==="undefined"){delete g[e]}}return g};b.prototype.update=function(){this.value+=this.increment;this.loopCount++;this.render();if(typeof(this.options.onUpdate)=="function"){this.options.onUpdate.call(this.$element,this.value)}if(this.loopCount>=this.loops){clearInterval(this.interval);this.value=this.options.to;if(typeof(this.options.onComplete)=="function"){this.options.onComplete.call(this.$element,this.value)}}};b.prototype.render=function(){var d=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(d)};b.prototype.restart=function(){this.stop();this.init();this.start()};b.prototype.start=function(){this.stop();this.render();this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)};b.prototype.stop=function(){if(this.interval){clearInterval(this.interval)}};b.prototype.toggle=function(){if(this.interval){this.stop()}else{this.start()}};function c(e,d){return e.toFixed(d.decimals)}a.fn.countTo=function(d){return this.each(function(){var e=a(this);var f=e.data("countTo");var g=!f||typeof(d)==="object";var i=typeof(d)==="object"?d:{};var h=typeof(d)==="string"?d:"start";if(g){if(f){f.stop()}e.data("countTo",f=new b(this,i))}f[h].call(f)})}}(jQuery));/*
 * fancyBox - jQuery Plugin
 * version: 3.0.0 Beta 1 (Tue, 29 Jan 2013)
 * @requires jQuery v1.7 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2013 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(p,c,a,n){var o=a(p),b=a(c),h=a("html");var d=a.fancybox=function(){d.open.apply(this,arguments)};var l=d.isTouch=(c.createTouch!==n||p.ontouchstart!==n);var j=function(q){return q&&q.hasOwnProperty&&q instanceof a};var k=function(q){return q&&a.type(q)==="string"};var i=function(q){return k(q)&&q.indexOf("%")>0};var e=function(r,q){var s=parseFloat(r,10)||0;if(q&&i(r)){s=d.getViewport()[q]/100*s}return Math.ceil(s)};var g=function(r,q){return e(r,q)+"px"};var f=Date.now||function(){return +new Date};var m=function(s){var r=k(s)?a(s):s;if(r&&r.length){r.removeClass("fancybox-wrap").stop(true).trigger("onReset").hide().unbind();try{r.find("iframe").unbind().attr("src",l?"":"//about:blank");setTimeout(function(){r.empty().remove();if(d.lock&&!d.coming&&!d.current){var u,t;a(".fancybox-margin").removeClass("fancybox-margin");u=o.scrollTop();t=o.scrollLeft();h.removeClass("fancybox-lock");d.lock.remove();d.lock=null;o.scrollTop(u).scrollLeft(t)}},150)}catch(q){}}};a.extend(d,{version:"3.0.0",defaults:{theme:"dark",padding:0,margin:[30,55,30,55],loop:true,arrows:true,closeBtn:true,expander:false,caption:{type:"outside"},overlay:{closeClick:true,speedIn:0,speedOut:250,showEarly:true,css:{}},helpers:{},width:800,height:500,minWidth:300,minHeight:180,maxWidth:99999,maxHeight:99999,aspectRatio:false,fitToView:true,autoHeight:true,autoWidth:true,autoResize:true,autoCenter:!l,topRatio:0.5,leftRatio:0.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:false,playSpeed:3000,onCancel:a.noop,beforeLoad:a.noop,afterLoad:function(){if(a(this.element).hasClass("fb-large")){a("#fancybox-lock").addClass("fb-new-style");if(a(this.element).hasClass("fb-large")){a.extend(this,{width:1440,height:814})}}},beforeShow:a.noop,afterShow:a.noop,beforeClose:a.noop,afterClose:a.noop,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorwrts",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:false,locked:true,preload:3,mouseWheel:true,scrolling:"auto",scrollOutside:true},current:null,coming:null,group:[],index:0,isActive:false,isOpen:false,isOpened:false,isMaximized:false,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,helpers:{},open:function(q,r){if(!q){return}if(false===d.close(true)){return}if(!a.isPlainObject(r)){r={}}d.opts=a.extend(true,{},d.defaults,r);d.populate(q);if(d.group.length){d._start(d.opts.index)}},populate:function(r){var q=[];if(!a.isArray(r)){r=[r]}a.each(r,function(u,t){var s=a.extend(true,{},d.opts),v,x,z,w,y;if(a.isPlainObject(t)){v=t}else{if(k(t)){v={href:t}}else{if(j(t)||a.type(t)==="object"&&t.nodeType){x=a(t);v=a(x).get(0);if(!v.href){v={href:t}}v=a.extend({href:x.data("fancybox-href")||x.attr("href")||v.href,title:x.data("fancybox-title")||x.attr("title")||v.title,type:x.data("fancybox-type"),element:x},x.data("fancybox-options"))}else{return}}}if(!v.type&&(v.content||v.href)){v.type=v.content?"html":d.guessType(x,v.href)}z=v.type||d.opts.type;if(z==="image"||z==="swf"){s.autoWidth=s.autoHeight=false;s.scrolling="visible"}if(z==="image"){s.aspectRatio=true}if(z==="iframe"){s.autoWidth=false;s.scrolling=l?"scroll":"visible"}if(r.length<2){s.margin=30}v=a.extend(true,{},s,v);w=v.margin;y=v.padding;if(a.type(w)==="number"){v.margin=[w,w,w,w]}if(a.type(y)==="number"){v.padding=[y,y,y,y]}if(v.modal){a.extend(true,v,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,overlay:{closeClick:false}})}if(v.autoSize!==n){v.autoWidth=v.autoHeight=!!v.autoSize}if(v.width==="auto"){v.autoWidth=true}if(v.height==="auto"){v.autoHeight=true}q.push(v)});d.group=d.group.concat(q)},cancel:function(){var q=d.coming;if(!q||false===d.trigger("onCancel")){return}d.hideLoading();if(d.ajaxLoad){d.ajaxLoad.abort()}if(d.imgPreload){d.imgPreload.onload=d.imgPreload.onerror=null}if(q.wrap){m(q.wrap)}d.ajaxLoad=d.imgPreload=d.coming=null;if(!d.current){d._afterZoomOut(q)}},close:function(q){if(q&&a.type(q)==="object"){q.preventDefault()}d.cancel();if(!d.isActive||d.coming||false===d.trigger("beforeClose")){return}d.unbind();d.isClosing=true;if(d.lock){d.lock.css("overflow","hidden")}if(!d.isOpen||q===true){d._afterZoomOut()}else{d.isOpen=d.isOpened=false;d.transitions.close()}},prev:function(r){var q=d.current;if(q){d.jumpto(q.index-1,(k(r)?r:q.direction.prev))}},next:function(r){var q=d.current;if(q){d.jumpto(q.index+1,(k(r)?r:q.direction.next))}},jumpto:function(s,r){var q=d.current;if(!(d.coming&&d.coming.index===s)){d.cancel();if(q.index==s){r=null}else{if(!r){r=q.direction[s>q.index?"next":"prev"]}}d.direction=r;d._start(s)}}});a.extend(d,{guessType:function(r,q){var s=r&&r.prop("class")?r.prop("class").match(/fancybox\.(\w+)/):0,t=false;if(s){return s[1]}if(k(q)){if(q.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)){t="image"}else{if(q.match(/\.(swf)((\?|#).*)?$/i)){t="swf"}else{if(q.charAt(0)==="#"){t="inline"}}}}else{if(k(r)){t="html"}}return t},trigger:function(q,r){var t,s=r||d.coming||d.current;if(!s){return}if(a.isFunction(s[q])){t=s[q].apply(s,Array.prototype.slice.call(arguments,1))}if(t===false||(q==="afterClose"&&d.isActive)){return false}if(s.helpers){a.each(s.helpers,function(u,x){var v=d.helpers[u],w;if(x&&v&&a.isFunction(v[q])){w=a.extend(true,{},v.defaults,x);v.opts=w;v[q](w,s)}})}a.event.trigger(q)},reposition:function(q,s){var r=s||d.current,u=r&&r.wrap,t;if(d.isOpen&&u){t=d._getPosition(r);if(q===false||(q&&q.type==="scroll")){u.stop(true).animate(t,200).css("overflow","visible")}else{u.css(t)}}},update:function(r){var t=(r&&r.type),s=f(),q=d.current,u;if(!q||!d.isOpen){return}if(t==="scroll"){if(d.wrap.outerHeight(true)>d.getViewport().h){return}if(d.didUpdate){clearTimeout(d.didUpdate)}d.didUpdate=setTimeout(function(){d.reposition(r);d.didUpdate=null},50);return}if(d.lock){d.lock.css("overflow","hidden")}d._setDimension();d.reposition(r);if(d.lock){d.lock.css("overflow","auto")}if(q.caption.type==="float"){u=d.getViewport().w-(d.wrap.outerWidth(true)-d.inner.width());q.caption.wrap.css("width",u).css("marginLeft",(u*0.5-d.inner.width()*0.5)*-1)}if(q.expander){if(q.canShrink){a(".fancybox-expand").show().attr("title",q.locales[q.locale].SHRINK)}else{if(q.canExpand){a(".fancybox-expand").show().attr("title",q.locales[q.locale].EXPAND)}else{a(".fancybox-expand").hide()}}}d.trigger("onUpdate")},toggle:function(q){var r=d.current;if(r&&d.isOpen){d.current.fitToView=a.type(q)==="boolean"?q:!d.current.fitToView;d.update(true)}},hideLoading:function(){a("#fancybox-loading").remove()},showLoading:function(){var q,r;d.hideLoading();q=a('<div id="fancybox-loading"></div>').click(d.cancel).appendTo("body");if(!d.defaults.fixed){r=d.getViewport();q.css({position:"absolute",top:(r.h*0.5)+r.y,left:(r.w*0.5)+r.x})}},getViewport:function(){var q;if(d.lock){q={x:d.lock.scrollLeft(),y:d.lock.scrollTop(),w:d.lock[0].clientWidth,h:d.lock[0].clientHeight}}else{q={x:o.scrollLeft(),y:o.scrollTop(),w:l&&p.innerWidth?p.innerWidth:o.width(),h:l&&p.innerHeight?p.innerHeight:o.height()}}return q},unbind:function(){if(j(d.wrap)){d.wrap.unbind(".fb")}if(j(d.inner)){d.inner.unbind(".fb")}b.unbind(".fb");o.unbind(".fb")},rebind:function(){var q=d.current,r;d.unbind();if(!q||!d.isOpen){return}o.bind("orientationchange.fb"+(l?"":" resize.fb")+(q.autoCenter&&!q.locked?" scroll.fb":""),d.update);r=q.keys;if(r){b.bind("keydown.fb",function(t){var s=t.which||t.keyCode,u=t.target||t.srcElement;if(s===27&&d.coming){return false}if(!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey&&!(u&&(u.type||a(u).is("[contenteditable]")))){a.each(r,function(v,w){if(w[s]!==n){t.preventDefault();if(q.group.length>1){d[v](w[s])}return false}if(a.inArray(s,w)>-1){t.preventDefault();if(v==="play"){d.slideshow.toggle()}else{d[v]()}return false}})}})}d.lastScroll=f();if(q.mouseWheel&&d.group.length>1){d.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(x){var v=x.originalEvent,w=v.target||0,s=(v.wheelDelta||v.detail||0),t=v.wheelDeltaX||0,u=v.wheelDeltaY||0,y=f();if(((w&&w.style&&!(w.style.overflow&&w.style.overflow==="hidden")&&((w.clientWidth&&w.scrollWidth>w.clientWidth)||(w.clientHeight&&w.scrollHeight>w.clientHeight))))){return}if(s===0||(d.current&&d.current.canShrink)){return}v.stopPropagation();if(d.lastScroll&&(y-d.lastScroll)<80){d.lastScroll=y;return}d.lastScroll=y;if(v.axis){if(v.axis===v.HORIZONTAL_AXIS){t=s*-1}else{if(v.axis===v.VERTICAL_AXIS){u=s*-1}}}if(t===0){if(u>0){d.prev("down")}else{d.next("up")}}else{if(t>0){d.prev("right")}else{d.next("left")}}})}d.touch.init()},rebuild:function(){var q=d.current;q.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove();if(q.arrows&&d.group.length>1){if(q.loop||q.index>0){a(d._translate(q.tpl.prev)).appendTo(d.inner).bind("click.fb",d.prev)}if(q.loop||q.index<d.group.length-1){a(d._translate(q.tpl.next)).appendTo(d.inner).bind("click.fb",d.next)}}if(q.closeBtn){a(d._translate(q.tpl.closeBtn)).appendTo(d.wrap).bind("click.fb",d.close)}if(q.expander&&q.type==="image"){a('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(d.inner).bind("click.fb",d.toggle);if(!q.canShrink&&!q.canExpand){}}},_start:function(r){var q,s;if(d.opts.loop){if(r<0){r=d.group.length+(r%d.group.length)}r=r%d.group.length}q=d.group[r];if(!q){return false}q=a.extend(true,{},d.opts,q);q.group=d.group;q.index=r;d.coming=q;if(false===d.trigger("beforeLoad")){d.coming=null;return}d.isActive=true;d._build();b.bind("keydown.loading",function(t){if((t.which||t.keyCode)===27){b.unbind(".loading");t.preventDefault();d.cancel()}});if(q.overlay&&q.overlay.showEarly){d.overlay.open(q.overlay)}s=q.type;if(s==="image"){d._loadImage()}else{if(s==="ajax"){d._loadAjax()}else{if(s==="iframe"){d._loadIframe()}else{if(s==="inline"){d._loadInline()}else{if(s==="html"||s==="swf"){d._afterLoad()}else{d._error()}}}}}},_build:function(){var r=d.coming,q=r.caption.type,v,s,u,t;r.wrap=v=a('<div class="fancybox-wrap"></div>').appendTo(r.parent||"body").addClass("fancybox-"+r.theme);r.inner=s=a('<div class="fancybox-inner"></div>').appendTo(v);r[q==="outside"||q==="float"?"inner":"wrap"].addClass("fancybox-skin fancybox-"+r.theme+"-skin");if(r.locked&&r.overlay&&d.defaults.fixed){if(!d.lock){d.lock=a('<div id="fancybox-lock"></div>').appendTo(v.parent())}d.lock.unbind().append(v);if(r.overlay.closeClick){d.lock.click(function(w){if(a(w.target).is(d.lock)){d.close()}})}if(b.height()>o.height()||h.css("overflow-y")==="scroll"){a("*:visible").filter(function(){return(a(this).css("position")==="fixed"&&!a(this).hasClass("fancybox-overlay")&&a(this).attr("id")!=="fancybox-lock")}).addClass("fancybox-margin");h.addClass("fancybox-margin")}u=o.scrollTop();t=o.scrollLeft();h.addClass("fancybox-lock");o.scrollTop(u).scrollLeft(t)}d.trigger("onReady")},_error:function(q){if(!d.coming){return}a.extend(d.coming,{type:"html",autoWidth:true,autoHeight:true,closeBtn:true,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:q,content:d._translate(d.coming.tpl.error)});d._afterLoad()},_loadImage:function(){var q=d.imgPreload=new Image();q.onload=function(){this.onload=this.onerror=null;a.extend(d.coming,{width:this.width,height:this.height,content:a(this).addClass("fancybox-image")});d._afterLoad()};q.onerror=function(){this.onload=this.onerror=null;d._error("image")};q.src=d.coming.href;if(q.complete!==true||q.width<1){d.showLoading()}},_loadAjax:function(){var q=d.coming,r=q.href,s,t;s=r.split(/\s+/,2);r=s.shift();t=s.shift();d.showLoading();d.ajaxLoad=a.ajax(a.extend({},q.ajax,{url:q.href,error:function(u,v){if(d.coming&&v!=="abort"){d._error("ajax",u)}else{d.hideLoading()}},success:function(u,v){if(v==="success"){if(t){u=a("<div>").html(u).find(t)}q.content=u;d._afterLoad()}}}))},_loadIframe:function(){var q=d.coming,r;q.content=r=a(q.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",l?"auto":q.iframe.scrolling);if(q.iframe.preload){d.showLoading();d._setDimension(q);q.wrap.addClass("fancybox-tmp");r.one("load.fb",function(){if(q.iframe.preload){a(this).data("ready",1);a(this).bind("load.fb",d.update);d._afterLoad()}})}r.attr("src",q.href).appendTo(q.inner);if(!q.iframe.preload){d._afterLoad()}else{if(r.data("ready")!==1){d.showLoading()}}},_loadInline:function(){var q=d.coming,r=q.href;q.content=a(k(r)?r.replace(/.*(?=#[^\s]+$)/,""):r);if(q.content.length){d._afterLoad()}else{d._error()}},_preloadImages:function(){var s=d.group,r=d.current,v=s.length,q=r.preload?Math.min(r.preload,v-1):0,u,t;for(t=1;t<=q;t+=1){u=s[(r.index+t)%v];if(u&&u.type==="image"&&u.href){new Image().src=u.href}}},_afterLoad:function(){var q=d.coming,r=d.current;b.unbind(".loading");if(!q||d.isActive===false||false===d.trigger("afterLoad",q,r)){d.hideLoading();if(q&&q.wrap){m(q.wrap)}if(!r){d._afterZoomOut(q)}d.coming=null;return}a.extend(d,{wrap:q.wrap.addClass("fancybox-type-"+q.type+" fancybox-"+(l?"mobile":"desktop")+" fancybox-"+q.theme+"-"+(l?"mobile":"desktop")+" "+q.wrapCSS),inner:q.inner,current:q,previous:r});d._prepare();d.trigger("beforeShow",q,r);d.isOpen=false;d.coming=null;d._setDimension();d.hideLoading();if(q.overlay&&!d.overlay.el){d.overlay.open(q.overlay)}d.transitions.open()},_prepare:function(){var u=d.current,t=u.content||"",E=u.wrap,y=u.inner,z=u.margin,A=u.padding,x=u.href,D=u.type,C=u.scrolling,q=u.caption,r=u.title,s=q.type,B="fancybox-placeholder",v="fancybox-display",w;if(D!=="iframe"&&j(t)&&t.length){if(!t.data(B)){t.data(v,t.css("display")).data(B,a('<div class="'+B+'"></div>').insertAfter(t).hide())}t=t.show().detach();u.wrap.bind("onReset",function(){if(a(this).find(t).length){t.css("display",t.data(v)).replaceAll(t.data(B)).data(B,false).data(v,false)}})}if(D==="swf"){t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+x+'"></param>';w="";a.each(u.swf,function(F,G){t+='<param name="'+F+'" value="'+G+'"></param>';w+=" "+F+'="'+G+'"'});t+='<embed src="'+x+'" type="application/x-shockwave-flash" width="100%" height="100%"'+w+"></embed></object>"}if(!(j(t)&&t.parent().is(u.inner))){u.inner.append(t);u.content=u.inner.children(":last")}a.each(["Top","Right","Bottom","Left"],function(F,G){if(z[F]){E.css("margin"+G,g(z[F]))}if(A[F]){if(!(G==="Bottom"&&s==="outside")){E.css("padding"+G,g(A[F]))}if(s==="outside"||s==="float"){y.css("border"+G+"Width",g(A[F]));if(G==="Top"||G==="Left"){y.css("margin"+G,g(A[F]*-1))}}}});if(a.isFunction(r)){r=r.call(u.element,u)}if(k(r)&&a.trim(r)!==""){u.caption.wrap=a('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+r+"</div>").appendTo(u[s==="over"?"inner":"wrap"]);if(s==="float"){u.caption.wrap.width(d.getViewport().w-(d.wrap.outerWidth(true)-d.inner.width())).wrapInner("<div></div>")}}},_setDimension:function(H){var R=d.getViewport(),t=H||d.current,U=t.wrap,z=t.inner,S=t.width,v=t.height,G=t.minWidth,F=t.minHeight,D=t.maxWidth,B=t.maxHeight,A=t.margin,P=t.scrollOutside?t.scrollbarWidth:0,A=t.margin,K=t.padding,M=t.scrolling,Q=1,N,O,x,V,J,I,L,y,q,E,C,T,w,s,r;M=M.split(",");N=M[0];O=M[1]||N;t.inner.css("overflow-x",N==="yes"?"scroll":(N==="no"?"hidden":N)).css("overflow-y",O==="yes"?"scroll":(O==="no"?"hidden":O));V=A[1]+A[3]+K[1]+K[3];x=A[0]+A[2]+K[0]+K[2];G=e(i(G)?e(G,"w")-V:G);D=e(i(D)?e(D,"w")-V:D);F=e(i(F)?e(F,"h")-x:F);B=e(i(B)?e(B,"h")-x:B);J=e(i(S)?e(S,"w")-V:S);I=e(i(v)?e(v,"h")-x:v);if(t.fitToView){D=Math.min(D,e("100%","w")-V);B=Math.min(B,e("100%","h")-x)}E=R.w;C=R.h;if(t.type==="iframe"){y=t.content;U.removeClass("fancybox-tmp");if((t.autoWidth||t.autoHeight)&&y&&y.data("ready")===1){try{if(y[0].contentWindow&&y[0].contentWindow.document.location){q=y.contents().find("body");z.addClass("fancybox-tmp");z.width(screen.width-V).height(99999);if(P){q.css("overflow-x","hidden")}if(t.autoWidth){J=q.outerWidth(true)}if(t.autoHeight){I=q.outerHeight(true)}z.removeClass("fancybox-tmp")}}catch(u){}}}else{if((t.autoWidth||t.autoHeight)&&!(t.type==="image"||t.type==="swf")){z.addClass("fancybox-tmp");if(t.autoWidth){z.width("auto")}else{z.width(D)}if(t.autoHeight){z.height("auto")}else{z.height(B)}if(t.autoWidth){J=z[0].scrollWidth||z.width()}if(t.autoHeight){I=z[0].scrollHeight||z.height()}z.removeClass("fancybox-tmp")}}S=J;v=I;L=J/I;if(!t.autoResize){U.css({width:g(S),height:"auto"});z.css({width:g(S),height:g(v)});return}if(t.aspectRatio){if(S>D){S=D;v=S/L}if(v>B){v=B;S=v*L}if(S<G){S=G;v=S/L}if(v<F){v=F;S=v*L}}else{S=Math.max(G,Math.min(S,D));if(t.autoHeight&&t.type!=="iframe"){z.width(S);I=v=z[0].scrollHeight}v=Math.max(F,Math.min(v,B))}U.css({width:g(S),height:"auto"});z.css({width:g(S),height:g(v)});T=e(U.outerWidth(true));w=e(U.outerHeight(true));if(t.fitToView){if(t.aspectRatio){while((T>E||w>C)&&S>G&&v>F){if(Q++>30){break}v=Math.max(F,Math.min(B,v-10));S=e(v*L);if(S<G){S=G;v=e(S/L)}if(S>D){S=D;v=e(S/L)}U.css({width:g(S)});z.css({width:g(S),height:g(v)});T=e(U.outerWidth(true));w=e(U.outerHeight(true))}}else{S=Math.max(G,Math.min(S,S-(T-E)));v=Math.max(F,Math.min(v,v-(w-C)))}}if(P&&N==="auto"&&(v<z[0].scrollHeight||(j(t.content)&&t.content[0]&&v<t.content[0].offsetHeight))&&(S+V+P)<D){S+=P}U.css({width:S});z.css({width:g(S),height:g(v)});T=e(U.outerWidth(true));w=e(U.outerHeight(true));s=(T>E||w>C)&&S>G&&v>F;r=(T<E||w<C)&&(t.aspectRatio?(S<D&&v<B&&S<J&&v<I):((S<D||v<B)&&(S<J||v<I)));t.canShrink=s;t.canExpand=r;if(!y&&t.autoHeight&&v>F&&v<B&&!r){z.height("auto")}},_getPosition:function(s){var r=s||d.current,w=r.wrap,v=d.getViewport(),t={},u=v.y,q=v.x;t={top:g(Math.max(u,u+((v.h-w.outerHeight(true))*r.topRatio))),left:g(Math.max(q,q+((v.w-w.outerWidth(true))*r.leftRatio))),width:g(w.width()),height:g(w.height())};return t},_afterZoomIn:function(){var q=d.current;if(!q){return}if(d.lock){d.lock.css("overflow","auto")}d.isOpen=d.isOpened=true;d.rebuild();d.rebind();if(q.caption&&q.caption.wrap){q.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast")}d.update();d.wrap.css("overflow","visible").addClass("fancybox-open").focus();d[d.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+q.theme+"-skin-open");if(q.caption&&q.caption.wrap){q.caption.wrap.show().css("left",0).animate({opacity:1},"fast")}if(q.margin[2]>0){a('<div class="fancybox-spacer"></div>').css("height",g(q.margin[2]-2)).appendTo(d.wrap)}d.trigger("afterShow");d._preloadImages();if(q.autoPlay&&!d.slideshow.isActive){d.slideshow.start()}},_afterZoomOut:function(r){var q=function(){m(".fancybox-wrap")};d.hideLoading();r=r||d.current;if(r&&r.wrap){r.wrap.hide()}a.extend(d,{group:[],opts:{},coming:null,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,inner:null});d.trigger("afterClose",r);if(!d.coming&&!d.current){if(r.overlay){d.overlay.close(r.overlay,q)}else{q()}}},_translate:function(s){var r=d.coming||d.current,q=r.locales[r.locale];return s.replace(/\{\{(\w+)\}\}/g,function(t,u){var v=q[u];if(v===n){return t}return v})}});d.transitions={_getOrig:function(t){var s=t||d.current,y=s.wrap,q=s.element,u=s.orig,w=d.getViewport(),v={},x=50,r=50;if(!u&&q&&q.is(":visible")){u=q.find("img:first:visible");if(!u.length){u=q}}if(!u&&s.group[0].element){u=s.group[0].element.find("img:visible:first")}if(j(u)&&u.is(":visible")){v=u.offset();if(u.is("img")){x=u.outerWidth();r=u.outerHeight()}if(d.lock){v.top-=o.scrollTop();v.left-=o.scrollLeft()}}else{v.top=w.y+(w.h-r)*s.topRatio;v.left=w.x+(w.w-x)*s.leftRatio}v={top:g(v.top-(y.outerHeight(true)-y.height())*0.5),left:g(v.left-(y.outerWidth(true)-y.width())*0.5),width:g(x),height:g(r)};return v},_getCenter:function(s){var r=s||d.current,w=r.wrap,v=d.getViewport(),t={},u=v.y,q=v.x;t={top:g(Math.max(u,u+((v.h-w.outerHeight(true))*r.topRatio))),left:g(Math.max(q,q+((v.w-w.outerWidth(true))*r.leftRatio))),width:g(w.width()),height:g(w.height())};return t},_prepare:function(t,q){var s=t||d.current,u=s.wrap,r=s.inner;u.height(u.height());r.css({width:(r.width()*100/u.width())+"%",height:(Math.floor((r.height()*100/u.height())*100)/100)+"%"});if(q===true){u.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove()}r.css("overflow","hidden")},fade:function(q,t){var s=this._getCenter(q),r={opacity:0};return((t==="open"||t==="changeIn")?[a.extend(s,r),{opacity:1}]:[{},r])},drop:function(s,t){var q=a.extend(this._getCenter(s),{opacity:1}),r=a.extend({},q,{opacity:0,top:g(Math.max(d.getViewport().y-s.margin[0],e(q.top)-200))});return((t==="open"||t==="changeIn")?[r,q]:[{},r])},elastic:function(u,x){var B=u.wrap,t=u.margin,A=d.getViewport(),r=d.direction,v=this._getCenter(u),s=a.extend({},v),y=a.extend({},v),w,q,z;if(x==="open"){s=this._getOrig(u)}else{if(x==="close"){s={};y=this._getOrig(u)}else{if(r){w=(r==="up"||r==="down")?"top":"left";q=(r==="up"||r==="left")?200:-200;if(x==="changeIn"){z=e(s[w])+q;if(r==="left"){z=Math.min(z,A.x+A.w-t[3]-B.outerWidth()-1)}else{if(r==="right"){z=Math.max(z,A.x-t[1])}else{if(r==="up"){z=Math.min(z,A.y+A.h-t[0]-B.outerHeight()-1)}else{z=Math.max(z,A.y-t[2])}}}s[w]=z}else{z=e(B.css(w))-q;s={};if(r==="left"){z=Math.max(z,A.x-t[3])}else{if(r==="right"){z=Math.min(z,A.x+A.w-t[1]-B.outerWidth()-1)}else{if(r==="up"){z=Math.max(z,A.y-t[0])}else{z=Math.min(z,A.y+A.h-t[2]-B.outerHeight()-1)}}}y[w]=z}}}}if(x==="open"||x==="changeIn"){s.opacity=0;y.opacity=1}else{y.opacity=0}return[s,y]},open:function(){var q=d.current,v=d.previous,r=d.direction,t,u,w,s,x;if(v){v.wrap.stop(true).removeClass("fancybox-opened")}if(d.isOpened){t=q.nextEffect,w=q.nextSpeed;s=q.nextEasing;x="changeIn"}else{t=q.openEffect;w=q.openSpeed;s=q.openEasing;x="open"}if(t==="none"){d._afterZoomIn()}else{u=this[t](q,x);if(t==="elastic"){this._prepare(q)}q.wrap.css(u[0]);q.wrap.animate(u[1],w,s,d._afterZoomIn)}if(v){if(!d.isOpened||v.prevEffect==="none"){m(a(".fancybox-wrap").not(q.wrap))}else{v.wrap.stop(true).removeClass("fancybox-opened");u=this[v.prevEffect](v,"changeOut");this._prepare(v,true);v.wrap.animate(u[1],v.prevSpeed,v.prevEasing,function(){m(v.wrap)})}}},close:function(){var q=d.current,t=q.wrap.stop(true).removeClass("fancybox-opened"),r=q.closeEffect,s;if(r==="none"){return d._afterZoomOut()}this._prepare(q,true);s=this[r](q,"close");t.addClass("fancybox-animating").animate(s[1],q.closeSpeed,q.closeEasing,d._afterZoomOut)}};d.slideshow={_clear:function(){if(this._timer){clearTimeout(this._timer)}},_set:function(){this._clear();if(d.current&&this.isActive){this._timer=setTimeout(d.next,this._speed)}},_timer:null,_speed:null,isActive:false,start:function(r){var q=d.current;if(q&&(q.loop||q.index<q.group.length-1)){this.stop();this.isActive=true;this._speed=r||q.playSpeed;b.bind({"beforeLoad.player":a.proxy(this._clear,this),"onUpdate.player":a.proxy(this._set,this),"onCancel.player beforeClose.player":a.proxy(this.stop,this)});this._set();d.trigger("onPlayStart")}},stop:function(){this._clear();b.unbind(".player");this.isActive=false;this._timer=this._speed=null;d.trigger("onPlayEnd")},toggle:function(){if(this.isActive){this.stop()}else{this.start.apply(this,arguments)}}};d.overlay={el:null,theme:"",open:function(t){var u=this,q=this.el,r=d.defaults.fixed,s,v;t=a.extend({},d.defaults.overlay,t);if(q){q.stop(true).removeAttr("style").unbind(".overlay")}else{q=a('<div class="fancybox-overlay'+(r?" fancybox-overlay-fixed":"")+'"></div>').appendTo(t.parent||"body")}if(t.closeClick){q.bind("click.overlay",function(w){if(d.lastTouch&&(f()-d.lastTouch)<300){return false}if(d.isActive){d.close()}else{u.close()}return false})}v=t.theme||(d.coming?d.coming.theme:"default");if(v!==this.theme){q.removeClass("fancybox-"+this.theme+"-overlay")}this.theme=v;q.addClass("fancybox-"+v+"-overlay").css(t.css);s=q.css("opacity");if(!this.el&&s<1&&t.speedIn){q.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(t.speedIn,s)}this.el=q;if(!r){o.bind("resize.overlay",a.proxy(this.update,this));this.update()}},close:function(r,q){r=a.extend({},d.defaults.overlay,r);if(this.el){this.el.stop(true).fadeOut(r.speedOut,function(){o.unbind("resize.overlay");a(".fancybox-overlay").remove();d.overlay.el=null;if(a.isFunction(q)){q()}})}},update:function(){this.el.css({width:"100%",height:"100%"});this.el.width(b.width()).height(b.height())}};d.touch={startX:0,wrapX:0,dx:0,isMoving:false,_start:function(s){var q=d.current,r=s.originalEvent.touches?s.originalEvent.touches[0]:s,t=f();if(!d.isOpen||d.wrap.is(":animated")||!(a(s.target).is(d.inner)||a(s.target).parent().is(d.inner))){return}if(d.lastTouch&&(t-d.lastTouch)<300){s.preventDefault();d.lastTouch=t;this._cancel(true);d.toggle();return false}d.lastTouch=t;if(d.wrap&&d.wrap.outerWidth()>d.getViewport().w){return}s.preventDefault();if(r&&d.wrap&&d.wrap.outerWidth()<=d.getViewport().w){this.startX=r.pageX;this.wrapX=d.wrap.position().left;this.isMoving=true;d.inner.bind("touchmove.fb",a.proxy(this._move,this)).one("touchend.fb touchcancel.fb",a.proxy(this._cancel,this))}},_move:function(s){var q=s.originalEvent.touches?s.originalEvent.touches[0]:s,r=this.startX-q.pageX;if(!this.isMoving||!d.isOpen){return}this.dx=r;if(d.current.wrap.outerWidth(true)<=o.width()){if(Math.abs(r)>=50){s.preventDefault();this.last=0;this._cancel(true);if(r>0){d.next("left")}else{d.prev("right")}}else{if(Math.abs(r)>3){s.preventDefault();this.last=0;d.wrap.css("left",this.wrapX-r)}}}},_clear:function(){this.startX=this.wrapX=this.dx=0;this.isMoving=false},_cancel:function(q){if(d.inner){d.inner.unbind("touchmove.fb")}if(d.isOpen&&Math.abs(this.dx)>3){d.reposition(false)}this._clear()},init:function(){var q=this;if(d.inner&&d.touch){this._cancel(true);d.inner.bind("touchstart.fb",a.proxy(this._start,this))}}};if(!a.easing.easeOutQuad){a.easing.easeOutQuad=function(v,u,q,r,s){return -r*(u/=s)*(u-2)+q}}b.ready(function(){var s,t,r,q;if(a.scrollbarWidth===n){a.scrollbarWidth=function(){var v=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),u=v.children(),w=u.innerWidth()-u.height(99).innerWidth();v.remove();return w}}if(a.support.fixedPosition===n){a.support.fixedPosition=(function(){var u=a('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),v=u.css("position")==="fixed"&&((u[0].offsetTop>18&&u[0].offsetTop<22)||u[0].offsetTop===15);u.remove();return v}())}a.extend(d.defaults,{scrollbarWidth:a.scrollbarWidth(),fixed:a.support.fixedPosition,parent:a("body")});r=o.scrollTop();q=o.scrollLeft();s=a(p).width();h.addClass("fancybox-lock-test");t=a(p).width();h.removeClass("fancybox-lock-test");o.scrollTop(r).scrollLeft(q);d.lockMargin=(t-s);a("<style type='text/css'>.fancybox-margin{margin-right:"+d.lockMargin+"px;}</style>").appendTo("head");if(a("script[src*='jquery.fancybox.js']").length>0){if(a("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)){a("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}}else{if(a("script[src*='kuoni.min.js']").length>0){if(a("script[src*='kuoni.min.js']").attr("src").match(/autorun/)){a("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}}}});a.fn.fancybox=function(s){var u=this,t=this.length?this.selector:false,r=(t&&t.indexOf("()")<0&&!(s&&s.live===false));var q=function(w){var v=r?a(t):u,x=a(this).blur(),y=s.groupAttr||"data-fancybox-group",A=x.attr(y),z=this.rel;if(!A&&z&&z!=="nofollow"){y="rel";A=z}if(A){x=v.filter("["+y+'="'+A+'"]');s.index=x.index(this)}if(x.length){w.preventDefault();d.open(x.get(),s)}};s=s||{};if(r){b.undelegate(t,"click.fb-start").delegate(t+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",q)}else{u.unbind("click.fb-start").bind("click.fb-start",q)}return this}}(window,document,jQuery));(function(a,c,g,f,b){var e=a(c),h=a(g);a.fn.fullpage=function(n){function ab(p){p.find(".fp-slides").after('<div class="fp-controlArrow fp-prev"></div><div class="fp-controlArrow fp-next"></div>');"#fff"!=n.controlArrowColor&&(p.find(".fp-controlArrow.fp-next").css("border-color","transparent transparent transparent "+n.controlArrowColor),p.find(".fp-controlArrow.fp-prev").css("border-color","transparent "+n.controlArrowColor+" transparent transparent"));n.loopHorizontal||p.find(".fp-controlArrow.fp-prev").hide()}function af(){aP.append('<div id="fp-nav"><ul></ul></div>');bf=a("#fp-nav");bf.addClass(function(){return n.showActiveTooltip?"fp-show-active "+n.navigationPosition:n.navigationPosition});for(var p=0;p<a(".fp-section").length;p++){var q="";n.anchors.length&&(q=n.anchors[p]);var q='<li><a href="#'+q+'"><span></span></a>',r=n.navigationTooltips[p];"undefined"!==typeof r&&""!==r&&(q+='<div class="fp-tooltip '+n.navigationPosition+'">'+r+"</div>");q+="</li>";bf.find("ul").append(q)}}function l(){a(".fp-section").each(function(){var p=a(this).find(".fp-slide");p.length?p.each(function(){ap(a(this))}):ap(a(this))});a.isFunction(n.afterRender)&&n.afterRender.call(this)}function s(){var r;if(!n.autoScrolling||n.scrollBar){for(var t=e.scrollTop(),w=0,x=f.abs(t-g.querySelectorAll(".fp-section")[0].offsetTop),u=g.querySelectorAll(".fp-section"),v=0;v<u.length;++v){var z=f.abs(t-u[v].offsetTop);z<x&&(w=v,x=z)}r=a(u).eq(w)}if(!n.autoScrolling||n.scrollBar){if(!r.hasClass("active")){aZ=!0;t=a(".fp-section.active");w=t.index(".fp-section")+1;x=a2(r);u=r.data("anchor");v=r.index(".fp-section")+1;z=r.find(".fp-slide.active");if(z.length){var B=z.data("anchor"),A=z.index()}aT&&(r.addClass("active").siblings().removeClass("active"),a.isFunction(n.onLeave)&&n.onLeave.call(t,w,v,x),a.isFunction(n.afterLoad)&&n.afterLoad.call(r,u,v),at(u,v-1),n.anchors.length&&(d=u,a5(A,B,u,v)));clearTimeout(aa);aa=setTimeout(function(){aZ=!1},100)}n.fitToSection&&(clearTimeout(ae),ae=setTimeout(function(){aT&&(a(".fp-section.active").is(r)&&(a1=!0),aY(r),a1=!1)},1000))}}function ai(p){return p.find(".fp-slides").length?p.find(".fp-slide.active").find(".fp-scrollable"):p.find(".fp-scrollable")}function aw(p,q){if(a4[p]){var r,t;"down"==p?(r="bottom",t=ac.moveSectionDown):(r="top",t=ac.moveSectionUp);if(0<q.length){if(r="top"===r?!q.scrollTop():"bottom"===r?q.scrollTop()+1+q.innerHeight()>=q[0].scrollHeight:void 0,r){t()}else{return !0}}else{t()}}}function aj(p){var q=p.originalEvent;if(!al(p.target)&&a8(q)){n.autoScrolling&&p.preventDefault();p=a(".fp-section.active");var r=ai(p);aT&&!k&&(q=an(q),ad=q.y,az=q.x,p.find(".fp-slides").length&&f.abs(aC-az)>f.abs(ah-ad)?f.abs(aC-az)>e.width()/100*n.touchSensitivity&&(aC>az?a4.right&&ac.moveSlideRight():a4.left&&ac.moveSlideLeft()):n.autoScrolling&&f.abs(ah-ad)>e.height()/100*n.touchSensitivity&&(ah>ad?aw("down",r):ad>ah&&aw("up",r)))}}function al(p,q){q=q||0;var r=a(p).parent();return q<n.normalScrollElementTouchThreshold&&r.is(n.normalScrollElements)?!0:q==n.normalScrollElementTouchThreshold?!1:al(r,++q)}function a8(p){return"undefined"===typeof p.pointerType||"mouse"!=p.pointerType}function am(p){p=p.originalEvent;n.fitToSection&&a7.stop();a8(p)&&(p=an(p),ah=p.y,aC=p.x)}function aq(p,q){for(var r=0,t=p.slice(f.max(p.length-q,1)),u=0;u<t.length;u++){r+=t[u]}return f.ceil(r/q)}function o(p){var q=(new Date).getTime();if(n.autoScrolling){p=c.event||p;var r=p.wheelDelta||-p.deltaY||-p.detail,t=f.max(-1,f.min(1,r));149<H.length&&H.shift();H.push(f.abs(r));n.scrollBar&&(p.preventDefault?p.preventDefault():p.returnValue=!1);p=a(".fp-section.active");p=ai(p);r=q-au;au=q;200<r&&(H=[]);aT&&(q=aq(H,10),r=aq(H,70),q>=r&&(0>t?aw("down",p):aw("up",p)));return !1}n.fitToSection&&a7.stop()}function ax(p){var q=a(".fp-section.active").find(".fp-slides");if(q.length&&!k){var r=q.find(".fp-slide.active"),t=null,t="prev"===p?r.prev(".fp-slide"):r.next(".fp-slide");if(!t.length){if(!n.loopHorizontal){return}t="prev"===p?r.siblings(":last"):r.siblings(":first")}k=!0;ak(q,t)}}function aA(){a(".fp-slide.active").each(function(){bb(a(this))})}function aY(p,q,u){var v=p.position();if("undefined"!==typeof v&&(q={element:p,callback:q,isMovementUp:u,dest:v,dtop:v.top,yMovement:a2(p),anchorLink:p.data("anchor"),sectionIndex:p.index(".fp-section"),activeSlide:p.find(".fp-slide.active"),activeSection:a(".fp-section.active"),leavingSection:a(".fp-section.active").index(".fp-section")+1,localIsResizing:a1},!(q.activeSection.is(p)&&!a1||n.scrollBar&&e.scrollTop()===q.dtop))){if(q.activeSlide.length){var r=q.activeSlide.data("anchor"),t=q.activeSlide.index()}n.autoScrolling&&n.continuousVertical&&"undefined"!==typeof q.isMovementUp&&(!q.isMovementUp&&"up"==q.yMovement||q.isMovementUp&&"down"==q.yMovement)&&(q.isMovementUp?a(".fp-section.active").before(q.activeSection.nextAll(".fp-section")):a(".fp-section.active").after(q.activeSection.prevAll(".fp-section").get().reverse()),ba(a(".fp-section.active").position().top),aA(),q.wrapAroundElements=q.activeSection,q.dest=q.element.position(),q.dtop=q.dest.top,q.yMovement=a2(q.element));p.addClass("active").siblings().removeClass("active");aT=!1;a5(t,r,q.anchorLink,q.sectionIndex);a.isFunction(n.onLeave)&&!q.localIsResizing&&n.onLeave.call(q.activeSection,q.leavingSection,q.sectionIndex+1,q.yMovement);ao(q);d=q.anchorLink;at(q.anchorLink,q.sectionIndex)}}function ao(p){if(n.css3&&n.autoScrolling&&!n.scrollBar){aD("translate3d(0px, -"+p.dtop+"px, 0px)",!0),setTimeout(function(){aG(p)},n.scrollingSpeed)}else{var q=ar(p);a(q.element).animate(q.options,n.scrollingSpeed,n.easing).promise().done(function(){aG(p)})}}function ar(p){var q={};n.autoScrolling&&!n.scrollBar?(q.options={top:-p.dtop},q.element=".fullpage-wrapper"):(q.options={scrollTop:p.dtop},q.element="html, body");return q}function av(p){p.wrapAroundElements&&p.wrapAroundElements.length&&(p.isMovementUp?a(".fp-section:first").before(p.wrapAroundElements):a(".fp-section:last").after(p.wrapAroundElements),ba(a(".fp-section.active").position().top),aA())}function aG(p){av(p);a.isFunction(n.afterLoad)&&!p.localIsResizing&&n.afterLoad.call(p.element,p.anchorLink,p.sectionIndex+1);aT=!0;setTimeout(function(){a.isFunction(p.callback)&&p.callback.call(this)},600)}function aJ(){if(!aZ){var p=c.location.hash.replace("#","").split("/"),q=p[0],p=p[1];if(q.length){var r="undefined"===typeof d,t="undefined"===typeof d&&"undefined"===typeof p&&!k;(q&&q!==d&&!r||t||!k&&bd!=p)&&bg(q,p)}}}function ay(p){aT&&(p.pageY<aF?ac.moveSectionUp():p.pageY>aF&&ac.moveSectionDown());aF=p.pageY}function ak(u,v){var z=v.position(),A=v.index(),w=u.closest(".fp-section"),x=w.index(".fp-section"),B=w.data("anchor"),C=w.find(".fp-slidesNav"),D=aN(v),E=a1;if(n.onSlideLeave){var G=w.find(".fp-slide.active"),F=G.index(),I;I=F==A?"none":F>A?"left":"right";E||"none"===I||a.isFunction(n.onSlideLeave)&&n.onSlideLeave.call(G,B,x+1,F,I)}v.addClass("active").siblings().removeClass("active");!n.loopHorizontal&&n.controlArrows&&(w.find(".fp-controlArrow.fp-prev").toggle(0!==A),w.find(".fp-controlArrow.fp-next").toggle(!v.is(":last-child")));w.hasClass("active")&&a5(A,D,B,x);var J=function(){E||a.isFunction(n.afterSlideLoad)&&n.afterSlideLoad.call(v,B,x+1,D,A);k=!1};n.css3?(z="translate3d(-"+z.left+"px, 0px, 0px)",aR(u.find(".fp-slidesContainer"),0<n.scrollingSpeed).css(aV(z)),setTimeout(function(){J()},n.scrollingSpeed,n.easing)):u.animate({scrollLeft:z.left},n.scrollingSpeed,n.easing,function(){J()});C.find(".active").removeClass("active");C.find("li").eq(A).find("a").addClass("active")}function aX(){a0();if(aI){var p=a(g.activeElement);p.is("textarea")||p.is("input")||p.is("select")||(p=e.height(),f.abs(p-i)>20*f.max(i,p)/100&&(ac.reBuild(!0),i=p))}else{clearTimeout(a3),a3=setTimeout(function(){ac.reBuild(!0)},500)}}function a0(){if(n.responsive){var p=ag.hasClass("fp-responsive");e.width()<n.responsive?p||(ac.setAutoScrolling(!1,"internal"),ac.setFitToSection(!1,"internal"),a("#fp-nav").hide(),ag.addClass("fp-responsive")):p&&(ac.setAutoScrolling(aM.autoScrolling,"internal"),ac.setFitToSection(aM.autoScrolling,"internal"),a("#fp-nav").show(),ag.removeClass("fp-responsive"))}}function aR(p){var q="all "+n.scrollingSpeed+"ms "+n.easingcss3;p.removeClass("fp-notransition");return p.css({"-webkit-transition":q,transition:q})}function aB(p,q){if(825>p||900>q){var r=f.min(100*p/825,100*q/900).toFixed(2);aP.css("font-size",r+"%")}else{aP.css("font-size","100%")}}function at(p,q){n.menu&&(a(n.menu).find(".active").removeClass("active"),a(n.menu).find('[data-menuanchor="'+p+'"]').addClass("active"));n.navigation&&(a("#fp-nav").find(".active").removeClass("active"),p?a("#fp-nav").find('a[href="#'+p+'"]').addClass("active"):a("#fp-nav").find("li").eq(q).find("a").addClass("active"))}function a2(p){var q=a(".fp-section.active").index(".fp-section");p=p.index(".fp-section");return q==p?"none":q>p?"up":"down"}function ap(p){p.css("overflow","hidden");var q=p.closest(".fp-section"),r=p.find(".fp-scrollable"),t;r.length?t=r.get(0).scrollHeight:(t=p.get(0).scrollHeight,n.verticalCentered&&(t=p.find(".fp-tableCell").get(0).scrollHeight));q=aL-parseInt(q.css("padding-bottom"))-parseInt(q.css("padding-top"));t>q?r.length?r.css("height",q+"px").parent().css("height",q+"px"):(n.verticalCentered?p.find(".fp-tableCell").wrapInner('<div class="fp-scrollable" />'):p.wrapInner('<div class="fp-scrollable" />'),p.find(".fp-scrollable").slimScroll({allowPageScroll:!0,height:q+"px",size:"10px",alwaysVisible:!0})):a6(p);p.css("overflow","")}function a6(p){p.find(".fp-scrollable").children().first().unwrap().unwrap();p.find(".slimScrollBar").remove();p.find(".slimScrollRail").remove()}function a9(p){p.addClass("fp-table").wrapInner('<div class="fp-tableCell" style="height:'+bc(p)+'px;" />')}function bc(p){var q=aL;if(n.paddingTop||n.paddingBottom){q=p,q.hasClass("fp-section")||(q=p.closest(".fp-section")),p=parseInt(q.css("padding-top"))+parseInt(q.css("padding-bottom")),q=aL-p}return q}function aD(p,q){q?aR(ag):ag.addClass("fp-notransition");ag.css(aV(p));setTimeout(function(){ag.removeClass("fp-notransition")},10)}function bg(p,q){var r;"undefined"===typeof q&&(q=0);r=isNaN(p)?a('[data-anchor="'+p+'"]'):a(".fp-section").eq(p-1);p===d||r.hasClass("active")?be(r,q):aY(r,function(){be(r,q)})}function be(p,q){if("undefined"!=typeof q){var r=p.find(".fp-slides"),t=r.find('[data-anchor="'+q+'"]');t.length||(t=r.find(".fp-slide").eq(q));t.length&&ak(r,t)}}function aE(p,q){p.append('<div class="fp-slidesNav"><ul></ul></div>');var r=p.find(".fp-slidesNav");r.addClass(n.slidesNavPosition);for(var t=0;t<q;t++){r.find("ul").append('<li><a href="#"><span></span></a></li>')}r.css("margin-left","-"+r.width()/2+"px");r.find("li").first().find("a").addClass("active")}function a5(p,q,r,t){t="";n.anchors.length&&(p?("undefined"!==typeof r&&(t=r),"undefined"===typeof q&&(q=p),bd=q,bh(t+"/"+q)):("undefined"!==typeof p&&(bd=q),bh(r)));j()}function bh(p){if(n.recordHistory){location.hash=p}else{if(aI||aQ){history.replaceState(b,b,"#"+p)}else{var q=c.location.href.split("#")[0];c.location.replace(q+"#"+p)}}}function aN(p){var q=p.data("anchor");p=p.index();"undefined"===typeof q&&(q=p);return q}function j(){var p=a(".fp-section.active"),q=p.find(".fp-slide.active"),r=p.data("anchor"),t=aN(q),p=p.index(".fp-section"),p=String(p);n.anchors.length&&(p=r);q.length&&(p=p+"-"+t);p=p.replace("/","-").replace("#","");aP[0].className=aP[0].className.replace(RegExp("\\b\\s?fp-viewing-[^\\s]+\\b","g"),"");aP.addClass("fp-viewing-"+p)}function aH(){var p=g.createElement("p"),q,r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};g.body.insertBefore(p,null);for(var t in r){p.style[t]!==b&&(p.style[t]="translate3d(1px,1px,1px)",q=c.getComputedStyle(p).getPropertyValue(r[t]))}g.body.removeChild(p);return q!==b&&0<q.length&&"none"!==q}function aK(){if(aI||aQ){var p=m();a(".fullpage-wrapper").off("touchstart "+p.down).on("touchstart "+p.down,am);a(".fullpage-wrapper").off("touchmove "+p.move).on("touchmove "+p.move,aj)}}function aO(){if(aI||aQ){var p=m();a(".fullpage-wrapper").off("touchstart "+p.down);a(".fullpage-wrapper").off("touchmove "+p.move)}}function m(){return c.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function an(p){var q=[];q.y="undefined"!==typeof p.pageY&&(p.pageY||p.pageX)?p.pageY:p.touches[0].pageY;q.x="undefined"!==typeof p.pageX&&(p.pageY||p.pageX)?p.pageX:p.touches[0].pageX;aQ&&a8(p)&&(q.y=p.touches[0].pageY,q.x=p.touches[0].pageX);return q}function bb(p){ac.setScrollingSpeed(0,"internal");ak(p.closest(".fp-slides"),p);ac.setScrollingSpeed(aM.scrollingSpeed,"internal")}function ba(p){n.scrollBar?ag.scrollTop(p):n.css3?aD("translate3d(0px, -"+p+"px, 0px)",!1):ag.css("top",-p)}function aV(p){return{"-webkit-transform":p,"-moz-transform":p,"-ms-transform":p,transform:p}}function aS(){ba(0);a("#fp-nav, .fp-slidesNav, .fp-controlArrow").remove();a(".fp-section").css({height:"","background-color":"",padding:""});a(".fp-slide").css({width:""});ag.css({height:"",position:"","-ms-touch-action":"","touch-action":""});a(".fp-section, .fp-slide").each(function(){a6(a(this));a(this).removeClass("fp-table active")});ag.addClass("fp-notransition");ag.find(".fp-tableCell, .fp-slidesContainer, .fp-slides").each(function(){a(this).replaceWith(this.childNodes)});a7.scrollTop(0)}function aU(p,q,r){n[p]=q;"internal"!==r&&(aM[p]=q)}function aW(p,q){console&&console[p]&&console[p]("fullPage: "+q)}var a7=a("html, body"),aP=a("body"),ac=a.fn.fullpage;n=a.extend({menu:!1,anchors:[],navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,normalScrollElements:null,scrollOverflow:!1,touchSensitivity:5,normalScrollElementTouchThreshold:5,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,resize:!1,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,sectionSelector:".section",slideSelector:".slide",afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},n);(function(){n.continuousVertical&&(n.loopTop||n.loopBottom)&&(n.continuousVertical=!1,aW("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled"));n.continuousVertical&&n.scrollBar&&(n.continuousVertical=!1,aW("warn","Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled"));a.each(n.anchors,function(p,q){(a("#"+q).length||a('[name="'+q+'"]').length)&&aW("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")})})();a.extend(a.easing,{easeInOutCubic:function(p,q,r,t,u){return 1>(q/=u/2)?t/2*q*q*q+r:t/2*((q-=2)*q*q+2)+r}});a.extend(a.easing,{easeInQuart:function(p,q,r,t,u){return t*(q/=u)*q*q*q+r}});ac.setAutoScrolling=function(p,q){aU("autoScrolling",p,q);var r=a(".fp-section.active");n.autoScrolling&&!n.scrollBar?(a7.css({overflow:"hidden",height:"100%"}),ac.setRecordHistory(n.recordHistory,"internal"),ag.css({"-ms-touch-action":"none","touch-action":"none"}),r.length&&ba(r.position().top)):(a7.css({overflow:"visible",height:"initial"}),ac.setRecordHistory(!1,"internal"),ag.css({"-ms-touch-action":"","touch-action":""}),ba(0),r.length&&a7.scrollTop(r.position().top))};ac.setRecordHistory=function(p,q){aU("recordHistory",p,q)};ac.setScrollingSpeed=function(p,q){aU("scrollingSpeed",p,q)};ac.setFitToSection=function(p,q){aU("fitToSection",p,q)};ac.setMouseWheelScrolling=function(p){p?(p=a(".fullpage-wrapper")[0],g.addEventListener?(p.addEventListener("mousewheel",o,!1),p.addEventListener("wheel",o,!1)):p.attachEvent("onmousewheel",o)):(p=a(".fullpage-wrapper")[0],g.addEventListener?(p.removeEventListener("mousewheel",o,!1),p.removeEventListener("wheel",o,!1)):p.detachEvent("onmousewheel",o))};ac.setAllowScrolling=function(p,q){"undefined"!=typeof q?(q=q.replace(/ /g,"").split(","),a.each(q,function(r,t){switch(t){case"up":a4.up=p;break;case"down":a4.down=p;break;case"left":a4.left=p;break;case"right":a4.right=p;break;case"all":ac.setAllowScrolling(p)}})):p?(ac.setMouseWheelScrolling(!0),aK()):(ac.setMouseWheelScrolling(!1),aO())};ac.setKeyboardScrolling=function(p){n.keyboardScrolling=p};ac.moveSectionUp=function(){var p=a(".fp-section.active").prev(".fp-section");p.length||!n.loopTop&&!n.continuousVertical||(p=a(".fp-section").last());p.length&&aY(p,null,!0)};ac.moveSectionDown=function(){var p=a(".fp-section.active").next(".fp-section");p.length||!n.loopBottom&&!n.continuousVertical||(p=a(".fp-section").first());p.length&&aY(p,null,!1)};ac.moveTo=function(p,q){var r="",r=isNaN(p)?a('[data-anchor="'+p+'"]'):a(".fp-section").eq(p-1);"undefined"!==typeof q?bg(p,q):0<r.length&&aY(r)};ac.moveSlideRight=function(){ax("next")};ac.moveSlideLeft=function(){ax("prev")};ac.reBuild=function(p){if(!ag.hasClass("fp-destroyed")){a1=!0;var q=e.width();aL=e.height();n.resize&&aB(aL,q);a(".fp-section").each(function(){var r=a(this).find(".fp-slides"),t=a(this).find(".fp-slide");n.verticalCentered&&a(this).find(".fp-tableCell").css("height",bc(a(this))+"px");a(this).css("height",aL+"px");n.scrollOverflow&&(t.length?t.each(function(){ap(a(this))}):ap(a(this)));1<t.length&&ak(r,r.find(".fp-slide.active"))});q=a(".fp-section.active");q.index(".fp-section")&&aY(q);a1=!1;a.isFunction(n.afterResize)&&p&&n.afterResize.call(ag);a.isFunction(n.afterReBuild)&&!p&&n.afterReBuild.call(ag)}};var k=!1,aI=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),aQ="ontouchstart" in c||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints,ag=a(this),aL=e.height(),a1=!1,d,bd,aT=!0,H=[],bf,a4={up:!0,down:!0,left:!0,right:!0},aM=a.extend(!0,{},n);a(this).length?(ag.css({height:"100%",position:"relative"}),ag.addClass("fullpage-wrapper")):aW("error","Error! Fullpage.js needs to be initialized with a selector. For example: $('#myContainer').fullpage();");n.css3&&(n.css3=aH());ac.setAllowScrolling(!0);ag.removeClass("fp-destroyed");a(n.sectionSelector).each(function(){a(this).addClass("fp-section")});a(n.slideSelector).each(function(){a(this).addClass("fp-slide")});n.navigation&&af();a(".fp-section").each(function(p){var q=a(this),r=a(this).find(".fp-slide"),t=r.length;p||0!==a(".fp-section.active").length||a(this).addClass("active");a(this).css("height",aL+"px");n.paddingTop&&a(this).css("padding-top",n.paddingTop);n.paddingBottom&&a(this).css("padding-bottom",n.paddingBottom);"undefined"!==typeof n.sectionsColor[p]&&a(this).css("background-color",n.sectionsColor[p]);"undefined"!==typeof n.anchors[p]&&(a(this).attr("data-anchor",n.anchors[p]),a(this).hasClass("active")&&at(n.anchors[p],p));if(0<t){p=100*t;var u=100/t;r.wrapAll('<div class="fp-slidesContainer" />');r.parent().wrap('<div class="fp-slides" />');a(this).find(".fp-slidesContainer").css("width",p+"%");n.controlArrows&&1<t&&ab(a(this));n.slidesNavigation&&aE(a(this),t);r.each(function(v){a(this).css("width",u+"%");n.verticalCentered&&a9(a(this))});q=q.find(".fp-slide.active");q.length?bb(q):r.eq(0).addClass("active")}else{n.verticalCentered&&a9(a(this))}}).promise().done(function(){ac.setAutoScrolling(n.autoScrolling,"internal");var p=a(".fp-section.active").find(".fp-slide.active");p.length&&(0!==a(".fp-section.active").index(".fp-section")||0===a(".fp-section.active").index(".fp-section")&&0!==p.index())&&bb(p);n.fixedElements&&n.css3&&a(n.fixedElements).appendTo(aP);n.navigation&&(bf.css("margin-top","-"+bf.height()/2+"px"),bf.find("li").eq(a(".fp-section.active").index(".fp-section")).find("a").addClass("active"));n.menu&&n.css3&&a(n.menu).closest(".fullpage-wrapper").length&&a(n.menu).appendTo(aP);n.scrollOverflow?("complete"===g.readyState&&l(),e.on("load",l)):a.isFunction(n.afterRender)&&n.afterRender.call(ag);a0();if(!n.animateAnchor&&(p=c.location.hash.replace("#","").split("/")[0],p.length)){var q=a('[data-anchor="'+p+'"]');q.length&&(n.autoScrolling?ba(q.position().top):(ba(0),a7.scrollTop(q.position().top)),at(p,null),a.isFunction(n.afterLoad)&&n.afterLoad.call(q,p,q.index(".fp-section")+1),q.addClass("active").siblings().removeClass("active"))}j();e.on("load",function(){var r=c.location.hash.replace("#","").split("/"),t=r[0],r=r[1];t&&bg(t,r)})});var aa,ae,aZ=!1;e.on("scroll",s);var ah=0,aC=0,ad=0,az=0,au=(new Date).getTime();e.on("hashchange",aJ);h.keydown(function(p){clearTimeout(y);var q=a(g.activeElement);q.is("textarea")||q.is("input")||q.is("select")||!n.keyboardScrolling||!n.autoScrolling||(-1<a.inArray(p.which,[40,38,32,33,34])&&p.preventDefault(),y=setTimeout(function(){var r=p.shiftKey;switch(p.which){case 38:case 33:ac.moveSectionUp();break;case 32:if(r){ac.moveSectionUp();break}case 40:case 34:ac.moveSectionDown();break;case 36:ac.moveTo(1);break;case 35:ac.moveTo(a(".fp-section").length);break;case 37:ac.moveSlideLeft();break;case 39:ac.moveSlideRight()}},150))});var y;ag.mousedown(function(p){2==p.which&&(aF=p.pageY,ag.on("mousemove",ay))});ag.mouseup(function(p){2==p.which&&ag.off("mousemove")});var aF=0;h.on("click touchstart","#fp-nav a",function(p){p.preventDefault();p=a(this).parent().index();aY(a(".fp-section").eq(p))});h.on("click touchstart",".fp-slidesNav a",function(p){p.preventDefault();p=a(this).closest(".fp-section").find(".fp-slides");var q=p.find(".fp-slide").eq(a(this).closest("li").index());ak(p,q)});n.normalScrollElements&&(h.on("mouseenter",n.normalScrollElements,function(){ac.setMouseWheelScrolling(!1)}),h.on("mouseleave",n.normalScrollElements,function(){ac.setMouseWheelScrolling(!0)}));a(".fp-section").on("click touchstart",".fp-controlArrow",function(){a(this).hasClass("fp-prev")?ac.moveSlideLeft():ac.moveSlideRight()});e.resize(aX);var i=aL,a3;ac.destroy=function(p){ac.setAutoScrolling(!1,"internal");ac.setAllowScrolling(!1);ac.setKeyboardScrolling(!1);ag.addClass("fp-destroyed");e.off("scroll",s).off("hashchange",aJ).off("resize",aX);h.off("click","#fp-nav a").off("mouseenter","#fp-nav li").off("mouseleave","#fp-nav li").off("click",".fp-slidesNav a").off("mouseover",n.normalScrollElements).off("mouseout",n.normalScrollElements);a(".fp-section").off("click",".fp-controlArrow");p&&aS()}}})(jQuery,window,document,Math);!function(x){function k(){var a,c,d={height:b.innerHeight,width:b.innerWidth};return d.height||(a=w.compatMode,(a||!x.support.boxModel)&&(c="CSS1Compat"===a?m:w.body,d={height:c.clientHeight,width:c.clientWidth})),d}function q(){return{top:b.pageYOffset||m.scrollTop||w.body.scrollTop,left:b.pageXOffset||m.scrollLeft||w.body.scrollLeft}}function u(){var i,h=x(),t=0;if(x.each(j,function(r,a){var c=a.data.selector,l=a.$element;h=h.add(c?l.find(c):l)}),i=h.length){for(v=v||k(),p=p||q();i>t;t++){if(x.contains(m,h[t])){var d,e,o,y=x(h[t]),z={height:y.height(),width:y.width()},f=y.offset(),A=y.data("inview");if(!p||!v){return}f.top+z.height>p.top&&f.top<p.top+v.height&&f.left+z.width>p.left&&f.left<p.left+v.width?(d=p.left>f.left?"right":p.left+v.width<f.left+z.width?"left":"both",e=p.top>f.top?"bottom":p.top+v.height<f.top+z.height?"top":"both",o=d+"-"+e,A&&A===o||y.data("inview",o).trigger("inview",[!0,d,e])):A&&y.data("inview",!1).trigger("inview",[!1])}}}}var v,p,s,j={},w=document,b=window,m=w.documentElement,g=x.expando;x.event.special.inview={add:function(a){j[a.guid+"-"+this[g]]={data:a,$element:x(this)},s||x.isEmptyObject(j)||(s=setInterval(u,250))},remove:function(a){try{delete j[a.guid+"-"+this[g]]}catch(c){}x.isEmptyObject(j)&&(clearInterval(s),s=null)}},x(b).bind("scroll resize scrollstop",function(){v=p=null}),!m.addEventListener&&m.attachEvent&&m.attachEvent("onfocusin",function(){p=null})}(jQuery);(function(a,e,f,i){function j(){var c=a(this),g;if(g=c.is(":visible")){g=c[0].getBoundingClientRect();var h=-c.data("jquery-lazyload-any").threshold,k=o-h,l=s-h;g=(g.top>=h&&g.top<=k||g.bottom>=h&&g.bottom<=k)&&(g.left>=h&&g.left<=l||g.right>=h&&g.right<=l)}g&&c.trigger("appear")}function x(){o=e.innerHeight||f.documentElement.clientHeight;s=e.innerWidth||f.documentElement.clientWidth;b()}function b(){d=d.filter(":jquery-lazyload-any-appear");1==this.nodeType?a(this).find(":jquery-lazyload-any-appear").each(j):d.each(j)}function B(){var c=a(this),g=c.data("jquery-lazyload-any"),h=c.contents().filter(function(){return 8===this.nodeType}).get(0),h=a(h&&a.trim(h.data));c.replaceWith(h);a.isFunction(g.load)&&g.load.call(h,h)}function y(){var c=a(this),g;c.data("jquery-lazyload-any-scroller")?g=!1:(g=c.css("overflow"),"scroll"!=g&&"auto"!=g?g=!1:(c.data("jquery-lazyload-any-scroller",1),c.bind("scroll",b),g=!0));var h;c.data("jquery-lazyload-any-display")?h=void 0:"none"!=c.css("display")?h=void 0:(c.data("jquery-lazyload-any-display",1),c._bindShow(b),h=!0);g|h&&!c.data("jquery-lazyload-any-watch")&&(c.data("jquery-lazyload-any-watch",1),c.bind("appear",z))}function z(){var c=a(this);0===c.find(":jquery-lazyload-any-appear").length&&(c.removeData("jquery-lazyload-any-scroller").removeData("jquery-lazyload-any-display").removeData("jquery-lazyload-any-watch"),c.unbind("scroll",b).unbind("appear",z)._unbindShow(b))}var o,s,A=!1,d=a();a.expr[":"]["jquery-lazyload-any-appear"]=function(c){return a(c).data("jquery-lazyload-any-appear")!==i};a.fn.lazyload=function(c){var g={threshold:0,trigger:"appear"};a.extend(g,c);c=g.trigger.split(" ");this.data("jquery-lazyload-any-appear",-1!=a.inArray("appear",c)).data("jquery-lazyload-any",g);this.bind(g.trigger,B);this.each(j);this.parents().each(y);this.each(function(){d=d.add(this)});A||(A=!0,x(),a(f).ready(function(){a(e).bind("resize",x).bind("scroll",b)}));return this};a.lazyload={check:b,refresh:function(c){(c===i?d:a(c)).each(function(){var g=a(this);g.is(":jquery-lazyload-any-appear")&&g.parents().each(y)})}};(function(){function c(){var m=a(this),n="none"!=m.css("display");m.data("jquery-lazyload-any-show")!=n&&(m.data("jquery-lazyload-any-show",n),n&&m.trigger("show"))}function g(){l=l.filter(":jquery-lazyload-any-show");l.each(c);0===l.length&&(k=clearInterval(k))}var h=50,k,l=a();a.expr[":"]["jquery-lazyload-any-show"]=function(m){return a(m).data("jquery-lazyload-any-show")!==i};a.fn._bindShow=function(m){this.bind("show",m);this.data("jquery-lazyload-any-show","none"!=this.css("display"));l=l.add(this);h&&!k&&(k=setInterval(g,h))};a.fn._unbindShow=function(m){this.unbind("show",m);this.removeData("jquery-lazyload-any-show")};a.lazyload.setInterval=function(m){m==h||!a.isNumeric(m)||0>m||(h=m,k=clearInterval(k),0<h&&(k=setInterval(g,h)))}})()})(jQuery,window,document);(function(a){var b=0;a.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var d=this.element.hide(),e=this.options;this.speed=a.fx.speeds._default;this._isOpen=!1;d=(this.button=a('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(e.classes).attr({title:d.attr("title"),"aria-haspopup":!0,tabIndex:d.attr("tabIndex")}).insertAfter(d);(this.buttonlabel=a("<span />")).html(e.noneSelectedText).appendTo(d);var d=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(e.classes).appendTo(document.body),f=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(d);(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){return !0===e.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+e.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+e.uncheckAllText+"</span></a></li>":"string"===typeof e.header?"<li>"+e.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(f);(this.checkboxContainer=a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(d);this._bindEvents();this.refresh(!0);e.multiple||d.addClass("ui-multiselect-single")},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(d){var j=this.element,k=this.options,m=this.menu,o=this.checkboxContainer,n=[],l="",p=j.attr("id")||b++;j.find("option").each(function(e){a(this);var c=this.parentNode,g=this.innerHTML,i=this.title,r=this.value,e="ui-multiselect-"+(this.id||p+"-option-"+e),s=this.disabled,u=this.selected,t=["ui-corner-all"],v=(s?"ui-multiselect-disabled ":" ")+this.className,q;"OPTGROUP"===c.tagName&&(q=c.getAttribute("label"),-1===a.inArray(q,n)&&(l+='<li class="ui-multiselect-optgroup-label '+c.className+'"><a href="#">'+q+"</a></li>",n.push(q)));s&&t.push("ui-state-disabled");u&&!k.multiple&&t.push("ui-state-active");l+='<li class="'+v+'">';l+='<label for="'+e+'" title="'+i+'" class="'+t.join(" ")+'">';l+='<input id="'+e+'" name="multiselect_'+p+'" type="'+(k.multiple?"checkbox":"radio")+'" value="'+r+'" title="'+g+'"';u&&(l+=' checked="checked"',l+=' aria-selected="true"');s&&(l+=' disabled="disabled"',l+=' aria-disabled="true"');l+=" /><span>"+g+"</span></label></li>"});o.html(l);this.labels=m.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();this._setMenuWidth();this.button[0].defaultValue=this.update();d||this._trigger("refresh")},update:function(){var d=this.options,e=this.inputs,g=e.filter(":checked"),h=g.length,d=0===h?d.noneSelectedText:a.isFunction(d.selectedText)?d.selectedText.call(this,h,e.length,g.get()):/\d/.test(d.selectedList)&&0<d.selectedList&&h<=d.selectedList?g.map(function(){return a(this).next().html()}).get().join(", "):d.selectedText.replace("#",h).replace("#",e.length);this.buttonlabel.html(d);return d},_bindEvents:function(){function d(){e[e._isOpen?"close":"open"]();return !1}var e=this,f=this.button;f.find("span").bind("click.multiselect",d);f.bind({click:d,keypress:function(c){switch(c.which){case 27:case 38:case 37:e.close();break;case 39:case 40:e.open()}},mouseenter:function(){f.hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){f.hasClass("ui-state-disabled")||a(this).addClass("ui-state-focus")},blur:function(){a(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(c){if(a(this).hasClass("ui-multiselect-close")){e.close()}else{e[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]()}c.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(h){h.preventDefault();var i=a(this),k=i.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),j=k.get(),i=i.parent().text();!1!==e._trigger("beforeoptgrouptoggle",h,{inputs:j,label:i})&&(e._toggleChecked(k.filter(":checked").length!==k.length,k),e._trigger("optgrouptoggle",h,{inputs:j,label:i,checked:j[0].checked}))}).delegate("label","mouseenter.multiselect",function(){a(this).hasClass("ui-state-disabled")||(e.labels.removeClass("ui-state-hover"),a(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(c){c.preventDefault();switch(c.which){case 9:case 27:e.close();break;case 38:case 40:case 37:case 39:e._traverse(c.which,this);break;case 13:a(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(h){var j=a(this),l=this.value,k=this.checked,m=e.element.find("option");this.disabled||!1===e._trigger("click",h,{value:l,text:this.title,checked:k})?h.preventDefault():(j.focus(),j.attr("aria-selected",k),m.each(function(){this.value===l?this.selected=k:e.options.multiple||(this.selected=!1)}),e.options.multiple||(e.labels.removeClass("ui-state-active"),j.closest("label").toggleClass("ui-state-active",k),e.close()),e.element.trigger("change"),setTimeout(a.proxy(e.update,e),10))});a(document).bind("mousedown.multiselect",function(c){e._isOpen&&(!a.contains(e.menu[0],c.target)&&!a.contains(e.button[0],c.target)&&c.target!==e.button[0])&&e.close()});a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(e.refresh,e),10)})},_setButtonWidth:function(){var c=this.element.outerWidth(),d=this.options;/\d/.test(d.minWidth)&&c<d.minWidth&&(c=d.minWidth);this.button.width(c)},_setMenuWidth:function(){var c=this.menu,d=this.button.outerWidth()-parseInt(c.css("padding-left"),10)-parseInt(c.css("padding-right"),10)-parseInt(c.css("border-right-width"),10)-parseInt(c.css("border-left-width"),10);c.width(d||this.button.outerWidth())},_traverse:function(d,e){var g=a(e),h=38===d||37===d,g=g.parent()[h?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[h?"last":"first"]();g.length?g.find("label").trigger("mouseover"):(g=this.menu.find("ul").last(),this.menu.find("label")[h?"last":"first"]().trigger("mouseover"),g.scrollTop(h?g.height():0))},_toggleState:function(c,d){return function(){this.disabled||(this[c]=d);d?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(d,e){var g=e&&e.length?e:this.inputs,i=this;g.each(this._toggleState("checked",d));g.eq(0).focus();this.update();var j=g.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<a.inArray(this.value,j)&&i._toggleState("selected",d).call(this)});g.length&&this.element.trigger("change")},_toggleDisabled:function(c){this.button.attr({disabled:c,"aria-disabled":c})[c?"addClass":"removeClass"]("ui-state-disabled");var d=this.menu.find("input"),d=c?d.filter(":enabled").data("ech-multiselect-disabled",!0):d.filter(function(){return !0===a.data(this,"ech-multiselect-disabled")}).removeData("ech-multiselect-disabled");d.attr({disabled:c,"arial-disabled":c}).parent()[c?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:c,"aria-disabled":c})},open:function(){var d=this.button,j=this.menu,k=this.speed,m=this.options,o=[];if(!(!1===this._trigger("beforeopen")||d.hasClass("ui-state-disabled")||this._isOpen)){var n=j.find("ul").last(),l=m.show,p=d.offset();a.isArray(m.show)&&(l=m.show[0],k=m.show[1]||this.speed);l&&(o=[l,k]);n.scrollTop(0).height(m.height);a.ui.position&&!a.isEmptyObject(m.position)?(m.position.of=m.position.of||d,j.show().position(m.position).hide()):j.css({top:p.top+d.outerHeight(),left:p.left});a.fn.show.apply(j,o);this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");d.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},close:function(){if(!1!==this._trigger("beforeclose")){var d=this.options,e=d.hide,g=this.speed,h=[];a.isArray(d.hide)&&(e=d.hide[0],g=d.hide[1]||this.speed);e&&(h=[e,g]);a.fn.hide.apply(this.menu,h);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){a.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},_setOption:function(d,e){var f=this.menu;switch(d){case"header":f.find("div.ui-multiselect-header")[e?"show":"hide"]();break;case"checkAllText":f.find("a.ui-multiselect-all span").eq(-1).text(e);break;case"uncheckAllText":f.find("a.ui-multiselect-none span").eq(-1).text(e);break;case"height":f.find("ul").last().height(parseInt(e,10));break;case"minWidth":this.options[d]=parseInt(e,10);this._setButtonWidth();this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[d]=e;this.update();break;case"classes":f.add(this.button).removeClass(this.options.classes).addClass(e);break;case"multiple":f.toggleClass("ui-multiselect-single",!e),this.options.multiple=e,this.element[0].multiple=e,this.refresh()}a.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);/*
 * JavaScript Cookie v2.0.0-pre
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl
 * Released under the MIT license
 */
(function(c){if(typeof define==="function"&&define.amd){define(c)}else{if(typeof exports==="object"){module.exports=c()}else{var a=window.Cookies;var b=window.Cookies=c(window.jQuery);b.noConflict=function(){window.Cookies=a;return b}}}}(function(){function a(){var d=0;var f={};for(;d<arguments.length;d++){var c=arguments[d];for(var e in c){f[e]=c[e]}}return f}function b(d){function c(m,r,f){var q;if(arguments.length>1){f=a({path:"/"},c.defaults,f);if(typeof f.expires==="number"){var k=new Date();k.setMilliseconds(k.getMilliseconds()+f.expires*86400000);f.expires=k}try{q=JSON.stringify(r);if(/^[\{\[]/.test(q)){r=q}}catch(j){}r=encodeURIComponent(String(r));r=r.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);m=encodeURIComponent(String(m));m=m.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);m=m.replace(/[\(\)]/g,escape);return(document.cookie=[m,"=",r,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure&&"; secure"].join(""))}if(!m){q={}}var h=document.cookie?document.cookie.split("; "):[];var p=/(%[0-9A-Z]{2})+/g;var l=0;for(;l<h.length;l++){var o=h[l].split("=");var n=o[0].replace(p,decodeURIComponent);var g=o.slice(1).join("=");if(g.charAt(0)==='"'){g=g.slice(1,-1)}g=d&&d(g,n)||g.replace(p,decodeURIComponent);if(this.json){try{g=JSON.parse(g)}catch(j){}}if(m===n){q=g;break}if(!m){q[n]=g}}return q}c.get=c.set=c;c.getJSON=function(){return c.apply({json:true},[].slice.call(arguments))};c.defaults={};c.remove=function(f,e){c(f,"",a(e,{expires:-1}))};c.withConverter=b;return c}return b()}));if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());/*
 * Knockout JavaScript library v3.4.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){(function(n){var x=this||(0,eval)("this"),u=x.document,M=x.navigator,v=x.jQuery,F=x.JSON;(function(n){"function"===typeof define&&define.amd?define(["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(x.ko={})})(function(N,O){function J(a,c){return null===a||typeof a in T?a===c:!1}function U(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function V(b,c){var d;return function(){clearTimeout(d);d=a.a.setTimeout(b,c)}}function W(a,c){c&&c!==I?"beforeChange"===c?this.Kb(a):this.Ha(a,c):this.Lb(a)}function X(a,c){null!==c&&c.k&&c.k()}function Y(a,c){var d=this.Hc,e=d[s];e.R||(this.lb&&this.Ma[c]?(d.Pb(c,a,this.Ma[c]),this.Ma[c]=null,--this.lb):e.r[c]||d.Pb(c,a,e.s?{ia:a}:d.uc(a)))}function K(b,c,d,e){a.d[b]={init:function(b,g,k,l,m){var h,r;a.m(function(){var q=a.a.c(g()),p=!d!==!q,A=!r;if(A||c||p!==h){A&&a.va.Aa()&&(r=a.a.ua(a.f.childNodes(b),!0)),p?(A||a.f.da(b,a.a.ua(r)),a.eb(e?e(m,q):m,b)):a.f.xa(b),h=p}},null,{i:b});return{controlsDescendantBindings:!0}}};a.h.ta[b]=!1;a.f.Z[b]=!0}var a="undefined"!==typeof N?N:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++){e=e[d[f]]}e[d[d.length-1]]=c};a.G=function(a,c,d){a[c]=d};a.version="3.4.0";a.b("version",a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1};a.a=function(){function b(a,b){for(var c in a){a.hasOwnProperty(c)&&b(c,a[c])}}function c(a,b){if(b){for(var c in b){b.hasOwnProperty(c)&&(a[c]=b[c])}}return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var h=b[c].match(r)||[];a.a.q(d.match(r),function(b){a.a.pa(h,b,e)});b[c]=h.join(" ")}var f={__proto__:[]} instanceof Array,g="function"===typeof Symbol,k={},l={};k[M&&/Firefox\/2/i.test(M.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];k.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(k,function(a,b){if(b.length){for(var c=0,d=b.length;c<d;c++){l[b[c]]=a}}});var m={propertychange:!0},h=u&&function(){for(var a=3,b=u.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];){}return 4<a?a:n}(),r=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(a,b){for(var c=0,d=a.length;c<d;c++){b(a[c],c)}},o:function(a,b){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(a,b)}for(var c=0,d=a.length;c<d;c++){if(a[c]===b){return c}}return -1},Sb:function(a,b,c){for(var d=0,e=a.length;d<e;d++){if(b.call(c,a[d],d)){return a[d]}}return null},La:function(b,c){var d=a.a.o(b,c);0<d?b.splice(d,1):0===d&&b.shift()},Tb:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++){0>a.a.o(c,b[d])&&c.push(b[d])}return c},fb:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++){c.push(b(a[d],d))}return c},Ka:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++){b(a[d],d)&&c.push(a[d])}return c},ra:function(a,b){if(b instanceof Array){a.push.apply(a,b)}else{for(var c=0,d=b.length;c<d;c++){a.push(b[c])}}return a},pa:function(b,c,d){var e=a.a.o(a.a.zb(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},ka:f,extend:c,Xa:d,Ya:f?d:c,D:b,Ca:function(a,b){if(!a){return a}var c={},d;for(d in a){a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a))}return c},ob:function(b){for(;b.firstChild;){a.removeNode(b.firstChild)}},jc:function(b){b=a.a.V(b);for(var c=(b[0]&&b[0].ownerDocument||u).createElement("div"),d=0,e=b.length;d<e;d++){c.appendChild(a.$(b[d]))}return c},ua:function(b,c){for(var d=0,e=b.length,h=[];d<e;d++){var m=b[d].cloneNode(!0);h.push(c?a.$(m):m)}return h},da:function(b,c){a.a.ob(b);if(c){for(var d=0,e=c.length;d<e;d++){b.appendChild(c[d])}}},qc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],h=e.parentNode,m=0,l=c.length;m<l;m++){h.insertBefore(c[m],e)}m=0;for(l=d.length;m<l;m++){a.removeNode(d[m])}}},za:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;){a.splice(0,1)}for(;1<a.length&&a[a.length-1].parentNode!==b;){a.length--}if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;){a.push(c),c=c.nextSibling}a.push(d)}}return a},sc:function(a,b){7>h?a.setAttribute("selected",b):a.selected=b},$a:function(a){return null===a||a===n?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Mc:function(a,b){if(a===b){return !0}if(11===a.nodeType){return !1}if(b.contains){return b.contains(3===a.nodeType?a.parentNode:a)}if(b.compareDocumentPosition){return 16==(b.compareDocumentPosition(a)&16)}for(;a&&a!=b;){a=a.parentNode}return !!a},nb:function(b){return a.a.Mc(b,b.ownerDocument.documentElement)},Qb:function(b){return !!a.a.Sb(b,a.a.nb)},A:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},Wb:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c}}:b},setTimeout:function(b,c){return setTimeout(a.a.Wb(b),c)},$b:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b},0)},p:function(b,c,d){var e=a.a.Wb(d);d=h&&m[c];if(a.options.useOnlyNativeEvents||d||!v){if(d||"function"!=typeof b.addEventListener){if("undefined"!=typeof b.attachEvent){var l=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,l);a.a.F.oa(b,function(){b.detachEvent(f,l)})}else{throw Error("Browser doesn't support addEventListener or attachEvent")}}else{b.addEventListener(c,e,!1)}}else{v(b).bind(c,e)}},Da:function(b,c){if(!b||!b.nodeType){throw Error("element must be a DOM node when calling triggerEvent")}var d;"input"===a.a.A(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d){if("function"==typeof u.createEvent){if("function"==typeof b.dispatchEvent){d=u.createEvent(l[c]||"HTMLEvents"),d.initEvent(c,!0,!0,x,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d)}else{throw Error("The supplied element doesn't support dispatchEvent")}}else{if(d&&b.click){b.click()}else{if("undefined"!=typeof b.fireEvent){b.fireEvent("on"+c)}else{throw Error("Browser doesn't support triggering events")}}}}else{v(b).trigger(c)}},c:function(b){return a.H(b)?b():b},zb:function(b){return a.H(b)?b.t():b},bb:function(b,c,d){var h;c&&("object"===typeof b.classList?(h=b.classList[d?"add":"remove"],a.a.q(c.match(r),function(a){h.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Za:function(b,c){var d=a.a.c(c);if(null===d||d===n){d=""}var e=a.f.firstChild(b);!e||3!=e.nodeType||a.f.nextSibling(e)?a.f.da(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Rc(b)},rc:function(a,b){a.name=b;if(7>=h){try{a.mergeAttributes(u.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}}},Rc:function(a){9<=h&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Nc:function(a){if(h){var b=a.style.width;a.style.width=0;a.style.width=b}},hd:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],e=b;e<=c;e++){d.push(e)}return d},V:function(a){for(var b=[],c=0,d=a.length;c<d;c++){b.push(a[c])}return b},Yb:function(a){return g?Symbol(a):a},rd:6===h,sd:7===h,C:h,ec:function(b,c){for(var d=a.a.V(b.getElementsByTagName("input")).concat(a.a.V(b.getElementsByTagName("textarea"))),e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},h=[],m=d.length-1;0<=m;m--){e(d[m])&&h.push(d[m])}return h},ed:function(b){return"string"==typeof b&&(b=a.a.$a(b))?F&&F.parse?F.parse(b):(new Function("return "+b))():null},Eb:function(b,c,d){if(!F||!F.stringify){throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return F.stringify(a.a.c(b),c,d)},fd:function(c,d,e){e=e||{};var h=e.params||{},m=e.includeFields||this.cc,l=c;if("object"==typeof c&&"form"===a.a.A(c)){for(var l=c.action,f=m.length-1;0<=f;f--){for(var g=a.a.ec(c,m[f]),k=g.length-1;0<=k;k--){h[g[k].name]=g[k].value}}}d=a.a.c(d);var r=u.createElement("form");r.style.display="none";r.action=l;r.method="post";for(var n in d){c=u.createElement("input"),c.type="hidden",c.name=n,c.value=a.a.Eb(a.a.c(d[n])),r.appendChild(c)}b(h,function(a,b){var c=u.createElement("input");c.type="hidden";c.name=a;c.value=b;r.appendChild(c)});u.body.appendChild(r);e.submitter?e.submitter(r):r.submit();setTimeout(function(){r.parentNode.removeChild(r)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.q);a.b("utils.arrayFirst",a.a.Sb);a.b("utils.arrayFilter",a.a.Ka);a.b("utils.arrayGetDistinctValues",a.a.Tb);a.b("utils.arrayIndexOf",a.a.o);a.b("utils.arrayMap",a.a.fb);a.b("utils.arrayPushAll",a.a.ra);a.b("utils.arrayRemoveItem",a.a.La);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.cc);a.b("utils.getFormFields",a.a.ec);a.b("utils.peekObservable",a.a.zb);a.b("utils.postJson",a.a.fd);a.b("utils.parseJson",a.a.ed);a.b("utils.registerEventHandler",a.a.p);a.b("utils.stringifyJson",a.a.Eb);a.b("utils.range",a.a.hd);a.b("utils.toggleDomNodeCssClass",a.a.bb);a.b("utils.triggerEvent",a.a.Da);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.D);a.b("utils.addOrRemoveItem",a.a.pa);a.b("utils.setTextContent",a.a.Za);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length){return function(){return c.apply(a,arguments)}}var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.e=new function(){function a(b,g){var k=b[d];if(!k||"null"===k||!e[k]){if(!g){return n}k=b[d]="ko"+c++;e[k]={}}return e[k]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===n?n:e[d]},set:function(c,d,e){if(e!==n||a(c,!1)!==n){a(c,!0)[d]=e}},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},I:function(){return c+++d}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.F=new function(){function b(b,c){var e=a.a.e.get(b,d);e===n&&c&&(e=[],a.a.e.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e){for(var e=e.slice(0),l=0;l<e.length;l++){e[l](d)}}a.a.e.clear(d);a.a.F.cleanExternalData(d);if(f[d.nodeType]){for(e=d.firstChild;d=e;){e=d.nextSibling,8===d.nodeType&&c(d)}}}var d=a.a.e.I(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{oa:function(a,c){if("function"!=typeof c){throw Error("Callback must be a function")}b(a,!0).push(c)},pc:function(c,e){var l=b(c,!1);l&&(a.a.La(l,e),0==l.length&&a.a.e.set(c,d,n))},$:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.ra(d,b.getElementsByTagName("*"));for(var l=0,m=d.length;l<m;l++){c(d[l])}}return b},removeNode:function(b){a.$(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.$=a.a.F.$;a.removeNode=a.a.F.removeNode;a.b("cleanNode",a.$);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.F);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.F.oa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.F.pc);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.C;a.a.ma=function(c,d){var e;if(v){if(v.parseHTML){e=v.parseHTML(c,d)||[]}else{if((e=v.clean([c],d))&&e[0]){for(var h=e[0];h.parentNode&&11!==h.parentNode.nodeType;){h=h.parentNode}h.parentNode&&h.parentNode.removeChild(h)}}}else{(e=d)||(e=u);var h=e.parentWindow||e.defaultView||x,r=a.a.$a(c).toLowerCase(),q=e.createElement("div"),p;p=(r=r.match(/^<([a-z]+)[ >]/))&&f[r[1]]||b;r=p[0];p="ignored<div>"+p[1]+c+p[2]+"</div>";"function"==typeof h.innerShiv?q.appendChild(h.innerShiv(p)):(g&&e.appendChild(q),q.innerHTML=p,g&&q.parentNode.removeChild(q));for(;r--;){q=q.lastChild}e=a.a.V(q.lastChild.childNodes)}return e};a.a.Cb=function(b,c){a.a.ob(b);c=a.a.c(c);if(null!==c&&c!==n){if("string"!=typeof c&&(c=c.toString()),v){v(b).html(c)}else{for(var d=a.a.ma(c,b.ownerDocument),e=0;e<d.length;e++){b.appendChild(d[e])}}}}})();a.b("utils.parseHtmlFragment",a.a.ma);a.b("utils.setHtml",a.a.Cb);a.M=function(){function b(c,e){if(c){if(8==c.nodeType){var f=a.M.lc(c.nodeValue);null!=f&&e.push({Lc:c,cd:f})}else{if(1==c.nodeType){for(var f=0,g=c.childNodes,k=g.length;f<k;f++){b(g[f],e)}}}}}var c={};return{wb:function(a){if("function"!=typeof a){throw Error("You can only pass a function to ko.memoization.memoize()")}var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},xc:function(a,b){var f=c[a];if(f===n){throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.")}try{return f.apply(null,b||[]),!0}finally{delete c[a]}},yc:function(c,e){var f=[];b(c,f);for(var g=0,k=f.length;g<k;g++){var l=f[g].Lc,m=[l];e&&a.a.ra(m,e);a.M.xc(f[g].cd,m);l.nodeValue="";l.parentNode&&l.parentNode.removeChild(l)}},lc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.M);a.b("memoization.memoize",a.M.wb);a.b("memoization.unmemoize",a.M.xc);a.b("memoization.parseMemoText",a.M.lc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.M.yc);a.Y=function(){function b(){if(e){for(var b=e,c=0,m;g<e;){if(m=d[g++]){if(g>b){if(5000<=++c){g=e;a.a.$b(Error("'Too much recursion' after processing "+c+" task groups."));break}b=e}try{m()}catch(h){a.a.$b(h)}}}}}function c(){b();g=e=d.length=0}var d=[],e=0,f=1,g=0;return{scheduler:x.MutationObserver?function(a){var b=u.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):u&&"onreadystatechange" in u.createElement("script")?function(a){var b=u.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;u.documentElement.removeChild(b);b=null;a()};u.documentElement.appendChild(b)}:function(a){setTimeout(a,0)},Wa:function(b){e||a.Y.scheduler(c);d[e++]=b;return f++},cancel:function(a){a-=f-e;a>=g&&a<e&&(d[a]=null)},resetForTesting:function(){var a=e-g;g=e=d.length=0;return a},md:b}}();a.b("tasks",a.Y);a.b("tasks.schedule",a.Y.Wa);a.b("tasks.runEarly",a.Y.md);a.ya={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.B({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.cb=!1;f="notifyWhenChangesStop"==e?V:U;a.Ta(function(a){return f(a,d)})},deferred:function(b,c){if(!0!==c){throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.")}b.cb||(b.cb=!0,b.Ta(function(c){var e;return function(){a.Y.cancel(e);e=a.Y.Wa(c);b.notifySubscribers(n,"dirty")}}))},notify:function(a,c){a.equalityComparer="always"==c?null:J}};var T={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.ya);a.vc=function(b,c,d){this.ia=b;this.gb=c;this.Kc=d;this.R=!1;a.G(this,"dispose",this.k)};a.vc.prototype.k=function(){this.R=!0;this.Kc()};a.J=function(){a.a.Ya(this,D);D.rb(this)};var I="change",D={rb:function(a){a.K={};a.Nb=1},X:function(b,c,d){var e=this;d=d||I;var f=new a.vc(e,c?b.bind(c):b,function(){a.a.La(e.K[d],f);e.Ia&&e.Ia(d)});e.sa&&e.sa(d);e.K[d]||(e.K[d]=[]);e.K[d].push(f);return f},notifySubscribers:function(b,c){c=c||I;c===I&&this.zc();if(this.Pa(c)){try{a.l.Ub();for(var d=this.K[c].slice(0),e=0,f;f=d[e];++e){f.R||f.gb(b)}}finally{a.l.end()}}},Na:function(){return this.Nb},Uc:function(a){return this.Na()!==a},zc:function(){++this.Nb},Ta:function(b){var c=this,d=a.H(c),e,f,g;c.Ha||(c.Ha=c.notifySubscribers,c.notifySubscribers=W);var k=b(function(){c.Mb=!1;d&&g===c&&(g=c());e=!1;c.tb(f,g)&&c.Ha(f=g)});c.Lb=function(a){c.Mb=e=!0;g=a;k()};c.Kb=function(a){e||(f=a,c.Ha(a,"beforeChange"))}},Pa:function(a){return this.K[a]&&this.K[a].length},Sc:function(b){if(b){return this.K[b]&&this.K[b].length||0}var c=0;a.a.D(this.K,function(a,b){"dirty"!==a&&(c+=b.length)});return c},tb:function(a,c){return !this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.D(b,function(b,e){var f=a.ya[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.G(D,"subscribe",D.X);a.G(D,"extend",D.extend);a.G(D,"getSubscriptionsCount",D.Sc);a.a.ka&&a.a.Xa(D,Function.prototype);a.J.fn=D;a.hc=function(a){return null!=a&&"function"==typeof a.X&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.J);a.b("isSubscribable",a.hc);a.va=a.l=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{Ub:b,end:c,oc:function(b){if(e){if(!a.hc(b)){throw Error("Only subscribable things can act as dependencies")}e.gb.call(e.Gc,b,b.Cc||(b.Cc=++f))}},w:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},Aa:function(){if(e){return e.m.Aa()}},Sa:function(){if(e){return e.Sa}}}}();a.b("computedContext",a.va);a.b("computedContext.getDependenciesCount",a.va.Aa);a.b("computedContext.isInitial",a.va.Sa);a.b("ignoreDependencies",a.qd=a.l.w);var E=a.a.Yb("_latestValue");a.N=function(b){function c(){if(0<arguments.length){return c.tb(c[E],arguments[0])&&(c.ga(),c[E]=arguments[0],c.fa()),this}a.l.oc(c);return c[E]}c[E]=b;a.a.ka||a.a.extend(c,a.J.fn);a.J.fn.rb(c);a.a.Ya(c,B);a.options.deferUpdates&&a.ya.deferred(c,!0);return c};var B={equalityComparer:J,t:function(){return this[E]},fa:function(){this.notifySubscribers(this[E])},ga:function(){this.notifySubscribers(this[E],"beforeChange")}};a.a.ka&&a.a.Xa(B,a.J.fn);var H=a.N.gd="__ko_proto__";B[H]=a.N;a.Oa=function(b,c){return null===b||b===n||b[H]===n?!1:b[H]===c?!0:a.Oa(b[H],c)};a.H=function(b){return a.Oa(b,a.N)};a.Ba=function(b){return"function"==typeof b&&b[H]===a.N||"function"==typeof b&&b[H]===a.B&&b.Vc?!0:!1};a.b("observable",a.N);a.b("isObservable",a.H);a.b("isWriteableObservable",a.Ba);a.b("isWritableObservable",a.Ba);a.b("observable.fn",B);a.G(B,"peek",B.t);a.G(B,"valueHasMutated",B.fa);a.G(B,"valueWillMutate",B.ga);a.la=function(b){b=b||[];if("object"!=typeof b||!("length" in b)){throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}b=a.N(b);a.a.Ya(b,a.la.fn);return b.extend({trackArrayChanges:!0})};a.la.fn={remove:function(b){for(var c=this.t(),d=[],e="function"!=typeof b||a.H(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];e(g)&&(0===d.length&&this.ga(),d.push(g),c.splice(f,1),f--)}d.length&&this.fa();return d},removeAll:function(b){if(b===n){var c=this.t(),d=c.slice(0);this.ga();c.splice(0,c.length);this.fa();return d}return b?this.remove(function(c){return 0<=a.a.o(b,c)}):[]},destroy:function(b){var c=this.t(),d="function"!=typeof b||a.H(b)?function(a){return a===b}:b;this.ga();for(var e=c.length-1;0<=e;e--){d(c[e])&&(c[e]._destroy=!0)}this.fa()},destroyAll:function(b){return b===n?this.destroy(function(){return !0}):b?this.destroy(function(c){return 0<=a.a.o(b,c)}):[]},indexOf:function(b){var c=this();return a.a.o(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ga(),this.t()[d]=c,this.fa())}};a.a.ka&&a.a.Xa(a.la.fn,a.N.fn);a.a.q("pop push reverse shift sort splice unshift".split(" "),function(b){a.la.fn[b]=function(){var a=this.t();this.ga();this.Vb(a,b,arguments);var d=a[b].apply(a,arguments);this.fa();return d===a?this:d}});a.a.q(["slice"],function(b){a.la.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b("observableArray",a.la);a.ya.trackArrayChanges=function(b,c){function d(){if(!e){e=!0;var c=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==I||++k;return c.apply(this,arguments)};var d=[].concat(b.t()||[]);f=null;g=b.X(function(c){c=[].concat(c||[]);if(b.Pa("arrayChange")){var e;if(!f||1<k){f=a.a.ib(d,c,b.hb)}e=f}d=c;f=null;k=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")})}}b.hb={};c&&"object"==typeof c&&a.a.extend(b.hb,c);b.hb.sparse=!0;if(!b.Vb){var e=!1,f=null,g,k=0,l=b.sa,m=b.Ia;b.sa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.Ia=function(a){m&&m.call(b,a);"arrayChange"!==a||b.Pa("arrayChange")||(g.k(),e=!1)};b.Vb=function(b,c,d){function m(a,b,c){return l[l.length]={status:a,value:b,index:c}}if(e&&!k){var l=[],g=b.length,t=d.length,G=0;switch(c){case"push":G=g;case"unshift":for(c=0;c<t;c++){m("added",d[c],G+c)}break;case"pop":G=g-1;case"shift":g&&m("deleted",b[G],G);break;case"splice":c=Math.min(Math.max(0,0>d[0]?g+d[0]:d[0]),g);for(var g=1===t?g:Math.min(c+(d[1]||0),g),t=c+t-2,G=Math.max(g,t),P=[],n=[],Q=2;c<G;++c,++Q){c<g&&n.push(m("deleted",b[c],c)),c<t&&P.push(m("added",d[Q],c))}a.a.dc(n,P);break;default:return}f=l}}}};var s=a.a.Yb("_state");a.m=a.B=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f){f.apply(g.pb,arguments)}else{throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}return this}a.l.oc(e);(g.S||g.s&&e.Qa())&&e.aa();return g.T}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read){throw Error("Pass a function that returns the value of the ko.computed")}var f=d.write,g={T:n,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:d.read,pb:c||d.owner,i:d.disposeWhenNodeIsRemoved||d.i||null,wa:d.disposeWhen||d.wa,mb:null,r:{},L:0,bc:null};e[s]=g;e.Vc="function"===typeof f;a.a.ka||a.a.extend(e,a.J.fn);a.J.fn.rb(e);a.a.Ya(e,z);d.pure?(g.Va=!0,g.s=!0,a.a.extend(e,$)):d.deferEvaluation&&a.a.extend(e,aa);a.options.deferUpdates&&a.ya.deferred(e,!0);g.i&&(g.Fb=!0,g.i.nodeType||(g.i=null));g.s||d.deferEvaluation||e.aa();g.i&&e.ba()&&a.a.F.oa(g.i,g.mb=function(){e.k()});return e};var z={equalityComparer:J,Aa:function(){return this[s].L},Pb:function(a,c,d){if(this[s].Va&&c===this){throw Error("A 'pure' computed must not be called recursively")}this[s].r[a]=d;d.Ga=this[s].L++;d.na=c.Na()},Qa:function(){var a,c,d=this[s].r;for(a in d){if(d.hasOwnProperty(a)&&(c=d[a],c.ia.Uc(c.na))){return !0}}},bd:function(){this.Fa&&!this[s].Ra&&this.Fa()},ba:function(){return this[s].S||0<this[s].L},ld:function(){this.Mb||this.ac()},uc:function(a){if(a.cb&&!this[s].i){var c=a.X(this.bd,this,"dirty"),d=a.X(this.ld,this);return{ia:a,k:function(){c.k();d.k()}}}return a.X(this.ac,this)},ac:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[s].bc),this[s].bc=a.a.setTimeout(function(){b.aa(!0)},c)):b.Fa?b.Fa():b.aa(!0)},aa:function(b){var c=this[s],d=c.wa;if(!c.Ra&&!c.R){if(c.i&&!a.a.nb(c.i)||d&&d()){if(!c.Fb){this.k();return}}else{c.Fb=!1}c.Ra=!0;try{this.Qc(b)}finally{c.Ra=!1}c.L||this.k()}},Qc:function(b){var c=this[s],d=c.Va?n:!c.L,e={Hc:this,Ma:c.r,lb:c.L};a.l.Ub({Gc:e,gb:Y,m:this,Sa:d});c.r={};c.L=0;e=this.Pc(c,e);this.tb(c.T,e)&&(c.s||this.notifySubscribers(c.T,"beforeChange"),c.T=e,c.s?this.zc():b&&this.notifySubscribers(c.T));d&&this.notifySubscribers(c.T,"awake")},Pc:function(b,c){try{var d=b.jd;return b.pb?d.call(b.pb):d()}finally{a.l.end(),c.lb&&!b.s&&a.a.D(c.Ma,X),b.S=!1}},t:function(){var a=this[s];(a.S&&!a.L||a.s&&this.Qa())&&this.aa();return a.T},Ta:function(b){a.J.fn.Ta.call(this,b);this.Fa=function(){this.Kb(this[s].T);this[s].S=!0;this.Lb(this)}},k:function(){var b=this[s];!b.s&&b.r&&a.a.D(b.r,function(a,b){b.k&&b.k()});b.i&&b.mb&&a.a.F.pc(b.i,b.mb);b.r=null;b.L=0;b.R=!0;b.S=!1;b.s=!1;b.i=null}},$={sa:function(b){var c=this,d=c[s];if(!d.R&&d.s&&"change"==b){d.s=!1;if(d.S||c.Qa()){d.r=null,d.L=0,d.S=!0,c.aa()}else{var e=[];a.a.D(d.r,function(a,b){e[b.Ga]=a});a.a.q(e,function(a,b){var e=d.r[a],l=c.uc(e.ia);l.Ga=b;l.na=e.na;d.r[a]=l})}d.R||c.notifySubscribers(d.T,"awake")}},Ia:function(b){var c=this[s];c.R||"change"!=b||this.Pa("change")||(a.a.D(c.r,function(a,b){b.k&&(c.r[a]={ia:b.ia,Ga:b.Ga,na:b.na},b.k())}),c.s=!0,this.notifySubscribers(n,"asleep"))},Na:function(){var b=this[s];b.s&&(b.S||this.Qa())&&this.aa();return a.J.fn.Na.call(this)}},aa={sa:function(a){"change"!=a&&"beforeChange"!=a||this.t()}};a.a.ka&&a.a.Xa(z,a.J.fn);var R=a.N.gd;a.m[R]=a.N;z[R]=a.m;a.Xc=function(b){return a.Oa(b,a.m)};a.Yc=function(b){return a.Oa(b,a.m)&&b[s]&&b[s].Va};a.b("computed",a.m);a.b("dependentObservable",a.m);a.b("isComputed",a.Xc);a.b("isPureComputed",a.Yc);a.b("computed.fn",z);a.G(z,"peek",z.t);a.G(z,"dispose",z.k);a.G(z,"isActive",z.ba);a.G(z,"getDependenciesCount",z.Aa);a.nc=function(b,c){if("function"===typeof b){return a.m(b,c,{pure:!0})}b=a.a.extend({},b);b.pure=!0;return a.m(b,c)};a.b("pureComputed",a.nc);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean){return a}var k=a instanceof Array?[]:{};g.save(a,k);c(a,function(c){var d=f(a[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":k[c]=d;break;case"object":case"undefined":var h=g.get(d);k[c]=h!==n?h:b(d,f,g)}});return k}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++){b(c)}"function"==typeof a.toJSON&&b("toJSON")}else{for(c in a){b(c)}}}function d(){this.keys=[];this.Ib=[]}a.wc=function(c){if(0==arguments.length){throw Error("When calling ko.toJS, pass the object you want to convert.")}return b(c,function(b){for(var c=0;a.H(b)&&10>c;c++){b=b()}return b})};a.toJSON=function(b,c,d){b=a.wc(b);return a.a.Eb(b,c,d)};d.prototype={save:function(b,c){var d=a.a.o(this.keys,b);0<=d?this.Ib[d]=c:(this.keys.push(b),this.Ib.push(c))},get:function(b){b=a.a.o(this.keys,b);return 0<=b?this.Ib[b]:n}}})();a.b("toJS",a.wc);a.b("toJSON",a.toJSON);(function(){a.j={u:function(b){switch(a.a.A(b)){case"option":return !0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.xb):7>=a.a.C?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex]):n;default:return b.value}},ha:function(b,c,d){switch(a.a.A(b)){case"option":switch(typeof c){case"string":a.a.e.set(b,a.d.options.xb,n);"__ko__hasDomDataOptionValue__" in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.d.options.xb,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case"select":if(""===c||null===c){c=n}for(var e=-1,f=0,g=b.options.length,k;f<g;++f){if(k=a.j.u(b.options[f]),k==c||""==k&&c===n){e=f;break}}if(d||0<=e||c===n&&1<b.size){b.selectedIndex=e}break;default:if(null===c||c===n){c=""}b.value=c}}}})();a.b("selectExtensions",a.j);a.b("selectExtensions.readValue",a.j.u);a.b("selectExtensions.writeValue",a.j.ha);a.h=function(){function b(b){b=a.a.$a(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),r,k=[],p=0;if(d){d.push(",");for(var A=0,y;y=d[A];++A){var t=y.charCodeAt(0);if(44===t){if(0>=p){c.push(r&&k.length?{key:r,value:k.join("")}:{unknown:r||k.join("")});r=p=0;k=[];continue}}else{if(58===t){if(!p&&!r&&1===k.length){r=k.pop();continue}}else{47===t&&A&&1<y.length?(t=d[A-1].match(f))&&!g[t[0]]&&(b=b.substr(b.indexOf(y)+1),d=b.match(e),d.push(","),A=-1,y="/"):40===t||123===t||91===t?++p:41===t||125===t||93===t?--p:r||k.length||34!==t&&39!==t||(y=y.slice(1,-1))}}k.push(y)}}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},k={};return{ta:[],ea:k,yb:b,Ua:function(e,m){function h(b,e){var m;if(!A){var l=a.getBindingHandler(b);if(l&&l.preprocess&&!(e=l.preprocess(e,b,h))){return}if(l=k[b]){m=e,0<=a.a.o(c,m)?m=!1:(l=m.match(d),m=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:m),l=m}l&&g.push("'"+b+"':function(_z){"+m+"=_z}")}p&&(e="function(){return "+e+" }");f.push("'"+b+"':"+e)}m=m||{};var f=[],g=[],p=m.valueAccessors,A=m.bindingParams,y="string"===typeof e?b(e):e;a.a.q(y,function(a){h(a.key||a.unknown,a.value)});g.length&&h("_ko_property_writers","{"+g.join(",")+" }");return f.join(",")},ad:function(a,b){for(var c=0;c<a.length;c++){if(a[c].key==b){return !0}}return !1},Ea:function(b,c,d,e,f){if(b&&a.H(b)){!a.Ba(b)||f&&b.t()===e||b(e)}else{if((b=c.get("_ko_property_writers"))&&b[d]){b[d](e)}}}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.ta);a.b("expressionRewriting.parseObjectLiteral",a.h.yb);a.b("expressionRewriting.preProcessBindings",a.h.Ua);a.b("expressionRewriting._twoWayBindings",a.h.ea);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Ua);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&k.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,f=1,l=[];e=e.nextSibling;){if(c(e)&&(f--,0===f)){return l}l.push(e);b(e)&&f++}if(!d){throw Error("Cannot find closing comment tag to match: "+a.nodeValue)}return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=u&&"\x3c!--test--\x3e"===u.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,k=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};a.f={Z:{},childNodes:function(a){return b(a)?d(a):a.childNodes},xa:function(c){if(b(c)){c=a.f.childNodes(c);for(var d=0,e=c.length;d<e;d++){a.removeNode(c[d])}}else{a.a.ob(c)}},da:function(c,d){if(b(c)){a.f.xa(c);for(var e=c.nextSibling,f=0,l=d.length;f<l;f++){e.parentNode.insertBefore(d[f],e)}}else{a.a.da(c,d)}},mc:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},gc:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.f.mc(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Tc:b,pd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},kc:function(d){if(l[a.a.A(d)]){var h=d.firstChild;if(h){do{if(1===h.nodeType){var f;f=h.firstChild;var g=null;if(f){do{if(g){g.push(f)}else{if(b(f)){var k=e(f,!0);k?f=k:g=[f]}else{c(f)&&(g=[f])}}}while(f=f.nextSibling)}if(f=g){for(g=h.nextSibling,k=0;k<f.length;k++){g?d.insertBefore(f[k],g):d.appendChild(f[k])}}}}while(h=h.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Z);a.b("virtualElements.emptyNode",a.f.xa);a.b("virtualElements.insertAfter",a.f.gc);a.b("virtualElements.prepend",a.f.mc);a.b("virtualElements.setDomNodeChildren",a.f.da);(function(){a.Q=function(){this.Fc={}};a.a.extend(a.Q.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.Tc(b);default:return !1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.g.Ob(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.Ob(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.f.pd(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Fc,g=b+(e&&e.valueAccessors||""),k;if(!(k=f[g])){var l,m="with($context){with($data||{}){return{"+a.h.Ua(b,e)+"}}}";l=new Function("$context","$element",m);k=f[g]=l}return k(c,d)}catch(h){throw h.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+h.message,h}}});a.Q.instance=new a.Q})();a.b("bindingProvider",a.Q);(function(){function b(a){return function(){return a}}function c(a){return a()}function d(b){return a.a.Ca(a.l.w(b),function(a,c){return function(){return b()[c]}})}function e(c,e,h){return"function"===typeof c?d(c.bind(null,e,h)):a.a.Ca(c,b)}function f(a,b){return d(this.getBindings.bind(this,a,b))}function g(b,c,d){var e,h=a.f.firstChild(c),f=a.Q.instance,m=f.preprocessNode;if(m){for(;e=h;){h=a.f.nextSibling(e),m.call(f,e)}h=a.f.firstChild(c)}for(;e=h;){h=a.f.nextSibling(e),k(b,e,d)}}function k(b,c,d){var e=!0,h=1===c.nodeType;h&&a.f.kc(c);if(h&&d||a.Q.instance.nodeHasBindings(c)){e=m(c,null,b,d).shouldBindDescendants}e&&!r[a.a.A(c)]&&g(b,c,!h)}function l(b){var c=[],d={},e=[];a.a.D(b,function Z(h){if(!d[h]){var f=a.getBindingHandler(h);f&&(f.after&&(e.push(h),a.a.q(f.after,function(c){if(b[c]){if(-1!==a.a.o(e,c)){throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "))}Z(c)}}),e.length--),c.push({key:h,fc:f}));d[h]=!0}});return c}function m(b,d,e,h){var m=a.a.e.get(b,q);if(!d){if(m){throw Error("You cannot apply bindings multiple times to the same element.")}a.a.e.set(b,q,!0)}!m&&h&&a.tc(b,e);var g;if(d&&"function"!==typeof d){g=d}else{var k=a.Q.instance,r=k.getBindingAccessors||f,p=a.B(function(){(g=d?d(e,b):r.call(k,b,e))&&e.P&&e.P();return g},null,{i:b});g&&p.ba()||(p=null)}var u;if(g){var v=p?function(a){return function(){return c(p()[a])}}:function(a){return g[a]},s=function(){return a.a.Ca(p?p():g,c)};s.get=function(a){return g[a]&&c(v(a))};s.has=function(a){return a in g};h=l(g);a.a.q(h,function(c){var d=c.fc.init,h=c.fc.update,f=c.key;if(8===b.nodeType&&!a.f.Z[f]){throw Error("The binding '"+f+"' cannot be used with virtual elements")}try{"function"==typeof d&&a.l.w(function(){var a=d(b,v(f),s,e.$data,e);if(a&&a.controlsDescendantBindings){if(u!==n){throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}u=f}}),"function"==typeof h&&a.B(function(){h(b,v(f),s,e.$data,e)},null,{i:b})}catch(m){throw m.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+m.message,m}})}return{shouldBindDescendants:u===n}}function h(b){return b&&b instanceof a.U?b:new a.U(b)}a.d={};var r={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.d[b]};a.U=function(b,c,d,e){var h=this,f="function"==typeof b&&!a.H(b),m,g=a.B(function(){var m=f?b():b,l=a.a.c(m);c?(c.P&&c.P(),a.a.extend(h,c),g&&(h.P=g)):(h.$parents=[],h.$root=l,h.ko=a);h.$rawData=m;h.$data=l;d&&(h[d]=l);e&&e(h,c,l);return h.$data},null,{wa:function(){return m&&!a.a.Qb(m)},i:!0});g.ba()&&(h.P=g,g.equalityComparer=null,m=[],g.Ac=function(b){m.push(b);a.a.F.oa(b,function(b){a.a.La(m,b);m.length||(g.k(),h.P=g=n)})})};a.U.prototype.createChildContext=function(b,c,d){return new a.U(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.U.prototype.extend=function(b){return new a.U(this.P||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var q=a.a.e.I(),p=a.a.e.I();a.tc=function(b,c){if(2==arguments.length){a.a.e.set(b,p,c),c.P&&c.P.Ac(b)}else{return a.a.e.get(b,p)}};a.Ja=function(b,c,d){1===b.nodeType&&a.f.kc(b);return m(b,c,h(d),!0)};a.Dc=function(b,c,d){d=h(d);return a.Ja(b,e(c,d,b),d)};a.eb=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(h(a),b,!0)};a.Rb=function(a,b){!v&&x.jQuery&&(v=x.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType){throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}b=b||x.document.body;k(h(a),b,!0)};a.kb=function(b){switch(b.nodeType){case 1:case 8:var c=a.tc(b);if(c){return c}if(b.parentNode){return a.kb(b.parentNode)}}return n};a.Jc=function(b){return(b=a.kb(b))?b.$data:n};a.b("bindingHandlers",a.d);a.b("applyBindings",a.Rb);a.b("applyBindingsToDescendants",a.eb);a.b("applyBindingAccessorsToNode",a.Ja);a.b("applyBindingsToNode",a.Dc);a.b("contextFor",a.kb);a.b("dataFor",a.Jc)})();(function(b){function c(c,e){var m=f.hasOwnProperty(c)?f[c]:b,h;m?m.X(e):(m=f[c]=new a.J,m.X(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Zc:e};delete f[c];h||e?m.notifySubscribers(b):a.Y.Wa(function(){m.notifySubscribers(b)})}),h=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function e(c,d,f,h){h||(h=a.g.loaders.slice(0));var g=h.shift();if(g){var q=g[c];if(q){var p=!1;if(q.apply(g,d.concat(function(a){p?f(null):null!==a?f(a):e(c,d,f,h)}))!==b&&(p=!0,!g.suppressLoaderExceptions)){throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}}else{e(c,d,f,h)}}else{f(null)}}var f={},g={};a.g={get:function(d,e){var f=g.hasOwnProperty(d)?g[d]:b;f?f.Zc?a.l.w(function(){e(f.definition)}):a.Y.Wa(function(){e(f.definition)}):c(d,e)},Xb:function(a){delete g[a]},Jb:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.Xb)})();(function(){function b(b,c,d,e){function g(){0===--y&&e(k)}var k={},y=2,t=d.template;d=d.viewModel;t?f(c,t,function(c){a.g.Jb("loadTemplate",[b,c],function(a){k.template=a;g()})}):g();d?f(c,d,function(c){a.g.Jb("loadViewModel",[b,c],function(a){k[l]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b){d(function(a){return new b(a)})}else{if("function"===typeof b[l]){d(b[l])}else{if("instance" in b){var e=b.instance;d(function(){return e})}else{"viewModel" in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}}}}function d(b){switch(a.a.A(b)){case"script":return a.a.ma(b.text);case"textarea":return a.a.ma(b.value);case"template":if(e(b.content)){return a.a.ua(b.content.childNodes)}}return a.a.ua(b.childNodes)}function e(a){return x.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?O||x.require?(O||x.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b)}}var k={};a.g.register=function(b,c){if(!c){throw Error("Invalid configuration for "+b)}if(a.g.ub(b)){throw Error("Component "+b+" is already registered")}k[b]=c};a.g.ub=function(a){return k.hasOwnProperty(a)};a.g.od=function(b){delete k[b];a.g.Xb(b)};a.g.Zb={getConfig:function(a,b){b(k.hasOwnProperty(a)?k[a]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c){f(a.a.ma(c))}else{if(c instanceof Array){f(c)}else{if(e(c)){f(a.a.V(c.childNodes))}else{if(c.element){if(c=c.element,x.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType){f(d(c))}else{if("string"===typeof c){var l=u.getElementById(c);l?f(d(l)):b("Cannot find element with ID "+c)}else{b("Unknown element type: "+c)}}}else{b("Unknown template value: "+c)}}}}},loadViewModel:function(a,b,d){c(g(a),b,d)}};var l="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.ub);a.b("components.unregister",a.g.od);a.b("components.defaultLoader",a.g.Zb);a.g.loaders.push(a.g.Zb);a.g.Bc=k})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ca(f,function(c){return a.m(c,null,{i:b})}),g=a.a.Ca(f,function(c){var e=c.t();return c.ba()?a.m({read:function(){return a.a.c(c())},write:a.Ba(e)&&function(a){c()(a)},i:b}):e});g.hasOwnProperty("$raw")||(g.$raw=f);return g}return{$raw:{}}}a.g.getComponentNameForNode=function(b){var c=a.a.A(b);if(a.g.ub(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.C&&b.tagName===c)){return c}};a.g.Ob=function(c,e,f,g){if(1===e.nodeType){var k=a.g.getComponentNameForNode(e);if(k){c=c||{};if(c.component){throw Error('Cannot use the "component" binding on a custom element matching a component')}var l={name:k,params:b(e,f)};c.component=g?function(){return l}:l}}return c};var c=new a.Q;9>a.a.C&&(a.g.register=function(a){return function(b){u.createElement(b);return a.apply(this,arguments)}}(a.g.register),u.createDocumentFragment=function(b){return function(){var c=b(),f=a.g.Bc,g;for(g in f){f.hasOwnProperty(g)&&c.createElement(g)}return c}}(u.createDocumentFragment))})();(function(b){function c(b,c,d){c=c.template;if(!c){throw Error("Component '"+b+"' has no template")}b=a.a.ua(c);a.f.da(d,b)}function d(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var e=0;a.d.component={init:function(f,g,k,l,m){function h(){var a=r&&r.dispose;"function"===typeof a&&a.call(r);q=r=null}var r,q,p=a.a.V(a.f.childNodes(f));a.a.F.oa(f,h);a.m(function(){var l=a.a.c(g()),k,t;"string"===typeof l?k=l:(k=a.a.c(l.name),t=a.a.c(l.params));if(!k){throw Error("No component name specified")}var n=q=++e;a.g.get(k,function(e){if(q===n){h();if(!e){throw Error("Unknown component '"+k+"'")}c(k,e,f);var g=d(e,f,p,t);e=m.createChildContext(g,b,function(a){a.$component=g;a.$componentTemplateNodes=p});r=g;a.eb(e,f)}})},null,{i:f});return{controlsDescendantBindings:!0}}};a.f.Z.component=!0})();var S={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.D(d,function(c,d){d=a.a.c(d);var g=!1===d||null===d||d===n;g&&b.removeAttribute(c);8>=a.a.C&&c in S?(c=S[c],g?b.removeAttribute(c):b[c]=d):g||b.setAttribute(c,d.toString());"name"===c&&a.a.rc(b,g?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=p?g():e;if(!a.va.Sa()&&(!l||e)){var m=a.l.w(c);if(h){var k=r?m.t():m;q!==f?(e&&(a.a.pa(k,f,!0),a.a.pa(k,q,!1)),q=f):a.a.pa(k,f,e);r&&a.Ba(m)&&m(k)}else{a.h.Ea(m,d,"checked",f,!0)}}}function f(){var d=a.a.c(c());b.checked=h?0<=a.a.o(d,g()):k?d:g()===d}var g=a.nc(function(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):b.value}),k="checkbox"==b.type,l="radio"==b.type;if(k||l){var m=c(),h=k&&a.a.c(m) instanceof Array,r=!(h&&m.push&&m.splice),q=h?g():n,p=l||h;l&&!b.name&&a.d.uniqueName.init(b,function(){return !0});a.m(e,null,{i:b});a.a.p(b,"click",e);a.m(f,null,{i:b});m=n}}};a.h.ea.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());null!==d&&"object"==typeof d?a.a.D(d,function(c,d){d=a.a.c(d);a.a.bb(b,c,d)}):(d=a.a.$a(String(d||"")),a.a.bb(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.bb(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return !a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var g=c()||{};a.a.D(g,function(g){"string"==typeof g&&a.a.p(b,g,function(b){var m,h=c()[g];if(h){try{var r=a.a.V(arguments);e=f.$data;r.unshift(e);m=h.apply(e,r)}finally{!0!==m&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={ic:function(b){return function(){var c=b(),d=a.a.zb(c);if(!d||"number"==typeof d.length){return{foreach:c,templateEngine:a.W.sb}}a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.W.sb}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.ic(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.ic(c),d,e,f)}};a.h.ta.foreach=!1;a.f.Z.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement" in f){var g;try{g=f.activeElement}catch(h){g=f.body}e=g===b}f=c();a.h.Ea(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.p(b,"focus",f);a.a.p(b,"focusin",f);a.a.p(b,"blur",g);a.a.p(b,"focusout",g)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.l.w(a.a.Da,null,[b,d?"focusin":"focusout"]))}};a.h.ea.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.ea.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Cb(b,c())}};K("if");K("ifnot",!1,!0);K("with",!0,!1,function(a,c){return a.createChildContext(c)});var L={};a.d.options={init:function(b){if("select"!==a.a.A(b)){throw Error("options binding applies only to SELECT elements")}for(;0<b.length;){b.remove(0)}return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.Ka(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,e){if(A&&h){a.j.ha(b,a.a.c(d.get("value")),!0)}else{if(p.length){var f=0<=a.a.o(p,a.j.u(e[0]));a.a.sc(e[0],f);A&&!f&&a.l.w(a.a.Da,null,[b,"change"])}}}var k=b.multiple,l=0!=b.length&&k?b.scrollTop:null,m=a.a.c(c()),h=d.get("valueAllowUnset")&&d.has("value"),r=d.get("optionsIncludeDestroyed");c={};var q,p=[];h||(k?p=a.a.fb(e(),a.j.u):0<=b.selectedIndex&&p.push(a.j.u(b.options[b.selectedIndex])));m&&("undefined"==typeof m.length&&(m=[m]),q=a.a.Ka(m,function(b){return r||b===n||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(m=a.a.c(d.get("optionsCaption")),null!==m&&m!==n&&q.unshift(L)));var A=!1;c.beforeRemove=function(a){b.removeChild(a)};m=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(m=function(b,c){g(0,c);a.l.w(d.get("optionsAfterRender"),null,[c[0],b!==L?b:n])});a.a.Bb(b,q,function(c,e,g){g.length&&(p=!h&&g[0].selected?[a.j.u(g[0])]:[],A=!0);e=b.ownerDocument.createElement("option");c===L?(a.a.Za(e,d.get("optionsCaption")),a.j.ha(e,n)):(g=f(c,d.get("optionsValue"),c),a.j.ha(e,a.a.c(g)),c=f(c,d.get("optionsText"),g),a.a.Za(e,c));return[e]},c,m);a.l.w(function(){h?a.j.ha(b,a.a.c(d.get("value")),!0):(k?p.length&&e().length<p.length:p.length&&0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex])!==p[0]:p.length||0<=b.selectedIndex)&&a.a.Da(b,"change")});a.a.Nc(b);l&&20<Math.abs(l-b.scrollTop)&&(b.scrollTop=l)}};a.d.options.xb=a.a.e.I();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.p(b,"change",function(){var e=c(),f=[];a.a.q(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.j.u(b))});a.h.Ea(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.A(b)){throw Error("values binding applies only to SELECT elements")}var d=a.a.c(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.q(b.getElementsByTagName("option"),function(b){var c=0<=a.a.o(d,a.j.u(b));b.selected!=c&&a.a.sc(b,c)});b.scrollTop=e}};a.h.ea.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.D(d,function(c,d){d=a.a.c(d);if(null===d||d===n||!1===d){d=""}b.style[c]=d})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c()){throw Error("The value for a submit binding must be a function")}a.a.p(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Za(b,c())}};a.f.Z.text=!0;(function(){if(x&&x.navigator){var b=function(a){if(a){return parseFloat(a[1])}},c=x.opera&&x.opera.version&&parseInt(x.opera.version()),d=x.navigator.userAgent,e=b(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=b(d.match(/Firefox\/([^ ]*)/))}if(10>a.a.C){var g=a.a.e.I(),k=a.a.e.I(),l=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,k))&&c(b)},m=function(b,c){var d=b.ownerDocument;a.a.e.get(d,g)||(a.a.e.set(d,g,!0),a.a.p(d,"selectionchange",l));a.a.e.set(b,k,c)}}a.d.textInput={init:function(b,d,g){function l(c,d){a.a.p(b,c,d)}function k(){var c=a.a.c(d());if(null===c||c===n){c=""}v!==n&&c===v?a.a.setTimeout(k,4):b.value!==c&&(u=c,b.value=c)}function y(){s||(v=b.value,s=a.a.setTimeout(t,4))}function t(){clearTimeout(s);v=s=n;var c=b.value;u!==c&&(u=c,a.h.Ea(d(),g,"textInput",c))}var u=b.value,s,v,x=9==a.a.C?y:t;10>a.a.C?(l("propertychange",function(a){"value"===a.propertyName&&x(a)}),8==a.a.C&&(l("keyup",t),l("keydown",t)),8<=a.a.C&&(m(b,x),l("dragend",y))):(l("input",t),5>e&&"textarea"===a.a.A(b)?(l("keydown",y),l("paste",y),l("cut",y)):11>c?l("keydown",y):4>f&&(l("DOMAutoComplete",t),l("dragdrop",t),l("drop",t)));l("change",t);a.m(k,null,{i:b})}};a.h.ea.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Ic;a.a.rc(b,d)}}};a.d.uniqueName.Ic=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),g=!1,k=null;f&&("string"==typeof f&&(f=[f]),a.a.ra(e,f),e=a.a.Tb(e));var l=function(){k=null;g=!1;var e=c(),f=a.j.u(b);a.h.Ea(e,d,"value",f)};!a.a.C||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.o(e,"propertychange")||(a.a.p(b,"propertychange",function(){g=!0}),a.a.p(b,"focus",function(){g=!1}),a.a.p(b,"blur",function(){g&&l()}));a.a.q(e,function(c){var d=l;a.a.nd(c,"after")&&(d=function(){k=a.j.u(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.p(b,c,d)});var m=function(){var e=a.a.c(c()),f=a.j.u(b);if(null!==k&&e===k){a.a.setTimeout(m,0)}else{if(e!==f){if("select"===a.a.A(b)){var g=d.get("valueAllowUnset"),f=function(){a.j.ha(b,e,g)};f();g||e===a.j.u(b)?a.a.setTimeout(f,0):a.l.w(a.a.Da,null,[b,"change"])}else{a.j.ha(b,e)}}}};a.m(m,null,{i:b})}else{a.Ja(b,{checkedValue:c})}},update:function(){}};a.h.ea.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,g){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.O=function(){};a.O.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")};a.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")};a.O.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||u;var d=c.getElementById(b);if(!d){throw Error("Cannot find template with ID "+b)}return new a.v.n(d)}if(1==b.nodeType||8==b.nodeType){return new a.v.qa(b)}throw Error("Unknown template type: "+b)};a.O.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.O.prototype.isTemplateRewritten=function(a,c){return !1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.O.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.O);a.Gb=function(){function b(b,c,d,k){b=a.h.yb(b);for(var l=a.h.ta,m=0;m<b.length;m++){var h=b[m].key;if(l.hasOwnProperty(h)){var r=l[h];if("function"===typeof r){if(h=r(b[m].value)){throw Error(h)}}else{if(!r){throw Error("This template engine does not support the '"+h+"' binding within its templates")}}}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Ua(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return k.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Gb.dd(b,c)},d)},dd:function(a,f){return a.replace(c,function(a,c,d,e,h){return b(h,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},Ec:function(b,c){return a.M.wb(function(d,k){var l=d.nextSibling;l&&l.nodeName.toLowerCase()===c&&a.Ja(l,b,k)})}}}();a.b("__tr_ambtns",a.Gb.Ec);(function(){a.v={};a.v.n=function(b){if(this.n=b){var c=a.a.A(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.v.n.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length){return this.n[b]}var c=arguments[0];"innerHTML"===b?a.a.Cb(this.n,c):this.n[b]=c};var b=a.a.e.I()+"_";a.v.n.prototype.data=function(c){if(1===arguments.length){return a.a.e.get(this.n,b+c)}a.a.e.set(this.n,b+c,arguments[1])};var c=a.a.e.I();a.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length){return(a.a.e.get(b,c)||{}).jb||(3===this.ab?b.content:4===this.ab?b:n)}a.a.e.set(b,c,{jb:arguments[0]})};a.v.qa=function(a){this.n=a};a.v.qa.prototype=new a.v.n;a.v.qa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.n,c)||{};b.Hb===n&&b.jb&&(b.Hb=b.jb.innerHTML);return b.Hb}a.a.e.set(this.n,c,{Hb:arguments[0]})};a.b("templateSources",a.v);a.b("templateSources.domElement",a.v.n);a.b("templateSources.anonymousTemplate",a.v.qa)})();(function(){function b(b,c,d){var e;for(c=a.f.nextSibling(c);b&&(e=b)!==c;){b=a.f.nextSibling(e),d(e,b)}}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,k=a.Q.instance,n=k.preprocessNode;if(n){b(e,f,function(a,b){var c=a.previousSibling,d=n.call(k,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e){return}e===f?c.push(e):(c.push(e,f),a.a.za(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.Rb(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.M.yc(b,[d])});a.a.za(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,k,q){q=q||{};var p=(b&&d(b)||f||{}).ownerDocument,n=q.templateEngine||g;a.Gb.Oc(f,n,p);f=n.renderTemplate(f,k,q,p);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType){throw Error("Template engine must return an array of DOM nodes")}p=!1;switch(e){case"replaceChildren":a.f.da(b,f);p=!0;break;case"replaceNode":a.a.qc(b,f);p=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}p&&(c(f,k),q.afterRender&&a.l.w(q.afterRender,null,[f,k.$data]));return f}function f(b,c,d){return a.H(b)?b():"function"===typeof b?b(c,d):b}var g;a.Db=function(b){if(b!=n&&!(b instanceof a.O)){throw Error("templateEngine must inherit from ko.templateEngine")}g=b};a.Ab=function(b,c,h,k,q){h=h||{};if((h.templateEngine||g)==n){throw Error("Set a template engine before calling renderTemplate")}q=q||"replaceChildren";if(k){var p=d(k);return a.B(function(){var g=c&&c instanceof a.U?c:new a.U(a.a.c(c)),n=f(b,g.$data,g),g=e(k,q,n,g,h);"replaceNode"==q&&(k=g,p=d(k))},null,{wa:function(){return !p||!a.a.nb(p)},i:p&&"replaceNode"==q?p.parentNode:p})}return a.M.wb(function(d){a.Ab(b,c,h,d,"replaceNode")})};a.kd=function(b,d,g,k,q){function p(a,b){c(b,s);g.afterRender&&g.afterRender(b,a);s=null}function u(a,c){s=q.createChildContext(a,g.as,function(a){a.$index=c});var d=f(b,a,s);return e(null,"ignoreTargetNode",d,s,g)}var s;return a.B(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.Ka(b,function(b){return g.includeDestroyed||b===n||null===b||!a.a.c(b._destroy)});a.l.w(a.a.Bb,null,[k,b,u,g,p])},null,{i:k})};var k=a.a.e.I();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name){a.f.xa(b)}else{if("nodes" in d){if(d=d.nodes||[],a.H(d)){throw Error('The "nodes" option must be a plain, non-observable array.')}}else{d=a.f.childNodes(b)}d=a.a.jc(d);(new a.v.qa(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c(),s;c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if" in c&&(d=a.a.c(c["if"])),d&&"ifnot" in c&&(d=!a.a.c(c.ifnot)),s=a.a.c(c.data));"foreach" in c?e=a.kd(g||b,d&&c.foreach||[],c,b,f):d?(f="data" in c?f.createChildContext(s,c.as):f,e=a.Ab(g||b,f,c,b)):a.f.xa(b);f=e;(s=a.a.e.get(b,k))&&"function"==typeof s.k&&s.k();a.a.e.set(b,k,f&&f.ba()?f:n)}};a.h.ta.template=function(b){b=a.h.yb(b);return 1==b.length&&b[0].unknown||a.h.ad(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Z.template=!0})();a.b("setTemplateEngine",a.Db);a.b("renderTemplate",a.Ab);a.a.dc=function(a,c,d){if(a.length&&c.length){var e,f,g,k,l;for(e=f=0;(!d||e<d)&&(k=a[f]);++f){for(g=0;l=c[g];++g){if(k.value===l.value){k.moved=l.index;l.moved=k.index;c.splice(g,1);e=g=0;break}}e+=g}}};a.a.ib=function(){function b(b,d,e,f,g){var k=Math.min,l=Math.max,m=[],h,n=b.length,q,p=d.length,s=p-n||1,u=n+p+1,t,v,x;for(h=0;h<=n;h++){for(v=t,m.push(t=[]),x=k(p,h+s),q=l(0,h-1);q<=x;q++){t[q]=q?h?b[h-1]===d[q-1]?v[q-1]:k(v[q]||u,t[q-1]||u)+1:q+1:h+1}}k=[];l=[];s=[];h=n;for(q=p;h||q;){p=m[h][q]-1,q&&p===m[h][q-1]?l.push(k[k.length]={status:e,value:d[--q],index:q}):h&&p===m[h-1][q]?s.push(k[k.length]={status:f,value:b[--h],index:h}):(--q,--h,g.sparse||k.push({status:"retained",value:d[q]}))}a.a.dc(s,l,!g.dontLimitMoves&&10*n);return k.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.ib);(function(){function b(b,c,d,k,l){var m=[],h=a.B(function(){var h=c(d,l,a.a.za(m,b))||[];0<m.length&&(a.a.qc(m,h),k&&a.l.w(k,null,[d,h,l]));m.length=0;a.a.ra(m,h)},null,{i:b,wa:function(){return !a.a.Qb(m)}});return{ca:m,B:h.ba()?h:n}}var c=a.a.e.I(),d=a.a.e.I();a.a.Bb=function(e,f,g,k,l){function m(b,c){w=q[c];v!==c&&(D[b]=w);w.qb(v++);a.a.za(w.ca,e);u.push(w);z.push(w)}function h(b,c){if(b){for(var d=0,e=c.length;d<e;d++){c[d]&&a.a.q(c[d].ca,function(a){b(a,d,c[d].ja)})}}}f=f||[];k=k||{};var r=a.a.e.get(e,c)===n,q=a.a.e.get(e,c)||[],p=a.a.fb(q,function(a){return a.ja}),s=a.a.ib(p,f,k.dontLimitMoves),u=[],t=0,v=0,x=[],z=[];f=[];for(var D=[],p=[],w,C=0,B,E;B=s[C];C++){switch(E=B.moved,B.status){case"deleted":E===n&&(w=q[t],w.B&&(w.B.k(),w.B=n),a.a.za(w.ca,e).length&&(k.beforeRemove&&(u.push(w),z.push(w),w.ja===d?w=null:f[C]=w),w&&x.push.apply(x,w.ca)));t++;break;case"retained":m(C,t++);break;case"added":E!==n?m(C,E):(w={ja:B.value,qb:a.N(v++)},u.push(w),z.push(w),r||(p[C]=w))}}a.a.e.set(e,c,u);h(k.beforeMove,D);a.a.q(x,k.beforeRemove?a.$:a.removeNode);for(var C=0,r=a.f.firstChild(e),F;w=z[C];C++){w.ca||a.a.extend(w,b(e,g,w.ja,l,w.qb));for(t=0;s=w.ca[t];r=s.nextSibling,F=s,t++){s!==r&&a.f.gc(e,s,F)}!w.Wc&&l&&(l(w.ja,w.ca,w.qb),w.Wc=!0)}h(k.beforeRemove,f);for(C=0;C<f.length;++C){f[C]&&(f[C].ja=d)}h(k.afterMove,D);h(k.afterAdd,p)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Bb);a.W=function(){this.allowTemplateRewriting=!1};a.W.prototype=new a.O;a.W.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.C?0:b.nodes)?b.nodes():null){return a.a.V(c.cloneNode(!0).childNodes)}b=b.text();return a.a.ma(b,e)};a.W.sb=new a.W;a.Db(a.W.sb);a.b("nativeTemplateEngine",a.W);(function(){a.vb=function(){var a=this.$c=function(){if(!v||!v.tmpl){return 0}try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f,g){g=g||u;f=f||{};if(2>a){throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}var k=b.data("precompiled");k||(k=b.text()||"",k=v.template(null,"{{ko_with $item.koBindingContext}}"+k+"{{/ko_with}}"),b.data("precompiled",k));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(k,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){u.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.vb.prototype=new a.O;var b=new a.vb;0<b.$c&&a.Db(b);a.b("jqueryTmplTemplateEngine",a.vb)})()})})()})();/*
Waypoints - 3.1.1
Copyright  2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){function c(d){if(!d){throw new Error("No options passed to Waypoint constructor")}if(!d.element){throw new Error("No element option passed to Waypoint constructor")}if(!d.handler){throw new Error("No handler option passed to Waypoint constructor")}this.key="waypoint-"+a,this.options=c.Adapter.extend({},c.defaults,d),this.element=this.options.element,this.adapter=new c.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=c.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=c.Context.findOrCreateByElement(this.options.context),c.offsetAliases[this.options.offset]&&(this.options.offset=c.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),b[this.key]=this,a+=1}var a=0,b={};c.prototype.queueTrigger=function(d){this.group.queueTrigger(this,d)},c.prototype.trigger=function(d){this.enabled&&this.callback&&this.callback.apply(this,d)},c.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete b[this.key]},c.prototype.disable=function(){return this.enabled=!1,this},c.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},c.prototype.next=function(){return this.group.next(this)},c.prototype.previous=function(){return this.group.previous(this)},c.invokeAll=function(i){var d=[];for(var f in b){d.push(b[f])}for(var g=0,h=d.length;h>g;g++){d[g][i]()}},c.destroyAll=function(){c.invokeAll("destroy")},c.disableAll=function(){c.invokeAll("disable")},c.enableAll=function(){c.invokeAll("enable")},c.refreshAll=function(){c.Context.refreshAll()},c.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},c.viewportWidth=function(){return document.documentElement.clientWidth},c.adapters=[],c.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},c.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=c}(),function(){function g(e){window.setTimeout(e,1000/60)}function a(e){this.element=e,this.Adapter=d.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+b,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,c[e.waypointContextKey]=this,b+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var b=0,c={},d=window.Waypoint,f=window.onload;a.prototype.add=function(i){var h=i.options.horizontal?"horizontal":"vertical";this.waypoints[h][i.key]=i,this.refresh()},a.prototype.checkEmpty=function(){var i=this.Adapter.isEmptyObject(this.waypoints.horizontal),h=this.Adapter.isEmptyObject(this.waypoints.vertical);i&&h&&(this.adapter.off(".waypoints"),delete c[this.key])},a.prototype.createThrottledResizeHandler=function(){function i(){h.handleResize(),h.didResize=!1}var h=this;this.adapter.on("resize.waypoints",function(){h.didResize||(h.didResize=!0,d.requestAnimationFrame(i))})},a.prototype.createThrottledScrollHandler=function(){function i(){h.handleScroll(),h.didScroll=!1}var h=this;this.adapter.on("scroll.waypoints",function(){(!h.didScroll||d.isTouch)&&(h.didScroll=!0,d.requestAnimationFrame(i))})},a.prototype.handleResize=function(){d.Context.refreshAll()},a.prototype.handleScroll=function(){var C={},m={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var v in m){var x=m[v],y=x.newScroll>x.oldScroll,A=y?x.forward:x.backward;for(var B in this.waypoints[v]){var w=this.waypoints[v][B],j=x.oldScroll<w.triggerPoint,q=x.newScroll>=w.triggerPoint,z=j&&q,D=!j&&!q;(z||D)&&(w.queueTrigger(A),C[w.group.id]=w.group)}}for(var k in C){C[k].flushTriggers()}this.oldScroll={x:m.horizontal.newScroll,y:m.vertical.newScroll}},a.prototype.innerHeight=function(){return this.element==this.element.window?d.viewportHeight():this.adapter.innerHeight()},a.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},a.prototype.innerWidth=function(){return this.element==this.element.window?d.viewportWidth():this.adapter.innerWidth()},a.prototype.destroy=function(){var m=[];for(var h in this.waypoints){for(var j in this.waypoints[h]){m.push(this.waypoints[h][j])}}for(var k=0,l=m.length;l>k;k++){m[k].destroy()}},a.prototype.refresh=function(){var H,q=this.element==this.element.window,A=this.adapter.offset(),C={};this.handleScroll(),H={horizontal:{contextOffset:q?0:A.left,contextScroll:q?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:q?0:A.top,contextScroll:q?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var D in H){var F=H[D];for(var G in this.waypoints[D]){var B,j,z,E,I,k=this.waypoints[D][G],v=k.options.offset,m=k.triggerPoint,K=0,x=null==m;k.element!==k.element.window&&(K=k.adapter.offset()[F.offsetProp]),"function"==typeof v?v=v.apply(k):"string"==typeof v&&(v=parseFloat(v),k.options.offset.indexOf("%")>-1&&(v=Math.ceil(F.contextDimension*v/100))),B=F.contextScroll-F.contextOffset,k.triggerPoint=K+B-v,j=m<F.oldScroll,z=k.triggerPoint>=F.oldScroll,E=j&&z,I=!j&&!z,!x&&E?(k.queueTrigger(F.backward),C[k.group.id]=k.group):!x&&I?(k.queueTrigger(F.forward),C[k.group.id]=k.group):x&&F.oldScroll>=k.triggerPoint&&(k.queueTrigger(F.forward),C[k.group.id]=k.group)}}for(var J in C){C[J].flushTriggers()}return this},a.findOrCreateByElement=function(e){return a.findByElement(e)||new a(e)},a.refreshAll=function(){for(var e in c){c[e].refresh()}},a.findByElement=function(e){return c[e.waypointContextKey]},window.onload=function(){f&&f(),a.refreshAll()},d.requestAnimationFrame=function(h){var j=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||g;j.call(window,h)},d.Context=a}(),function(){function f(h,g){return h.triggerPoint-g.triggerPoint}function a(h,g){return g.triggerPoint-h.triggerPoint}function b(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),c[this.axis][this.name]=this}var c={vertical:{},horizontal:{}},d=window.Waypoint;b.prototype.add=function(e){this.waypoints.push(e)},b.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},b.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var h=this.triggerQueues[e],j="up"===e||"left"===e;h.sort(j?a:f);for(var k=0,m=h.length;m>k;k+=1){var g=h[k];(g.options.continuous||k===h.length-1)&&g.trigger([e])}}this.clearTriggerQueues()},b.prototype.next=function(g){this.waypoints.sort(f);var h=d.Adapter.inArray(g,this.waypoints),j=h===this.waypoints.length-1;return j?null:this.waypoints[h+1]},b.prototype.previous=function(g){this.waypoints.sort(f);var h=d.Adapter.inArray(g,this.waypoints);return h?this.waypoints[h-1]:null},b.prototype.queueTrigger=function(h,g){this.triggerQueues[g].push(h)},b.prototype.remove=function(h){var g=d.Adapter.inArray(h,this.waypoints);g>-1&&this.waypoints.splice(g,1)},b.prototype.first=function(){return this.waypoints[0]},b.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},b.findOrCreate=function(e){return c[e.axis][e.name]||new b(e)},d.Group=b}(),function(){function d(e){return e===e.window}function a(f){return d(f)?f:f.defaultView}function b(e){this.element=e,this.handlers={}}var c=window.Waypoint;b.prototype.innerHeight=function(){var f=d(this.element);return f?this.element.innerHeight:this.element.clientHeight},b.prototype.innerWidth=function(){var f=d(this.element);return f?this.element.innerWidth:this.element.clientWidth},b.prototype.off=function(u,g){function h(y,l,s){for(var v=0,w=l.length-1;w>v;v++){var x=l[v];s&&s!==x||y.removeEventListener(x)}}var k=u.split("."),m=k[0],p=k[1],q=this.element;if(p&&this.handlers[p]&&m){h(q,this.handlers[p][m],g),this.handlers[p][m]=[]}else{if(m){for(var j in this.handlers){h(q,this.handlers[j][m]||[],g),this.handlers[j][m]=[]}}else{if(p&&this.handlers[p]){for(var f in this.handlers[p]){h(q,this.handlers[p][f],g)}this.handlers[p]={}}}}},b.prototype.offset=function(){if(!this.element.ownerDocument){return null}var g=this.element.ownerDocument.documentElement,e=a(this.element.ownerDocument),f={top:0,left:0};return this.element.getBoundingClientRect&&(f=this.element.getBoundingClientRect()),{top:f.top+e.pageYOffset-g.clientTop,left:f.left+e.pageXOffset-g.clientLeft}},b.prototype.on=function(m,f){var g=m.split("."),h=g[0],j=g[1]||"__default",k=this.handlers[j]=this.handlers[j]||{},l=k[h]=k[h]||[];l.push(f),this.element.addEventListener(h,f)},b.prototype.outerHeight=function(f){var g,h=this.innerHeight();return f&&!d(this.element)&&(g=window.getComputedStyle(this.element),h+=parseInt(g.marginTop,10),h+=parseInt(g.marginBottom,10)),h},b.prototype.outerWidth=function(f){var g,h=this.innerWidth();return f&&!d(this.element)&&(g=window.getComputedStyle(this.element),h+=parseInt(g.marginLeft,10),h+=parseInt(g.marginRight,10)),h},b.prototype.scrollLeft=function(){var e=a(this.element);return e?e.pageXOffset:this.element.scrollLeft},b.prototype.scrollTop=function(){var e=a(this.element);return e?e.pageYOffset:this.element.scrollTop},b.extend=function(){function j(m,k){if("object"==typeof m&&"object"==typeof k){for(var l in k){k.hasOwnProperty(l)&&(m[l]=k[l])}}return m}for(var f=Array.prototype.slice.call(arguments),g=1,h=f.length;h>g;g++){j(f[0],f[g])}return f[0]},b.inArray=function(h,f,g){return null==f?-1:f.indexOf(h,g)},b.isEmptyObject=function(g){for(var f in g){return !1}return !0},c.adapters.push({name:"noframework",Adapter:b}),c.Adapter=b}();"function"!==typeof Object.create&&(Object.create=function(a){function b(){}b.prototype=a;return new b});(function(a,b,c){var d={init:function(e,f){this.$elem=a(f);this.options=a.extend({},a.fn.owlCarousel.options,this.$elem.data(),e);this.userOptions=e;this.loadContent()},loadContent:function(){function f(i){var j,k="";if("function"===typeof g.options.jsonSuccess){g.options.jsonSuccess.apply(this,[i])}else{for(j in i.owl){i.owl.hasOwnProperty(j)&&(k+=i.owl[j].item)}g.$elem.html(k)}g.logIn()}var g=this,h;"function"===typeof g.options.beforeInit&&g.options.beforeInit.apply(this,[g.$elem]);"string"===typeof g.options.jsonPath?(h=g.options.jsonPath,a.getJSON(h,f)):g.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length){return !1}this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&(this.options.autoPlay=5000);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var e=this;b.setTimeout(function(){e.updateVars()},0)},watchVisibility:function(){var e=this;if(!1===e.$elem.is(":visible")){e.$elem.css({opacity:0}),b.clearInterval(e.autoPlayInterval),b.clearInterval(e.checkVisible)}else{return !1}e.checkVisible=b.setInterval(function(){e.$elem.is(":visible")&&(e.reload(),e.$elem.animate({opacity:1},200),b.clearInterval(e.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},baseClass:function(){var e=this.$elem.hasClass(this.options.baseClass),f=this.$elem.hasClass(this.options.theme);e||this.$elem.addClass(this.options.baseClass);f||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,f;if(!1===this.options.responsive){return !1}if(!0===this.options.singleItem){return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1}e=a(this.options.responsiveBaseWidth).width();e>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom){for(this.options.itemsCustom.sort(function(g,h){return g[0]-h[0]}),f=0;f<this.options.itemsCustom.length;f+=1){this.options.itemsCustom[f][0]<=e&&(this.options.items=this.options.itemsCustom[f][1])}}else{e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1])}this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var f=this,g,h;if(!0!==f.options.responsive){return !1}h=a(b).width();f.resizer=function(){a(b).width()!==h&&(!1!==f.options.autoPlay&&b.clearInterval(f.autoPlayInterval),b.clearTimeout(g),g=b.setTimeout(function(){h=a(b).width();f.updateVars()},f.options.responsiveRefreshRate))};a(b).resize(f.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var f=this,g=0,h=f.itemsAmount-f.options.items;f.$owlItems.each(function(e){var i=a(this);i.css({width:f.itemWidth}).data("owl-item",Number(e));if(0===e%f.options.items||e===h){e>h||(g+=1)}i.data("owl-roundPages",g)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var e=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=e=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=e);return e},min:function(){return 0},loops:function(){var f=0,g=0,i,h;this.positionsInArray=[0];this.pagesInArray=[];for(i=0;i<this.itemsAmount;i+=1){g+=this.itemWidth,this.positionsInArray.push(-g),!0===this.options.scrollPerPage&&(h=a(this.$owlItems[i]),h=h.data("owl-roundPages"),h!==f&&(this.pagesInArray[f]=this.positionsInArray[i],f=h))}},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination){this.owlControls=a('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)}!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,f=a('<div class="owl-buttons"/>');e.owlControls.append(f);e.buttonPrev=a("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""});e.buttonNext=a("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""});f.append(e.buttonPrev).append(e.buttonNext);f.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(g){g.preventDefault()});f.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(g){g.preventDefault();a(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=a('<div class="owl-pagination"/>');e.owlControls.append(e.paginationWrapper);e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(f){f.preventDefault();Number(a(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(a(this).data("owl-page")),!0)})},updatePagination:function(){var f,h,k,i,j,l;if(!1===this.options.pagination){return !1}this.paginationWrapper.html("");f=0;h=this.itemsAmount-this.itemsAmount%this.options.items;for(i=0;i<this.itemsAmount;i+=1){0===i%this.options.items&&(f+=1,h===i&&(k=this.itemsAmount-this.options.items),j=a("<div/>",{"class":"owl-page"}),l=a("<span></span>",{text:!0===this.options.paginationNumbers?f:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),j.append(l),j.data("owl-page",h===i?k:i),j.data("owl-roundPages",f),this.paginationWrapper.append(j))}this.checkPagination()},checkPagination:function(){var e=this;if(!1===e.options.pagination){return !1}e.paginationWrapper.find(".owl-page").each(function(){a(this).data("owl-roundPages")===a(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),a(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation){return !1}!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(e){if(this.isTransition){return !1}this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0===this.options.rewindNav){this.currentItem=0,e="rewind"}else{return this.currentItem=this.maximumItem,!1}}this.goTo(this.currentItem,e)},prev:function(e){if(this.isTransition){return !1}this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1);if(0>this.currentItem){if(!0===this.options.rewindNav){this.currentItem=this.maximumItem,e="rewind"}else{return this.currentItem=0,!1}}this.goTo(this.currentItem,e)},goTo:function(f,g,i){var h=this;if(h.isTransition){return !1}"function"===typeof h.options.beforeMove&&h.options.beforeMove.apply(this,[h.$elem]);f>=h.maximumItem?f=h.maximumItem:0>=f&&(f=0);h.currentItem=h.owl.currentItem=f;if(!1!==h.options.transitionStyle&&"drag"!==i&&1===h.options.items&&!0===h.browser.support3d){return h.swapSpeed(0),!0===h.browser.support3d?h.transition3d(h.positionsInArray[f]):h.css2slide(h.positionsInArray[f],1),h.afterGo(),h.singleItemTransition(),!1}f=h.positionsInArray[f];!0===h.browser.support3d?(h.isCss3Finish=!1,!0===g?(h.swapSpeed("paginationSpeed"),b.setTimeout(function(){h.isCss3Finish=!0},h.options.paginationSpeed)):"rewind"===g?(h.swapSpeed(h.options.rewindSpeed),b.setTimeout(function(){h.isCss3Finish=!0},h.options.rewindSpeed)):(h.swapSpeed("slideSpeed"),b.setTimeout(function(){h.isCss3Finish=!0},h.options.slideSpeed)),h.transition3d(f)):!0===g?h.css2slide(f,h.options.paginationSpeed):"rewind"===g?h.css2slide(f,h.options.rewindSpeed):h.css2slide(f,h.options.slideSpeed);h.afterGo()},jumpTo:function(e){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);e>=this.maximumItem||-1===e?e=this.maximumItem:0>=e&&(e=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[e]):this.css2slide(this.positionsInArray[e],1);this.currentItem=this.owl.currentItem=e;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";b.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var e=this;e.apStatus="play";if(!1===e.options.autoPlay){return !1}b.clearInterval(e.autoPlayInterval);e.autoPlayInterval=b.setInterval(function(){e.next(!0)},e.options.autoPlay)},swapSpeed:function(e){"slideSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof e&&this.$owlWrapper.css(this.addCssSpeed(e))},addCssSpeed:function(e){return{"-webkit-transition":"all "+e+"ms ease","-moz-transition":"all "+e+"ms ease","-o-transition":"all "+e+"ms ease",transition:"all "+e+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(e){return{"-webkit-transform":"translate3d("+e+"px, 0px, 0px)","-moz-transform":"translate3d("+e+"px, 0px, 0px)","-o-transform":"translate3d("+e+"px, 0px, 0px)","-ms-transform":"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px,0px)"}},transition3d:function(e){this.$owlWrapper.css(this.doTranslate(e))},css2move:function(e){this.$owlWrapper.css({left:e})},css2slide:function(f,g){var h=this;h.isCssFinish=!1;h.$owlWrapper.stop(!0,!0).animate({left:f},{duration:g||h.options.slideSpeed,complete:function(){h.isCssFinish=!0}})},checkBrowser:function(){var e=c.createElement("div");e.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";e=e.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==e&&1===e.length,isTouch:"ontouchstart" in b||b.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag){this.gestures(),this.disabledEvents()}},eventTypes:function(){var e=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=e[0];this.ev_types.move=e[1];this.ev_types.end=e[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(e){e.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(e){return a(e.target).is("input, textarea, select, option")})},gestures:function(){function f(e){if(void 0!==e.touches){return{x:e.touches[0].pageX,y:e.touches[0].pageY}}if(void 0===e.touches){if(void 0!==e.pageX){return{x:e.pageX,y:e.pageY}}if(void 0===e.pageX){return{x:e.clientX,y:e.clientY}}}}function g(e){"on"===e?(a(c).on(j.ev_types.move,k),a(c).on(j.ev_types.end,i)):"off"===e&&(a(c).off(j.ev_types.move),a(c).off(j.ev_types.end))}function k(e){e=e.originalEvent||e||b.event;j.newPosX=f(e).x-l.offsetX;j.newPosY=f(e).y-l.offsetY;j.newRelativeX=j.newPosX-l.relativePos;"function"===typeof j.options.startDragging&&!0!==l.dragging&&0!==j.newRelativeX&&(l.dragging=!0,j.options.startDragging.apply(j,[j.$elem]));(8<j.newRelativeX||-8>j.newRelativeX)&&!0===j.browser.isTouch&&(void 0!==e.preventDefault?e.preventDefault():e.returnValue=!1,l.sliding=!0);(10<j.newPosY||-10>j.newPosY)&&!1===l.sliding&&a(c).off("touchmove.owl");j.newPosX=Math.max(Math.min(j.newPosX,j.newRelativeX/5),j.maximumPixels+j.newRelativeX/5);!0===j.browser.support3d?j.transition3d(j.newPosX):j.css2move(j.newPosX)}function i(e){e=e.originalEvent||e||b.event;var h;e.target=e.target||e.srcElement;l.dragging=!1;!0!==j.browser.isTouch&&j.$owlWrapper.removeClass("grabbing");j.dragDirection=0>j.newRelativeX?j.owl.dragDirection="left":j.owl.dragDirection="right";0!==j.newRelativeX&&(h=j.getNewPosition(),j.goTo(h,!1,"drag"),l.targetElement===e.target&&!0!==j.browser.isTouch&&(a(e.target).on("click.disable",function(m){m.stopImmediatePropagation();m.stopPropagation();m.preventDefault();a(m.target).off("click.disable")}),e=a._data(e.target,"events").click,h=e.pop(),e.splice(0,0,h)));g("off")}var j=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};j.isCssFinish=!0;j.$elem.on(j.ev_types.start,".owl-wrapper",function(h){h=h.originalEvent||h||b.event;var m;if(3===h.which){return !1}if(!(j.itemsAmount<=j.options.items)){if(!1===j.isCssFinish&&!j.options.dragBeforeAnimFinish||!1===j.isCss3Finish&&!j.options.dragBeforeAnimFinish){return !1}!1!==j.options.autoPlay&&b.clearInterval(j.autoPlayInterval);!0===j.browser.isTouch||j.$owlWrapper.hasClass("grabbing")||j.$owlWrapper.addClass("grabbing");j.newPosX=0;j.newRelativeX=0;a(this).css(j.removeTransition());m=a(this).position();l.relativePos=m.left;l.offsetX=f(h).x-m.left;l.offsetY=f(h).y-m.top;g("on");l.sliding=!1;l.targetElement=h.target||h.srcElement}})},getNewPosition:function(){var e=this.closestItem();e>this.maximumItem?e=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=e=0);return e},closestItem:function(){var f=this,g=!0===f.options.scrollPerPage?f.pagesInArray:f.positionsInArray,i=f.newPosX,h=null;a.each(g,function(e,j){i-f.itemWidth/20>g[e+1]&&i-f.itemWidth/20<j&&"left"===f.moveDirection()?(h=j,f.currentItem=!0===f.options.scrollPerPage?a.inArray(h,f.positionsInArray):e):i+f.itemWidth/20<j&&i+f.itemWidth/20>(g[e+1]||g[e]-f.itemWidth)&&"right"===f.moveDirection()&&(!0===f.options.scrollPerPage?(h=g[e+1]||g[g.length-1],f.currentItem=a.inArray(h,f.positionsInArray)):(h=g[e+1],f.currentItem=e+1))});return f.currentItem},moveDirection:function(){var e;0>this.newRelativeX?(e="right",this.playDirection="next"):(e="left",this.playDirection="prev");return e},customEvents:function(){var e=this;e.$elem.on("owl.next",function(){e.next()});e.$elem.on("owl.prev",function(){e.prev()});e.$elem.on("owl.play",function(f,g){e.options.autoPlay=g;e.play();e.hoverStatus="play"});e.$elem.on("owl.stop",function(){e.stop();e.hoverStatus="stop"});e.$elem.on("owl.goTo",function(f,g){e.goTo(g)});e.$elem.on("owl.jumpTo",function(f,g){e.jumpTo(g)})},stopOnHover:function(){var e=this;!0===e.options.stopOnHover&&!0!==e.browser.isTouch&&!1!==e.options.autoPlay&&(e.$elem.on("mouseover",function(){e.stop()}),e.$elem.on("mouseout",function(){"stop"!==e.hoverStatus&&e.play()}))},lazyLoad:function(){var f,g,j,h,i;if(!1===this.options.lazyLoad){return !1}for(f=0;f<this.itemsAmount;f+=1){g=a(this.$owlItems[f]),"loaded"!==g.data("owl-loaded")&&(j=g.data("owl-item"),h=g.find(".lazyOwl"),"string"!==typeof h.data("src")?g.data("owl-loaded","loaded"):(void 0===g.data("owl-loaded")&&(h.hide(),g.addClass("loading").data("owl-loaded","checked")),(i=!0===this.options.lazyFollow?j>=this.currentItem:!0)&&j<this.currentItem+this.options.items&&h.length&&this.lazyPreload(g,h)))}},lazyPreload:function(g,h){function l(){g.data("owl-loaded","loaded").removeClass("loading");h.removeAttr("data-src");"fade"===j.options.lazyEffect?h.fadeIn(400):h.show();"function"===typeof j.options.afterLazyLoad&&j.options.afterLazyLoad.apply(this,[j.$elem])}function i(){m+=1;j.completeImg(h.get(0))||!0===n?l():100>=m?b.setTimeout(i,100):l()}var j=this,m=0,n;"DIV"===h.prop("tagName")?(h.css("background-image","url("+h.data("src")+")"),n=!0):h[0].src=h.data("src");i()},autoHeight:function(){function f(){var e=a(j.$owlItems[j.currentItem]).height();j.wrapperOuter.css("height",e+"px");j.wrapperOuter.hasClass("autoHeight")||b.setTimeout(function(){j.wrapperOuter.addClass("autoHeight")},0)}function g(){i+=1;j.completeImg(h.get(0))?f():100>=i?b.setTimeout(g,100):j.wrapperOuter.css("height","")}var j=this,h=a(j.$owlItems[j.currentItem]).find("img"),i;void 0!==h.get(0)?(i=0,g()):f()},completeImg:function(e){return !e.complete||"undefined"!==typeof e.naturalWidth&&0===e.naturalWidth?!1:!0},onVisibleItems:function(){var e;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(e=this.currentItem;e<this.currentItem+this.options.items;e+=1){this.visibleItems.push(e),!0===this.options.addClassActive&&a(this.$owlItems[e]).addClass("active")}this.owl.visibleItems=this.visibleItems},transitionTypes:function(e){this.outClass="owl-"+e+"-out";this.inClass="owl-"+e+"-in"},singleItemTransition:function(){var h=this,i=h.outClass,l=h.inClass,j=h.$owlItems.eq(h.currentItem),k=h.$owlItems.eq(h.prevItem),m=Math.abs(h.positionsInArray[h.currentItem])+h.positionsInArray[h.prevItem],n=Math.abs(h.positionsInArray[h.currentItem])+h.itemWidth/2;h.isTransition=!0;h.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":n+"px","-moz-perspective-origin":n+"px","perspective-origin":n+"px"});k.css({position:"relative",left:m+"px"}).addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){h.endPrev=!0;k.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");h.clearTransStyle(k,i)});j.addClass(l).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){h.endCurrent=!0;j.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");h.clearTransStyle(j,l)})},clearTransStyle:function(e,f){e.css({position:"",left:""}).removeClass(f);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");a(c).off(".owl owl");a(b).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();b.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(e){e=a.extend({},this.userOptions,e);this.unWrap();this.init(e,this.$elem)},addItem:function(f,g){var h;if(!f){return !1}if(0===this.$elem.children().length){return this.$elem.append(f),this.setVars(),!1}this.unWrap();h=void 0===g||-1===g?-1:g;h>=this.$userItems.length||-1===h?this.$userItems.eq(-1).after(f):this.$userItems.eq(h).before(f);this.setVars()},removeItem:function(e){if(0===this.$elem.children().length){return !1}e=void 0===e||-1===e?-1:e;this.unWrap();this.$userItems.eq(e).remove();this.setVars()}};a.fn.owlCarousel=function(e){return this.each(function(){if(!0===a(this).data("owl-init")){return !1}a(this).data("owl-init",!0);var f=Object.create(d);f.init(e,this);a.data(this,"owlCarousel",f)})};a.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1000,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["",""],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:b,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);/* Responsive-img.js 1.1*/
function makeImagesResponsive(){var z=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,O=document.getElementsByTagName("body")[0].getElementsByTagName("img");if(O.length===0){return}var I;O[0].hasAttribute?I=function(a,b){return a.hasAttribute(b)}:I=function(a,b){return a.getAttribute(b)!==null};var L=window.devicePixelRatio?window.devicePixelRatio>=1.2?1:0:0;for(var F=0;F<O.length;F++){var M=O[F],J=L&&I(M,"data-src2x")?"data-src2x":"data-src",P=L&&I(M,"data-src-base2x")?"data-src-base2x":"data-src-base";if(!I(M,J)){continue}var j=I(M,P)?M.getAttribute(P):"",B=M.getAttribute(J),G=B.split(",");for(var q=0;q<G.length;q++){var D=G[q].replace(":","||").split("||"),K=D[0],x=D[1],Q,H;if(K.indexOf("<")!==-1){Q=K.split("<");if(G[q-1]){var C=G[q-1].split(/:(.+)/),T=C[0].split("<");H=z<=Q[1]&&z>T[1]}else{H=z<=Q[1]}}else{Q=K.split(">");if(G[q+1]){var k=G[q+1].split(/:(.+)/),R=k[0].split(">");H=z>=Q[1]&&z<R[1]}else{H=z>=Q[1]}}if(H){var A=x.indexOf("//")!==-1?1:0,N;A===1?N=x:N=j+x;M.src!==N&&M.setAttribute("src",N);break}}}}if(window.addEventListener){window.addEventListener("load",makeImagesResponsive,!1);window.addEventListener("resize",makeImagesResponsive,!1)}else{window.attachEvent("onload",makeImagesResponsive);window.attachEvent("onresize",makeImagesResponsive)};/* Underscore.js 1.3.3*/
(function(){function aj(b,i,j){if(b===i){return 0!==b||1/b==1/i}if(null==b||null==i){return b===i}b._chain&&(b=b._wrapped);i._chain&&(i=i._wrapped);if(b.isEqual&&c.isFunction(b.isEqual)){return b.isEqual(i)}if(i.isEqual&&c.isFunction(i.isEqual)){return i.isEqual(b)}var k=Y.call(b);if(k!=Y.call(i)){return !1}switch(k){case"[object String]":return b==""+i;case"[object Number]":return b!=+b?i!=+i:0==b?1/b==1/i:b==+i;case"[object Date]":case"[object Boolean]":return +b==+i;case"[object RegExp]":return b.source==i.source&&b.global==i.global&&b.multiline==i.multiline&&b.ignoreCase==i.ignoreCase}if("object"!=typeof b||"object"!=typeof i){return !1}for(var l=j.length;l--;){if(j[l]==b){return !0}}j.push(b);var l=0,m=!0;if("[object Array]"==k){if(l=b.length,m=l==i.length){for(;l--&&(m=l in b==l in i&&aj(b[l],i[l],j));){}}}else{if("constructor" in b!="constructor" in i||b.constructor!=i.constructor){return !1}for(var n in b){if(c.has(b,n)&&(l++,!(m=c.has(i,n)&&aj(b[n],i[n],j)))){break}}if(m){for(n in i){if(c.has(i,n)&&!l--){break}}m=!l}}j.pop();return m}var ak=this,T=ak._,ae={},W=Array.prototype,ag=Object.prototype,S=W.slice,V=W.unshift,Y=ag.toString,X=ag.hasOwnProperty,aq=W.forEach,ar=W.map,a=W.reduce,d=W.reduceRight,e=W.filter,f=W.every,g=W.some,ai=W.indexOf,h=W.lastIndexOf,ag=Array.isArray,Z=Object.keys,al=Function.prototype.bind,c=function(b){return new aa(b)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=c),exports._=c):ak._=c;c.VERSION="1.3.3";var U=c.each=c.forEach=function(b,i,j){if(b!=null){if(aq&&b.forEach===aq){b.forEach(i,j)}else{if(b.length===+b.length){for(var k=0,l=b.length;k<l;k++){if(k in b&&i.call(j,b[k],k,b)===ae){break}}}else{for(k in b){if(c.has(b,k)&&i.call(j,b[k],k,b)===ae){break}}}}}};c.map=c.collect=function(i,k,j){var l=[];if(i==null){return l}if(ar&&i.map===ar){return i.map(k,j)}U(i,function(b,m,n){l[l.length]=k.call(j,b,m,n)});if(i.length===+i.length){l.length=i.length}return l};c.reduce=c.foldl=c.inject=function(b,i,j,k){var l=arguments.length>2;b==null&&(b=[]);if(a&&b.reduce===a){k&&(i=c.bind(i,k));return l?b.reduce(i,j):b.reduce(i)}U(b,function(m,n,o){if(l){j=i.call(k,j,m,n,o)}else{j=m;l=true}});if(!l){throw new TypeError("Reduce of empty array with no initial value")}return j};c.reduceRight=c.foldr=function(b,i,j,k){var l=arguments.length>2;b==null&&(b=[]);if(d&&b.reduceRight===d){k&&(i=c.bind(i,k));return l?b.reduceRight(i,j):b.reduceRight(i)}var m=c.toArray(b).reverse();k&&!l&&(i=c.bind(i,k));return l?c.reduce(m,i,j,k):c.reduce(m,i)};c.find=c.detect=function(i,k,j){var l;Q(i,function(b,m,n){if(k.call(j,b,m,n)){l=b;return true}});return l};c.filter=c.select=function(i,k,j){var l=[];if(i==null){return l}if(e&&i.filter===e){return i.filter(k,j)}U(i,function(b,m,n){k.call(j,b,m,n)&&(l[l.length]=b)});return l};c.reject=function(i,k,j){var l=[];if(i==null){return l}U(i,function(b,m,n){k.call(j,b,m,n)||(l[l.length]=b)});return l};c.every=c.all=function(i,k,j){var l=true;if(i==null){return l}if(f&&i.every===f){return i.every(k,j)}U(i,function(b,m,n){if(!(l=l&&k.call(j,b,m,n))){return ae}});return !!l};var Q=c.some=c.any=function(b,i,j){i||(i=c.identity);var k=false;if(b==null){return k}if(g&&b.some===g){return b.some(i,j)}U(b,function(l,m,n){if(k||(k=i.call(j,l,m,n))){return ae}});return !!k};c.include=c.contains=function(i,k){var j=false;if(i==null){return j}if(ai&&i.indexOf===ai){return i.indexOf(k)!=-1}return j=Q(i,function(b){return b===k})};c.invoke=function(b,i){var j=S.call(arguments,2);return c.map(b,function(k){return(c.isFunction(i)?i||k:k[i]).apply(k,j)})};c.pluck=function(b,i){return c.map(b,function(j){return j[i]})};c.max=function(b,i,j){if(!i&&c.isArray(b)&&b[0]===+b[0]){return Math.max.apply(Math,b)}if(!i&&c.isEmpty(b)){return -Infinity}var k={computed:-Infinity};U(b,function(l,m,n){m=i?i.call(j,l,m,n):l;m>=k.computed&&(k={value:l,computed:m})});return k.value};c.min=function(b,i,j){if(!i&&c.isArray(b)&&b[0]===+b[0]){return Math.min.apply(Math,b)}if(!i&&c.isEmpty(b)){return Infinity}var k={computed:Infinity};U(b,function(l,m,n){m=i?i.call(j,l,m,n):l;m<k.computed&&(k={value:l,computed:m})});return k.value};c.shuffle=function(i){var j=[],k;U(i,function(b,l){k=Math.floor(Math.random()*(l+1));j[l]=j[k];j[k]=b});return j};c.sortBy=function(b,i,j){var k=c.isFunction(i)?i:function(l){return l[i]};return c.pluck(c.map(b,function(l,m,n){return{value:l,criteria:k.call(j,l,m,n)}}).sort(function(l,m){var n=l.criteria,o=m.criteria;return n===void 0?1:o===void 0?-1:n<o?-1:n>o?1:0}),"value")};c.groupBy=function(b,i){var j={},k=c.isFunction(i)?i:function(l){return l[i]};U(b,function(l,m){var n=k(l,m);(j[n]||(j[n]=[])).push(l)});return j};c.sortedIndex=function(b,i,j){j||(j=c.identity);for(var k=0,l=b.length;k<l;){var m=k+l>>1;j(b[m])<j(i)?k=m+1:l=m}return k};c.toArray=function(b){return !b?[]:c.isArray(b)||c.isArguments(b)?S.call(b):b.toArray&&c.isFunction(b.toArray)?b.toArray():c.values(b)};c.size=function(b){return c.isArray(b)?b.length:c.keys(b).length};c.first=c.head=c.take=function(i,j,k){return j!=null&&!k?S.call(i,0,j):i[0]};c.initial=function(i,j,k){return S.call(i,0,i.length-(j==null||k?1:j))};c.last=function(i,j,k){return j!=null&&!k?S.call(i,Math.max(i.length-j,0)):i[i.length-1]};c.rest=c.tail=function(i,j,k){return S.call(i,j==null||k?1:j)};c.compact=function(b){return c.filter(b,function(i){return !!i})};c.flatten=function(b,i){return c.reduce(b,function(j,k){if(c.isArray(k)){return j.concat(i?k:c.flatten(k))}j[j.length]=k;return j},[])};c.without=function(b){return c.difference(b,S.call(arguments,1))};c.uniq=c.unique=function(b,i,j){var j=j?c.map(b,j):b,k=[];b.length<3&&(i=true);c.reduce(j,function(l,m,n){if(i?c.last(l)!==m||!l.length:!c.include(l,m)){l.push(m);k.push(b[n])}return l},[]);return k};c.union=function(){return c.uniq(c.flatten(arguments,true))};c.intersection=c.intersect=function(b){var i=S.call(arguments,1);return c.filter(c.uniq(b),function(j){return c.every(i,function(k){return c.indexOf(k,j)>=0})})};c.difference=function(b){var i=c.flatten(S.call(arguments,1),true);return c.filter(b,function(j){return !c.include(i,j)})};c.zip=function(){for(var b=S.call(arguments),i=c.max(c.pluck(b,"length")),j=Array(i),k=0;k<i;k++){j[k]=c.pluck(b,""+k)}return j};c.indexOf=function(b,i,j){if(b==null){return -1}var k;if(j){j=c.sortedIndex(b,i);return b[j]===i?j:-1}if(ai&&b.indexOf===ai){return b.indexOf(i)}j=0;for(k=b.length;j<k;j++){if(j in b&&b[j]===i){return j}}return -1};c.lastIndexOf=function(i,j){if(i==null){return -1}if(h&&i.lastIndexOf===h){return i.lastIndexOf(j)}for(var k=i.length;k--;){if(k in i&&i[k]===j){return k}}return -1};c.range=function(i,j,k){if(arguments.length<=1){j=i||0;i=0}for(var k=arguments[2]||1,l=Math.max(Math.ceil((j-i)/k),0),m=0,n=Array(l);m<l;){n[m++]=i;i=i+k}return n};var R=function(){};c.bind=function(b,i){var j,k;if(b.bind===al&&al){return al.apply(b,S.call(arguments,1))}if(!c.isFunction(b)){throw new TypeError}k=S.call(arguments,2);return j=function(){if(!(this instanceof j)){return b.apply(i,k.concat(S.call(arguments)))}R.prototype=b.prototype;var l=new R,m=b.apply(l,k.concat(S.call(arguments)));return Object(m)===m?m:l}};c.bindAll=function(b){var i=S.call(arguments,1);i.length==0&&(i=c.functions(b));U(i,function(j){b[j]=c.bind(b[j],b)});return b};c.memoize=function(b,i){var j={};i||(i=c.identity);return function(){var k=i.apply(this,arguments);return c.has(j,k)?j[k]:j[k]=b.apply(this,arguments)}};c.delay=function(i,j){var k=S.call(arguments,2);return setTimeout(function(){return i.apply(null,k)},j)};c.defer=function(b){return c.delay.apply(c,[b,1].concat(S.call(arguments,1)))};c.throttle=function(b,k){var l,m,n,o,p,q,r=c.debounce(function(){p=o=false},k);return function(){l=this;m=arguments;n||(n=setTimeout(function(){n=null;p&&b.apply(l,m);r()},k));o?p=true:q=b.apply(l,m);r();o=true;return q}};c.debounce=function(i,j,k){var l;return function(){var b=this,m=arguments;k&&!l&&i.apply(b,m);clearTimeout(l);l=setTimeout(function(){l=null;k||i.apply(b,m)},j)}};c.once=function(i){var j=false,k;return function(){if(j){return k}j=true;return k=i.apply(this,arguments)}};c.wrap=function(i,j){return function(){var b=[i].concat(S.call(arguments,0));return j.apply(this,b)}};c.compose=function(){var b=arguments;return function(){for(var i=arguments,j=b.length-1;j>=0;j--){i=[b[j].apply(this,i)]}return i[0]}};c.after=function(i,j){return i<=0?j():function(){if(--i<1){return j.apply(this,arguments)}}};c.keys=Z||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var i=[],j;for(j in b){c.has(b,j)&&(i[i.length]=j)}return i};c.values=function(b){return c.map(b,c.identity)};c.functions=c.methods=function(b){var i=[],j;for(j in b){c.isFunction(b[j])&&i.push(j)}return i.sort()};c.extend=function(b){U(S.call(arguments,1),function(i){for(var j in i){b[j]=i[j]}});return b};c.pick=function(b){var i={};U(c.flatten(S.call(arguments,1)),function(j){j in b&&(i[j]=b[j])});return i};c.defaults=function(b){U(S.call(arguments,1),function(i){for(var j in i){b[j]==null&&(b[j]=i[j])}});return b};c.clone=function(b){return !c.isObject(b)?b:c.isArray(b)?b.slice():c.extend({},b)};c.tap=function(i,j){j(i);return i};c.isEqual=function(i,j){return aj(i,j,[])};c.isEmpty=function(b){if(b==null){return true}if(c.isArray(b)||c.isString(b)){return b.length===0}for(var i in b){if(c.has(b,i)){return false}}return true};c.isElement=function(b){return !!(b&&b.nodeType==1)};c.isArray=ag||function(b){return Y.call(b)=="[object Array]"};c.isObject=function(b){return b===Object(b)};c.isArguments=function(b){return Y.call(b)=="[object Arguments]"};c.isArguments(arguments)||(c.isArguments=function(b){return !(!b||!c.has(b,"callee"))});c.isFunction=function(b){return Y.call(b)=="[object Function]"};c.isString=function(b){return Y.call(b)=="[object String]"};c.isNumber=function(b){return Y.call(b)=="[object Number]"};c.isFinite=function(b){return c.isNumber(b)&&isFinite(b)};c.isNaN=function(b){return b!==b};c.isBoolean=function(b){return b===true||b===false||Y.call(b)=="[object Boolean]"};c.isDate=function(b){return Y.call(b)=="[object Date]"};c.isRegExp=function(b){return Y.call(b)=="[object RegExp]"};c.isNull=function(b){return b===null};c.isUndefined=function(b){return b===void 0};c.has=function(i,j){return X.call(i,j)};c.noConflict=function(){ak._=T;return this};c.identity=function(b){return b};c.times=function(i,j,k){for(var l=0;l<i;l++){j.call(k,l)}};c.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};c.result=function(b,i){if(b==null){return null}var j=b[i];return c.isFunction(j)?j.call(b):j};c.mixin=function(b){U(c.functions(b),function(i){ab(i,c[i]=b[i])})};var ad=0;c.uniqueId=function(i){var j=ad++;return i?i+j:j};c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var am=/.^/,ac={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},an;for(an in ac){ac[ac[an]]=an}var af=/\\|'|\r|\n|\t|\u2028|\u2029/g,ah=/\\(\\|'|r|n|t|u2028|u2029)/g,ao=function(b){return b.replace(ah,function(i,j){return ac[j]})};c.template=function(b,i,j){j=c.defaults(j||{},c.templateSettings);b="__p+='"+b.replace(af,function(l){return"\\"+ac[l]}).replace(j.escape||am,function(l,m){return"'+\n_.escape("+ao(m)+")+\n'"}).replace(j.interpolate||am,function(l,m){return"'+\n("+ao(m)+")+\n'"}).replace(j.evaluate||am,function(l,m){return"';\n"+ao(m)+"\n;__p+='"})+"';\n";j.variable||(b="with(obj||{}){\n"+b+"}\n");var b="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+b+"return __p;\n",k=new Function(j.variable||"obj","_",b);if(i){return k(i,c)}i=function(l){return k.call(this,l,c)};i.source="function("+(j.variable||"obj")+"){\n"+b+"}";return i};c.chain=function(b){return c(b).chain()};var aa=function(b){this._wrapped=b};c.prototype=aa.prototype;var ap=function(b,i){return i?c(b).chain():b},ab=function(b,i){aa.prototype[b]=function(){var j=S.call(arguments);V.call(j,this._wrapped);return ap(i.apply(c,j),this._chain)}};c.mixin(c);U("pop,push,reverse,shift,sort,splice,unshift".split(","),function(i){var j=W[i];aa.prototype[i]=function(){var b=this._wrapped;j.apply(b,arguments);var k=b.length;(i=="shift"||i=="splice")&&k===0&&delete b[0];return ap(b,this._chain)}});U(["concat","join","slice"],function(i){var j=W[i];aa.prototype[i]=function(){return ap(j.apply(this._wrapped,arguments),this._chain)}});aa.prototype.chain=function(){this._chain=true;return this};aa.prototype.value=function(){return this._wrapped}}).call(this);Kuoni.Namespace.create("Kuoni.Bookingbox");Kuoni.Bookingbox=(function(){var c=function(){$("._booking_box").each(function(){var g=$(this);g.find("._yearmonth").change(function(){f($(this));e($(this))});g.find("._days").change(function(){e($(this))});g.find("._departure").change(function(){e($(this))})})};var f=function(l){var g=l.closest("._date_picker").find("._days");var n=l.val();var m=parseInt(n.substring(0,4));var j=parseInt(n.substring(4));var k="";for(var h=d(m,j);h<=a(m,j);h++){k+="<option ";k+='value ="'+h+'">';k+=h;k+=" </option>"}g.html(k)};var a=function(h,g){return 32-new Date(h,g-1,32).getDate()};var d=function(i,g){var h=new Date();if(h.getFullYear()===i&&h.getMonth()+1===g){return h.getDate()}return 1};var e=function(k){var g=k.closest("._booking_box");var i=b(g.find("._date_picker"));var j=g.find("._departure").val();var h=g.find("._booking_button");h.attr("href",h.data("url_pattern").replace("{departure}",j).replace("{date}",i))};var b=function(g){var k=g.find("._yearmonth").val();var h=parseInt(g.find("._days").val());var j=k.substring(0,4);var i=parseInt(k.substring(4));i=i<10?"0"+i:i;h=h<10?"0"+h:h;return""+j+"-"+i+"-"+h};return{Init:c}})();$(document).ready(function(){setTimeout(Kuoni.Bookingbox.Init,1)});Kuoni.Namespace.create("Kuoni.Base");Kuoni.Base=(function(){var b=function(){$("._hide_if_empty").each(function(){a($(this))})};var a=function(c){if($.trim(c.html())===""){c.hide()}};return{Init:b}})();$(document).ready(function(){setTimeout(Kuoni.Base.Init,1)});Kuoni.Namespace.create("Kuoni.Tab");Kuoni.Tab=(function(){var b=function(){var d=$(".tabs .tab.current:first");if(d.length===0){d=$(".tabs .tab:first")}c(d);$(".tab").click(function(){c($(this))})};var c=function(d){var f=d.parent(".tabs");f.find(".tab").removeClass("current");d.addClass("current");a(f);var e=d.next(".tab_container");e.show();f.height(d.outerHeight()+e.outerHeight())};var a=function(d){d.find(".tab_container").hide()};return{Init:b}})();$(document).ready(function(){setTimeout(Kuoni.Tab.Init,1)});Kuoni.Namespace.create("Kuoni.Expand");Kuoni.Expand=(function(){var c=function(){$("a.expand_trigger").each(function(){var f=$(this);var d=f.data("target_selector");var e=$(d);e.hide();if(e.html().trim()===""){f.hide();$("a.collapse_trigger").each(function(){var g=$(this);if(g.data("target_selector")===d){g.hide()}})}});$("a.expand_trigger").click(function(){b($(this))});$("a.collapse_trigger").click(function(){a($(this))}).hide()};var b=function(f){var d=f.data("target_selector");var e=$(d);e.slideDown("fast");f.hide();$("a.collapse_trigger").each(function(){if(d===$(this).data("target_selector")){$(this).show()}})};var a=function(f){var d=f.data("target_selector");var e=$(d);e.slideUp("fast");f.hide();$("a.expand_trigger").each(function(){if(d===$(this).data("target_selector")){$(this).show()}})};return{Init:c}})();$(document).ready(function(){setTimeout(Kuoni.Expand.Init,1)});Kuoni.Namespace.create("Kuoni.Popover");Kuoni.Popover=(function(){var a=function(){b("body")};var b=function(e){var d=function(){var j=$(this);var q=$(this).parent().find("._popover_box");var g=$(this).parent().find("._bottomarrow");var k=j.height();var l=j.width();q.stop(true,true).fadeIn();var n=q.data("bottom");if(!n){n=q.css("bottom");q.data("bottom",n)}var i=parseInt(n);q.css("bottom",""+(k+i)+"px");var r=parseInt(q.outerWidth());var f=(l-r)/2;q.css("left",""+f+"px");var h=(r-g.width())/2;var o=q.offset().left;var p=$(window).width()-(r+o);var m=20;if(o<0){f-=o;q.css("left",""+(f+m)+"px");h+=o-m}else{if(p<0){f+=p;q.css("left",""+(f-m)+"px");h+=-p+m}}g.css("left",""+h+"px")};var c=function(){$(this).parent().find("._popover_box").stop(true,true).fadeOut()};$(e).find("._popover_box").each(function(){var f=$(this);f.hide();f.parent().find("._label").mouseover(d).mouseout(c)})};return{Init:a,InitWith:b}})();$(document).ready(function(){setTimeout(Kuoni.Popover.Init,1)});Kuoni.Namespace.create("Kuoni.TravelAreaNavigatorPart");Kuoni.TravelAreaNavigatorPart=(function(){var i=".travel_area_navigator ";var e=$(i+" .drop_downs");var a=e.data("url");var j=e.data("sub-level-desc");var f=$(i+"> a");var k="!#";var g=function(){e.children("select").change(h);l()};var h=function(){var n=$(this);var m=n.data("level");if(n.val()==""){b(m);l();return}var o=a+n.val();$.getJSON(o,function(p){b(m);l();d(m,p)})};var l=function(){var m=function(){var o=e.children();var p=k;var q=false;$(o.get().reverse()).each(function(){if(q===false){var r=$(this).val();if(r!==""){p=r;q=true}}});return p};var n=m();if(n!==k){f.attr("href","/ajax/pagebyid/"+n);f.show()}else{f.attr("href","");f.hide()}};var b=function(m){var n=e.children("[data-level="+m+"]").first();n.nextAll("select.drop_down").remove()};var c=function(n,m){return $('<option value="'+n+'">'+m+"</option>")};var d=function(n,m){if(m==null||m.length==0){return}var o=$('<select class="drop_down" data-level="'+(n+1)+'"></select>');o.append(c("",j));$.each(m,function(q,p){var r=c(p.ID.toString(),p.Title.toString());o.append(r)});o.change(h);e.append(o)};return{Init:g}})();$(document).ready(function(){setTimeout(Kuoni.TravelAreaNavigatorPart.Init,1)});Kuoni.Namespace.create("Kuoni.Accordion");Kuoni.Accordion=(function(){var a=function(){$(".accordion").each(function(){var b=new jQueryCollapse($(this),{query:"div>h2",accordion:true})})};return{Init:a}})();$(document).ready(Kuoni.Accordion.Init);Kuoni.Namespace.create("Kuoni.Homepage.Sticky");Kuoni.Homepage.Sticky=(function(){var a=function(){var d=$(document).scrollTop();var c=$(".sticky").outerHeight();var e=400;var b=1000;$(window).scroll(function(){var f=$(document).scrollTop();if(f>b){b=f}var g=$(this).scrollTop();if(d>g){if((f+e)<b){if(f>c){$(".sticky").addClass("navhide")}else{$(".sticky").removeClass("navhide")}if(f>d){$(".sticky").removeClass("navshow")}else{$(".sticky").addClass("navshow")}}}else{if(f>c){$(".sticky").addClass("navhide")}else{$(".sticky").removeClass("navhide")}if(f>d){$(".sticky").removeClass("navshow")}else{$(".sticky").addClass("navshow")}}d=$(document).scrollTop()})};return{Init:a}})();$(document).ready(Kuoni.Homepage.Sticky.Init);Kuoni.Namespace.create("Kuoni.Homepage.SmothScroll");Kuoni.Homepage.SmothScroll=(function(){var a=function(){$(".smoothscroll").on("click",function(d){d.preventDefault();var c=$(this);var f=this.hash,b=$(f);$("html, body").stop().animate({scrollTop:b.offset().top},800,"swing",function(){var g=c.hasClass("smoothscroll-nohash");if(!g){var e=$(document.activeElement);window.location.hash=f;e.focus()}})})};return{Init:a}})();$(document).ready(Kuoni.Homepage.SmothScroll.Init);Kuoni.Namespace.create("Kuoni.Homepage.Menu");Kuoni.Homepage.Menu=(function(){var b=function(){$("#nav-icon").click(function(){var c=$("#mainnav");c.slideToggle("slow",function(){if(c.css("display")==="none"){c.removeAttr("style")}});$(this).toggleClass("open")});$('#mainnav [id^="nav_"]').mouseenter(function(){if($("#search_dropdown").is(":visible")){return}var c=$(this).attr("id");$('#subNav [id^="nav_"]').not(c).hide();$("#search_dropdown").hide();$('#mainnav [id^="nav_"]').each(function(){var d=$(this).attr("id");$('#subNav [id^="'+d+'"]').clearQueue().stop();$('#subNav [id^="'+d+'"]').slideUp("fast");$("#search_dropdown").hide()});$('#subNav [id^="'+c+'"]').slideDown("slow")});$('#subNav [id^="nav_"]').mouseleave(function(){var c=$(this).attr("id");$('#subNav [id^="'+c+'"]').clearQueue().stop();$('#subNav [id^="'+c+'"]').slideUp("slow");$("#search_dropdown").hide()});$("body").click(function(c){if($(c)!=undefined&&$(c.target)[0]!=undefined){if($(c.target)[0]==$("#search_icon")[0]||$(c.target)[0]==$("#navsearch")[0]){return false}else{if($(c.target)[0]==$("#search_dropdown").find("input[type=text]")[0]){return false}else{if($(c.target)[0]==$("#search_dropdown").find("input[type=submit]")[0]){return true}else{if($(c.target).closest("#search_dropdown")[0]==$("#search_dropdown")[0]){if($(c.target).closest("#search_dropdown")[0]==undefined&&$("#search_dropdown")[0]==undefined){return true}else{return false}}else{$("#search_dropdown").slideUp("slow")}}}}}else{return true}})};var a=function(){$(".global-header__icon-link--search").removeClass("active").removeClass("rotate");$(".global-header__searchbar").removeClass("open");$("#header .is-search-form input[type='text']").val("")};return{Init:b,CloseSearch:a}})();$(document).ready(Kuoni.Homepage.Menu.Init);Kuoni.Namespace.create("Kuoni.LazyLoad");Kuoni.LazyLoad=(function(){var a=function(){function b(c){c.fadeOut(0,function(){c.fadeIn(1000)})}$(".lazyload").lazyload({load:b});$("input:text[name='q']").prop("autofocus","true")};return{Init:a}})();$(document).ready(Kuoni.LazyLoad.Init);Kuoni.Namespace.create("Kuoni.AccordionContent");Kuoni.AccordionContent=(function(){var a=function(){$("#accordion").click(function(){$(".accordion-content").slideToggle("slow");return false})};return{Init:a}})();$(document).ready(Kuoni.AccordionContent.Init);Kuoni.Namespace.create("Kuoni.EmailSignUp");Kuoni.EmailSignUp=(function(){var a=function(){var d="http://www.uploadlibrary.com/rcubedkuoni1/subscribe.html";var e=false;var g=0;var c=[{href:"#email-subscription-forme",type:"inline",autoSize:false,maxWidth:"800",maxHeight:"450",openEffect:"none",afterLoad:function(){var i=jQuery("#email-subscription-forme iframe:first");i.on("load",function(){g++;if(g>1){setTimeout(function(){e=true;$.fancybox.close()},2000)}})},afterShow:function(){jQuery(".fancybox-close").addClass("half-outside-close")},beforeClose:function(){jQuery(".fancybox-close").removeClass("half-outside-close");if(jQuery("input#dismissEmailPopup").prop("checked")){e=true}},afterClose:function(){if(e==true){f(1000)}else{f()}}}];function f(i){if(i){Cookies.set("Kuoni-EmailSignupCookie","true",{expires:i})}else{Cookies.set("Kuoni-EmailSignupCookie","true")}}function h(){$.fancybox.open(c,{padding:0})}function b(){if($.fancybox.isOpen||$.fancybox.isActive){setTimeout(b,3000)}else{h()}}$(document).ready(function(){var j=Cookies.get("Kuoni-EmailSignupCookie");var i=window.location.pathname;if(!j&&i!="/agents"&&i!=="/instore-signup"&&document.referrer.search(location.origin)>=0&&window.location.protocol!="https:"){setTimeout(function(){b()},9000)}});$(document).ready(function(){if(window.location.href.indexOf("brochures")<0){$(".emailsignupbtn").fancybox(c,{padding:0})}else{$(".emailsignupbtn").attr("style","display:none");$(".sticky").find("a").not(".InfinityNumber, .emailsignupbtn, .hidden-phone").each(function(){$(this).attr("href",$(this).prop("href").replace("https","http"))});$("#newfoot").find("a").not(".emailsignupbtn").each(function(){$(this).attr("href",$(this).prop("href").replace("https","http"))});$(".kuoni_btn").not(".greenbtn").each(function(){$(this).attr("href",$(this).prop("href").replace("https","http"))})}})};return{Init:a}})();$(document).ready(Kuoni.EmailSignUp.Init);Kuoni.Namespace.create("Kuoni.HomeSlider");Kuoni.HomeSlider=(function(){var a=function(){$("#home_owl_slider").owlCarousel({items:3,itemsDesktop:[1000,3],itemsDesktopSmall:[900,3],itemsTablet:[767,1],itemsMobile:[400,1],navigation:true,pagination:false,navigationText:false});$("#product_slider").owlCarousel({items:3,itemsDesktop:[,3],itemsDesktopSmall:[979,2],itemsTablet:[768,2],itemsMobile:[767,1],navigation:true,navigationText:false,scrollPerPage:true});$("#single_owl_slider").owlCarousel({items:3,itemsDesktop:[1000,3],itemsDesktopSmall:[900,3],itemsTablet:[767,1],itemsMobile:[400,1],navigation:true,navigationText:false});$("#single_owl_slider2").owlCarousel({items:3,itemsDesktop:[1000,3],itemsDesktopSmall:[900,3],itemsTablet:[767,1],itemsMobile:[400,1],navigation:true,navigationText:false});$("#in-page-carousel").owlCarousel({navigation:true,slideSpeed:300,paginationSpeed:400,singleItem:true,navigationText:false});$("#in-page-carousel2").owlCarousel({navigation:true,slideSpeed:300,paginationSpeed:400,singleItem:true,navigationText:false});$("#in-page-carousel3").owlCarousel({navigation:true,slideSpeed:300,paginationSpeed:400,singleItem:true,navigationText:false});$("#in-page-carousel-auto").owlCarousel({navigation:true,paginationSpeed:400,singleItem:true,navigationText:false,autoPlay:10000,stopOnHover:true});$("#in-page-carousel-auto2").owlCarousel({navigation:true,paginationSpeed:400,singleItem:true,navigationText:false,autoPlay:10000,stopOnHover:true});$("#in-page-carousel-auto3").owlCarousel({navigation:true,paginationSpeed:400,singleItem:true,navigationText:false,autoPlay:10000,stopOnHover:true});$(".hero-carousel").each(function(h,g){$(g).owlCarousel({navigation:true,slideSpeed:300,paginationSpeed:400,singleItem:true,navigationText:false,autoPlay:10000,stopOnHover:true,lazyLoad:true,autoHeight:true})});$(".hero-carousel-container .hero-nav .toggle-nav").click(function(){$(this).siblings("ul").toggleClass("show")});var d=undefined;var b=undefined;var c=undefined;var f=function(){$(".hero-carousel-container .hero-nav ul").removeClass("show");$(".hero-carousel-container").each(function(l,i){var g=$(i);var h=g.height();var p=g.children(".hero-nav");var r=g.find(".owl-pagination");var o=g.find(".item-pod-center-1");var j=p.length>0;var k=r.length>0;var m;var n;if(j){var s=p.position().top;m=h-s;if(k){var q=m;if(q<19){q=19}m=q+48;if(q!==c){c=q;r.css("bottom",q+"px")}if(m!==b){b=m;n=m+"px";o.each(function(u,t){var v=$(t);v.css("bottom",n)})}}else{if(m!==b){b=m;n=m+"px";o.each(function(u,t){var v=$(t);v.css("bottom",n)})}}}else{if(k){m=48;if(m!==b){b=m;n=m+"px";o.each(function(u,t){var v=$(t);v.css("bottom",n)})}}else{m=0;if(m!==b){b=m;n=m+"px";o.each(function(u,t){var v=$(t);v.css("bottom",n)})}}}})};var e=$(window).width();$(window).on("resize",function(){var g=$(window).width();if(g!==e){if(d){window.clearTimeout(d);d=undefined}d=window.setTimeout(f,100);e=g}});f()};return{Init:a}})();$(document).ready(Kuoni.HomeSlider.Init);Kuoni.Namespace.create("Kuoni.Brochures");Kuoni.Brochures=(function(){var a=function(){$("#order-bro").submit(function(){$("input[type=submit]").addClass("disabled");$(this).submit(function(){return false});return true})};return{Init:a}})();$(document).ready(Kuoni.Brochures.Init);Kuoni.Namespace.create("Kuoni.Search");Kuoni.Search=(function(){var a=function(){$(document).ready(function(){$("#navsearch").click(function(){$(".search-arrow").toggleClass("rotate-arrow")})})};return{Init:a}})();$(document).ready(Kuoni.Search.Init);jQuery.fn.simulateClick=function(){return this.each(function(){if("createEvent" in document){var a=this.ownerDocument,b=a.createEvent("MouseEvents");b.initMouseEvent("click",true,true,a.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(b)}else{this.click()}})};$(document).ready(function(){setTimeout(Kuoni.OnlineCatalogue.Siblings.Init,1);var a=$("#hide_season_a")&&$("#hide_season_a").length>0;if(a){if($(".is_tour_page_navigation_item").length>0){$(".is_tour_page_navigation_item a").eq(1).simulateClick();$(".is_tour_page_navigation_item.not_current").hide()}if($(".is_safari_page_navigation_item").length>0){$(".is_safari_page_navigation_item a").eq(1).simulateClick();$(".is_safari_page_navigation_item.not_current").hide()}}});Kuoni.WhenVisible=function(b,a,c){b=$(b);var d=b.is(":visible");if(d){a(b)}else{if(typeof(c)!=="number"||c<0){c=10}window.setTimeout(function(){Kuoni.WhenVisible(b,a,c)},c)}};function debounce(a,d,b){var c;return function(){var g=this,e=arguments;var h=function(){c=null;if(!b){a.apply(g,e)}};var f=b&&!c;clearTimeout(c);c=setTimeout(h,d);if(f){a.apply(g,e)}}}function init(){var a=debounce(function(){var c=$("#header");if($(window).scrollTop()>300){c.removeClass("hidenav").addClass("hidenav1");$(".global-header__destinations, .global-header__types").removeClass("open");$(".global-header__nav-link--types, .global-header__nav-link--destinations").removeClass("active");var d=$(".global-header__searchbar").hasClass("mobile-open");if(!d){$(".fade-overlay").removeClass("visible");$(".global-header__searchbar").removeClass("open");Kuoni.Homepage.Menu.CloseSearch();$("#header").removeAttr("style")}}else{c.removeClass("hidenav")}},100);$(window).scroll(a);if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var b=window.matchMedia("(orientation: portrait)");b.addListener(function(d){var e=$(".global-header__searchbar").hasClass("mobile-open");if(e){var c=$("#header .is-search-form input[type='text']").data("uiAutocomplete");c._close();window.setTimeout(function(){c.search()},10)}})}}$(".global-header__icon-link--search").on("click",function(a){a.preventDefault();$(".global-header__destinations").removeClass("open");$(".global-header__types").removeClass("open");$(".global-header__nav-link--types").removeClass("active");$(".global-header__nav-link--destinations").removeClass("active");$(".global-header__searchbar").toggleClass("open");var c=$(".global-header__searchbar").hasClass("open");var b=classie.has(header,"hidenav");if(c||b){$(this).removeClass("active").addClass("active").removeClass("rotate").addClass("rotate");$("body").removeClass("overflow").addClass("overflow");$(".fade-overlay").removeClass("visible").addClass("visible");$(".global-header__searchbar").removeClass("open").toggleClass("open");Kuoni.WhenVisible($("#header .is-search-form input[type='text']"),function(d){d.focus()})}else{Kuoni.Homepage.Menu.CloseSearch();$("body").removeClass("overflow");$(".fade-overlay").removeClass("visible")}});$(".global-header__nav-link--destinations").on("click",function(a){if(!$("#header").hasClass("mega-menu")){a.preventDefault();$(this).toggleClass("active");if($(this).hasClass("active")){$(".fade-overlay").addClass("visible")}else{$(".fade-overlay").removeClass("visible")}$(".global-header__searchbar").removeClass("open");$(".global-header__types").removeClass("open");$(".global-header__nav-link--types").removeClass("active");Kuoni.Homepage.Menu.CloseSearch();$("#header").removeAttr("style");$(".global-header__destinations").toggleClass("open")}});$(".global-header__searchform--cancel").on("click",function(a){Kuoni.Homepage.Menu.CloseSearch();$("#header").removeAttr("style");$("ul.search_as_you_type_menu").hide()});$(".global-header__nav-link--types").on("click",function(a){if(!$("#header").hasClass("mega-menu")){a.preventDefault();$(this).toggleClass("active");if($(this).hasClass("active")){$(".fade-overlay").addClass("visible")}else{$(".fade-overlay").removeClass("visible")}$(".global-header__destinations").removeClass("open");$(".global-header__searchbar").removeClass("open");$(".global-header__nav-link--destinations").removeClass("active");Kuoni.Homepage.Menu.CloseSearch();$("#header").removeAttr("style");$(".global-header__types").toggleClass("open")}});$(".fade-overlay").on("click",function(a){a.preventDefault();$("body").removeClass("overflow");if($(this).hasClass("visible")){$(".fade-overlay").removeClass("visible")}$(".global-header__destinations").removeClass("open");$(".global-header__types").removeClass("open");$(".global-header__nav-link--types").removeClass("active");$(".global-header__nav-link--destinations").removeClass("active");$(".global-header__searchbar").removeClass("open");Kuoni.Homepage.Menu.CloseSearch();$("#header").removeAttr("style")});$(".global-header__mobilelink--left").on("click",function(b){b.preventDefault();$("#header").removeAttr("style");$(".search_as_you_type_menu").hide();$(".global-header").toggleClass("mega-menu");$(".global-header__mobilelink--left").toggleClass("close");$(".global-header__mobilelink--right").toggleClass("hide");$(".global-header").toggleClass("mega-menu--left");$(".global-header__nav-wrapper ").removeClass("mobile-search");$(".global-header__searchbar").removeClass("open");$(".global-header__searchbar").removeClass("mobile-open");if($(".global-header").hasClass("mega-menu")){$("body").addClass("menu-open")}else{$("body").removeClass("menu-open")}var a=Cookies.get("ccAccepted");if(a==="true"){}else{$("#cookie-acceptance-wrapper").toggleClass("cc-closed").toggleClass("cc-open")}});$(".global-header__mobilelink--right").on("click",function(a){a.preventDefault();$("#header").removeAttr("style");$(".global-header").toggleClass("mega-menu");$(".global-header__mobilelink--right").toggleClass("close");$(".global-header__mobilelink--left").toggleClass("hide");$(".global-header").toggleClass("mega-menu--right");if($(".global-header").hasClass("mega-menu")){$("body").addClass("menu-open")}else{$("body").removeClass("menu-open")}});$(".global-header__mobile-search").on("click",function(a){a.preventDefault();$(".global-header__nav-wrapper ").toggleClass("mobile-search");$(".global-header__searchbar").toggleClass("mobile-open");var c=$(".global-header__searchbar").hasClass("mobile-open");if(c){if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){$("#header").css({position:"absolute"})}var b=function(){window.scrollTo(0,0);$("#header .is-search-form input[type='text']").focus()};Kuoni.WhenVisible($("#header .is-search-form input[type='text']"),function(d){b();if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){setTimeout(b,10);setTimeout(b,50);setTimeout(b,100);setTimeout(b,250);setTimeout(b,500)}})}else{$("#header").removeAttr("style")}});$(".menu-back-button").on("click",function(a){a.preventDefault();$(".global-header__nav-wrapper ").toggleClass("mobile-search");$(".global-header__searchbar").toggleClass("mobile-open");$(".search_as_you_type_menu").hide();var b=$(".global-header__searchbar").hasClass("mobile-open");if(b){if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){$("#header").css({position:"absolute"})}}else{$("#header").removeAttr("style")}});$(function(){init()});(function(g){function c(h){return new RegExp("(^|\\s+)"+h+"(\\s+|$)")}var d,a,e;if("classList" in document.documentElement){d=function(i,h){return i.classList.contains(h)};a=function(i,h){i.classList.add(h)};e=function(i,h){i.classList.remove(h)}}else{d=function(i,h){return c(h).test(i.className)};a=function(i,h){if(!d(i,h)){i.className=i.className+" "+h}};e=function(i,h){i.className=i.className.replace(c(h)," ")}}function f(i,h){var j=d(i,h)?e:a;j(i,h)}var b={hasClass:d,addClass:a,removeClass:e,toggleClass:f,has:d,add:a,remove:e,toggle:f};if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b}else{g.classie=b}}})(window);Kuoni.Namespace.create("Kuoni.Image.Slideshow");Kuoni.Image.Slideshow=(function(){var d=function(){e()};var f=function(i){e(i)};var e=function(j){var i=$(".image_slideshow.manual",j);i.each(function(){var k=$(this);var n=k.find("ul:first");n.find("li:first").addClass("current");var m=k.data("captionposition");k.find("div").addClass(m);var o=k.data("transition");var q=k.data("transition_duration");q=(!q||q==0)?500:q;var p=k.data("transition_delay");p=(!p||p==0)?3000:p;var l=k.data("auto_slide");g(n);if(l&&n.find("li").length>1){a(n,o,p,q)}k.find(".next").click(function(){b(n,o,q,true)});k.find(".prev").click(function(){b(n,o,q,false)});k.find(".image_count").text(n.find("li").length)})};var c=function(j){if(j.length>0&&j[0].tagName==="DIV"){var k=j.data("src");var i=j.data("alt");var l=j.attr("style");j.replaceWith($("<img/>").attr("src",k).attr("alt",i).attr("style",l))}};var b=function(m,n,i,k){var j=m.find("li.current");var l=k?j.next("li"):j.prev("li");if(l.length<1){l=k?m.find("li:first"):m.find("li:last")}c(l.find("._img"));switch(n){case"Slide":l.css("left",(k?"+":"-")+(l.width())+"px");j.animate({left:(k?"-=":"+=")+j.width()},i,function(){j.attr("style","").removeClass("current")});l.animate({left:(k?"-=":"+=")+l.width()},i,function(){l.attr("style","").addClass("current");g(m);h(m)});break;case"Fade":l.css({"z-index":0,opacity:0,left:0});j.css({"z-index":1,opacity:1});j.animate({opacity:0},i,function(){j.attr("style","").removeClass("current")});l.animate({opacity:1},i,function(){l.attr("style","").addClass("current");g(m);h(m)});break;default:j.attr("style","").removeClass("current");l.attr("style","").addClass("current");g(m);h(m);break}};var h=function(i){i.parent().find(".image_nr").text(i.find("li").index(i.find("li.current"))+1)};var g=function(j){var i=j.find("li.current").data("enlarge_selector");j.parent().find("a.enlarge").hide();j.parent().find(i).show()};var a=function(k,l,j,i){setTimeout(function(){b(k,l,i,false);a(k,l,j,i)},j)};return{Init:d,InitWith:f}})();$(document).ready(function(){setTimeout(Kuoni.Image.Slideshow.Init,1)});Kuoni.Namespace.create("Kuoni.OnlineCatalogue.Rating.TripAdvisor");Kuoni.OnlineCatalogue.Rating.TripAdvisor=(function(){var a=function(){b("body")};var b=function(c){$(".is_tripAdvisorRating",c).each(function(){var d=$(this);var g=d.data("image");var h=d.data("score");var f=d.data("href");var e=$("<a href='"+f+"'/>").append("<img src='"+g+"' alt='"+h+"'/>");d.html(e)})};return{Init:a,InitWith:b}})();$(document).ready(function(){setTimeout(Kuoni.OnlineCatalogue.Rating.TripAdvisor.Init,1)});Kuoni.Namespace.create("Kuoni.OnlineCatalogue.Siblings");Kuoni.OnlineCatalogue.Siblings=(function(){var b=function(){var g=$(".siblings");g.find(".next").click(c);g.find(".previous").click(d);e(0);f()};var c=function(){e(a()+1);f()};var d=function(){e(a()-1);f()};var a=function(){var j=$(".siblings");var i=j.find(".sibling");var h=j.find(".sibling:not(:hidden):first");var g=i.index(h);return g/6};var e=function(h){var k=$(".siblings");var j=k.find(".sibling");var g=0;j.hide();j.each(function(){if(g>=h*6&&g<((h+1)*6)){$(this).show()}g++})};var f=function(){var i=$(".siblings");var g=i.find(".next").hide();var h=i.find(".previous").hide();if(i.find(".sibling:not(:hidden):first").prev(".sibling").length>0){h.show()}if(i.find(".sibling:not(:hidden):last").next(".sibling").length>0){g.show()}};return{Init:b}})();var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h,i){this.values=i;this.filterKey=h}g.prototype.toODataString=function(){return[this.filterKey,"=",encodeURIComponent(this.values.join(","))].join("")};g.prototype.isSet=function(){return typeof this.filterKey!=="undefined"&&typeof this.values!=="undefined"&&this.values.length>0};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return true};return g})();f.CustomODataFilter=e})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(){this.filters=new b.Infrastructure.Dictionary()}g.prototype.toODataString=function(){var h=[];this.addFilterStringForRegularFilters(h);this.addFilterForCustomFilters(h);if(h.length>0){return"&"+h.join("&")}return""};g.prototype.addFilterStringForRegularFilters=function(i){var h=new b.Domain.OData.ODataAndFilter("FilterBy",this.getRegularODataFilters());if(h.isSet()===true){i.push("$filter="+encodeURIComponent(h.toODataString()))}};g.prototype.getRegularODataFilters=function(){return _.filter(this.filters.getAllValues(),function(h){return h.customODataFilter()==false})};g.prototype.addFilterForCustomFilters=function(h){_.each(this.filters.getAllValues(),function(i){if(i.customODataFilter()==true&&i.isSet()){h.push(i.toODataString())}})};g.prototype.hasFilters=function(){return this.filters.getAllValues().length>0};g.prototype.add=function(h){this.filters[h.getFilterKey()]=h};return g})();f.FilterBy=e})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,i){this.filterKey=h;this.validFilters=_.filter(i,function(j){return j.isSet()&&j.customODataFilter()==false})}g.prototype.toODataString=function(){return _.map(this.validFilters,function(h){return h.toODataString()}).join(" and ")};g.prototype.isSet=function(){return this.validFilters.length>0};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return false};return g})();e.ODataAndFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,i,j){this.filterKey=h;this.propertyName=i;this.value=j}g.prototype.toODataString=function(){return[this.propertyName," ge ",this.value.toString()," and ",this.propertyName," lt ",(this.value+1).toString()].join("")};g.prototype.isSet=function(){return this.propertyName!==""};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return false};return g})();e.ODataClassificationRangeFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,i,j){this.filterKey=h;this.propertyName=i;this.value=j}g.prototype.toODataString=function(){return[this.propertyName," eq ",this.getODataValue()].join("")};g.prototype.getODataValue=function(){if(typeof this.value==="number"||typeof this.value==="boolean"){return this.value}if(this.value.toString().indexOf("'")!==-1){return["'",this.value.toString().replace("'","''"),"'"].join("")}return["'",this.value.toString(),"'"].join("")};g.prototype.isSet=function(){return this.propertyName!==""};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return false};return g})();e.ODataEqualsFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,i){this.ODataFilter=i;this.filterKey=h}g.prototype.toODataString=function(){return this.ODataFilter};g.prototype.isSet=function(){return this.ODataFilter!==""};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return false};return g})();e.ODataFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,i){this.ODataFilters=i;this.filterKey=h}g.prototype.toODataString=function(){var h=this.toODataStringWithoutParentheses();if(h.length===0){return""}return["(",h,")"].join("")};g.prototype.isSet=function(){return this.toODataStringWithoutParentheses().length!==0};g.prototype.toODataStringWithoutParentheses=function(){return this.ODataFilters.join(" or ")};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return false};return g})();e.ODataOrFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(i,m,h,l,k,j){this.to=m;this.from=i;this.filterKey=h;this.propertyName=l;this.min=k;this.max=j}g.prototype.toODataString=function(){if(this.isSet()){var h=[this.propertyName,"ge",this.from];if(this.to===this.max){return h.join(" ")}else{h.push("and",this.propertyName,"le",this.to);return"("+h.join(" ")+")"}}return""};g.prototype.isSet=function(){if(this.from===this.min&&this.to===this.max){return false}return this.propertyName!==""};g.prototype.getFilterKey=function(){return this.filterKey};g.prototype.customODataFilter=function(){return false};return g})();e.ODataRangeFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(i,h){if(typeof h==="undefined"){h=false}this.orderField=i;this.orderDesc=h}g.prototype.toODataString=function(){var h=this.orderDesc?"desc":"asc";return[this.orderField," ",h].join("")};return g})();e.OrderBy=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,i){this.to=i;this.from=h}g.prototype.toODataString=function(){return["Price ge",this.from.toString(),"and","Price le",this.to.toString()].join(" ")};g.prototype.isSet=function(){return true};g.prototype.getFilterKey=function(){return"price"};g.prototype.customODataFilter=function(){return false};return g})();e.PriceODataFilter=f})(c.OData||(c.OData={}));var d=c.OData})(b.Domain||(b.Domain={}));var a=b.Domain})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Definitions").SearchAsYouTypeItemTypes={link:"0",seeMoreLink:"1"};Kuoni.Namespace.create("Kuoni.Definitions").SearchResultCategoryType={travelArea:"0",product:"1",inspiration:"2",other:"3"};var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h){this.queries={filterSection:"#filter_new_section",inspirationsTravelAreaFilter:"#inspirationstravelareas_filter",inspirationsHolidayTypeFilter:"#inspirationsholidaytype_filter",inspirationsChildTravelAreaFilter:"#inspirationstravelareas_child_filter"};this.settingsService=new b.Services.SettingsService();this.initializeEvents();this.jQuery=h}g.prototype.initializeEvents=function(){this.onAnyFilterChanged=new b.Infrastructure.Event();this.onUpdateLookAhead=new b.Infrastructure.Event()};g.prototype.triggerLookAheadUpdate=function(){this.dropDownedFilterModel.onUpdated.notify()};g.prototype.triggerFilterChanged=function(){this.onAnyFilterChanged.notify(this.dropDownedFilterModel)};g.prototype.setupInspirationsListFilters=function(h){this.dropDownedFilterModel=h;this.setupDropdownFilter(this.jQuery(this.queries.inspirationsTravelAreaFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.InspirationsTravelAreaFilter);this.setupDropdownFilter(this.jQuery(this.queries.inspirationsHolidayTypeFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.InspirationsHolidayTypeFilter);this.setupDropdownFilter(this.jQuery(this.queries.inspirationsChildTravelAreaFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.InspirationsChildTravelAreaFilter)};g.prototype.enableORdisableDropDown=function(h){if(h=="D"){this.jQuery(this.queries.inspirationsHolidayTypeFilter,this.queries.filterSection).attr("disabled","disabled");this.jQuery(this.queries.inspirationsTravelAreaFilter,this.queries.filterSection).attr("disabled","disabled");this.jQuery(this.queries.inspirationsChildTravelAreaFilter,this.queries.filterSection).attr("disabled","disabled")}else{this.jQuery(this.queries.inspirationsHolidayTypeFilter,this.queries.filterSection).removeAttr("disabled");this.jQuery(this.queries.inspirationsTravelAreaFilter,this.queries.filterSection).removeAttr("disabled");this.jQuery(this.queries.inspirationsChildTravelAreaFilter,this.queries.filterSection).removeAttr("disabled")}};g.prototype.hideShowFilterSections=function(h){if(h=="H"){this.jQuery(this.queries.filterSection).hide()}else{this.jQuery(this.queries.filterSection).show()}};g.prototype.getFilterOptionsLengthAndResetFilter=function(j){var r;var m;var q;var i=[];var h=[];this.dropDownedFilterModel=j;var o=this.jQuery(this.queries.inspirationsHolidayTypeFilter,this.queries.filterSection);var p=this.jQuery(this.queries.inspirationsTravelAreaFilter,this.queries.filterSection);var n=this.jQuery(this.queries.inspirationsChildTravelAreaFilter,this.queries.filterSection);if(o.find(":selected").val()!="I"&&o.find(":selected").length>0){r=new b.Views.Inspirations.DropDownFilterView(new b.Views.Inspirations.FilterViewQueries(o));m=b.Infrastructure.OnlineCatalogue.Filters.InspirationsHolidayTypeFilter;q="I";i.push(q);h.push(o)}if(p.find(":selected").val()!="R"&&p.find(":selected").length>0){r=new b.Views.Inspirations.DropDownFilterView(new b.Views.Inspirations.FilterViewQueries(p));m=b.Infrastructure.OnlineCatalogue.Filters.InspirationsTravelAreaFilter;q="R";i.push(q);h.push(p)}if(n.find(":selected").val()!="C"&&n.find(":selected").length>0){r=new b.Views.Inspirations.DropDownFilterView(new b.Views.Inspirations.FilterViewQueries(n));m=b.Infrastructure.OnlineCatalogue.Filters.InspirationsChildTravelAreaFilter;q="C";i.push(q);h.push(n)}if(i.length==0){return 0}if(r.getSelectedValuesOfFilter().length>0){var l=this.dropDownedFilterModel.getFilter(m.Key);var k=new b.Controllers.Inspirations.DropDownFilterController(this.dropDownedFilterModel,r,m,l);k.resetFilters(q,i,h)}else{return 0}};g.prototype.setupDropdownFilter=function(l,k){if(l.length===0){return}var j=this.dropDownedFilterModel.getFilter(k.Key);var h=new b.Views.Inspirations.DropDownFilterView(new b.Views.Inspirations.FilterViewQueries(l));var i=new b.Controllers.Inspirations.DropDownFilterController(this.dropDownedFilterModel,h,k,j);i.onFilterChanged.attach(this.onAnyFilterChanged.notify,this.onAnyFilterChanged);i.onUpdateLookAhead.attach(this.onUpdateLookAhead.notify,this.onUpdateLookAhead)};return g})();f.FilterCoordinator=e})(c.Inspirations||(c.Inspirations={}));var d=c.Inspirations})(b.Coordinators||(b.Coordinators={}));var a=b.Coordinators})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h){this.queries={filterSection:"#filter_section",facilityFilter:".facilities_filter",facilityGroups:".facility_groups",classificationsFilter:"ul.classifications_filter",travelAreasFilter:"ul.travelareas_filter",segmantationFilter:"ul.segmentation_filter",priceFilter:"div.price_filter",countriesAndTravelAreasFilter:".area_filter_group",distanceToCenterFilter:"div.distancetocenter_filter",distanceToBeachFilter:"div.distancetobeach_filter",accommodationTypeFilter:"ul.accommodation_type_filter"};this.settingsService=new b.Services.SettingsService();this.initializeEvents();this.jQuery=h}g.prototype.initializeEvents=function(){this.onAnyFilterChanged=new b.Infrastructure.Event();this.onUpdateLookAhead=new b.Infrastructure.Event()};g.prototype.triggerLookAheadUpdate=function(){this.aggregatedFilterModel.onUpdated.notify()};g.prototype.triggerFilterChanged=function(){this.onAnyFilterChanged.notify(this.aggregatedFilterModel)};g.prototype.setupAccommodationSearchFilters=function(h){this.aggregatedFilterModel=h.getAggregatedFilterModel();this.setupCheckboxRadioButtonFilters();this.setupFacilityGroupsFilter(this.jQuery(this.queries.facilityGroups,this.queries.filterSection));this.setupCountriesAndTravelAreasFilter(this.jQuery(this.queries.countriesAndTravelAreasFilter,this.queries.filterSection),h);this.setupSliderFilters()};g.prototype.setupOldProductListFilters=function(h){this.aggregatedFilterModel=h;this.setupCheckboxRadioButtonFilters();this.setupCheckboxRadioButtonFilter(this.jQuery(this.queries.facilityFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.FacilitiesFilter);this.setupSliderFilters()};g.prototype.setupCheckboxRadioButtonFilters=function(){this.setupCheckboxRadioButtonFilter(this.jQuery(this.queries.accommodationTypeFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.AccommodationTypeFilter);this.setupCheckboxRadioButtonFilter(this.jQuery(this.queries.classificationsFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.ClassificationsFilter);this.setupCheckboxRadioButtonFilter(this.jQuery(this.queries.travelAreasFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.TravelAreasFilter);if(this.settingsService.getSettingsFor("New-HotelCategorization-Setting")){this.setupCheckboxRadioButtonFilter(this.jQuery(this.queries.segmantationFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAny)}else{this.setupCheckboxRadioButtonFilter(this.jQuery(this.queries.segmantationFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAll)}};g.prototype.setupCheckboxRadioButtonFilter=function(l,k){if(l.length===0){return}var j=this.aggregatedFilterModel.getFilter(k.Key);var h=new b.Views.OnlineCatalogue.CheckboxRadioButtonFilterView(new b.Views.OnlineCatalogue.FilterViewQueries(l));var i=new b.Controllers.OnlineCatalogue.CheckboxRadioButtonFilterController(this.aggregatedFilterModel,h,k,j);i.onFilterChanged.attach(this.onAnyFilterChanged.notify,this.onAnyFilterChanged);i.onUpdateLookAhead.attach(this.onUpdateLookAhead.notify,this.onUpdateLookAhead)};g.prototype.setupFacilityGroupsFilter=function(l){if(l.length===0){return}var j=b.Infrastructure.OnlineCatalogue.Filters.FacilityGroupsFilter;var i=this.aggregatedFilterModel.getFilter(j.Key);var k=new b.Views.OnlineCatalogue.FacilityGroupsFilterView(new b.Views.OnlineCatalogue.FacilityGroupsFilterViewQueries(l));var h=new b.Controllers.OnlineCatalogue.FacilityGroupsFilterController(this.aggregatedFilterModel,k,j,i);h.onFilterChanged.attach(this.onAnyFilterChanged.notify,this.onAnyFilterChanged);h.onUpdateLookAhead.attach(this.onUpdateLookAhead.notify,this.onUpdateLookAhead)};g.prototype.setupCountriesAndTravelAreasFilter=function(l,h){if(l.length===0){return}var k=new b.Services.OnlineCatalogue.CountriesAndTravelAreasFilterService($);var j=new b.Views.OnlineCatalogue.CountriesAndTravelAreasFilterView(l,$);var i=new b.Controllers.OnlineCatalogue.CountriesAndTravelAreasFilterController(j,k,h);i.onFilterChanged.attach(this.onAnyFilterChanged.notify,this.onAnyFilterChanged)};g.prototype.setupSliderFilters=function(){this.setupSliderFilter(this.jQuery(this.queries.priceFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.PriceFilter);this.setupSliderFilter(this.jQuery(this.queries.distanceToCenterFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.DistanceToCenterFilter);this.setupSliderFilter(this.jQuery(this.queries.distanceToBeachFilter,this.queries.filterSection),b.Infrastructure.OnlineCatalogue.Filters.DistanceToBeachFilter)};g.prototype.setupSliderFilter=function(k,j){if(k.length===0){return}var i=this.aggregatedFilterModel.getFilter(j.Key);var l=new b.Views.OnlineCatalogue.SliderFilterView(new b.Views.OnlineCatalogue.SliderFilterViewQueries(k),this.settingsService,j.Key);var h=new b.Controllers.OnlineCatalogue.SliderFilterController(this.aggregatedFilterModel,l,j,i);h.onFilterChanged.attach(this.onAnyFilterChanged.notify,this.onAnyFilterChanged)};return g})();f.FilterCoordinator=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Coordinators||(b.Coordinators={}));var a=b.Coordinators})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){(function(h){var g=(function(){function i(){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.Brochure.Filters.AggregatedFilterModel";this.filters=new b.Infrastructure.Dictionary();this.enabled=true;this.initializeEvents()}i.prototype.enable=function(){this.enabled=true;this.onUpdated.notify()};i.prototype.disable=function(){this.enabled=false;this.onUpdated.notify()};i.prototype.isEnabled=function(){return this.enabled};i.prototype.initializeEvents=function(){this.onUpdated=new b.Infrastructure.Event()};i.prototype.getFilter=function(j){return this.filters[j]};i.prototype.setFilter=function(j){this.filters[j.getKey()]=j;this.onUpdated.notify()};i.prototype.setFilters=function(j){_.each(j.getAllValues(),function(k){this.filters[k.getKey()]=k}.bind(this))};i.prototype.getFilterBy=function(){var j=new b.Domain.OData.FilterBy();_.each(this.filters.getAllValues(),function(k){j.add(k.getODataFilter())});return j};i.prototype.isMatch=function(k){var j=_.any(this.filters.getAllValues(),function(l){return l.isMatch(k)===false});return j===false};i.prototype.clone=function(){var j=new b.Infrastructure.Brochure.Filters.AggregatedFilterModel();j.setFilters(this.filters);return j};return i})();h.AggregatedFilterModel=g})(e.Filters||(e.Filters={}));var f=e.Filters})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(f,g){this.bottomMargin=800;this.chunkService=f;this.initializeEvents();this.filterBy=new b.Domain.OData.FilterBy();this.orderBy=new b.Domain.OData.OrderBy(g);this.loadingChunk=$.Deferred().resolve()}e.prototype.initializeEvents=function(){this.beforeLoad=new b.Infrastructure.Event();this.lastChunkLoaded=new b.Infrastructure.Event();this.onError=new b.Infrastructure.Event();this.totalHotelCountLoaded=new b.Infrastructure.Event();this.chunkLoaded=new b.Infrastructure.Event()};e.prototype.setOrderBy=function(f){this.orderBy=f;this.resetLoaderState()};e.prototype.getOrderBy=function(){return new b.Domain.OData.OrderBy(this.orderBy.orderField,this.orderBy.orderDesc)};e.prototype.setFilterBy=function(f){this.filterBy=f;this.resetLoaderState()};e.prototype.setQueryParameter=function(f,g){this.queryParameter=new b.Infrastructure.QueryParameter(f,g);this.resetLoaderState()};e.prototype.getQueryString=function(){return this.queryParameter.toString()};e.prototype.resetLoaderState=function(){this.chunkIndex=0;this.allItemsAreLoaded=false};e.prototype.initializeWithFirstChunkPreloaded=function(){this.chunkIndex=1;this.initialize()};e.prototype.initializeWithoutPreloading=function(){this.chunkIndex=0;this.initialize()};e.prototype.initialize=function(){setInterval(this.updateIfNeeded.bind(this),1000);$(window).scroll(this.updateIfNeeded.bind(this))};e.prototype.updateIfNeeded=function(){var f=$(window).scrollTop()+$(window).height();var g=$(document).height()-$(window).height();if(f+this.bottomMargin>g&&this.loadingChunk.state()==="resolved"){this.loadNewChunk()}};e.prototype.loadNewChunk=function(){var f=this;if(this.allItemsAreLoaded){return}this.loadingChunk=$.Deferred();this.beforeLoad.notify();this.chunkService.getChunk(this.chunkIndex,this.queryParameter,this.orderBy,this.filterBy).done(function(g,h){if(g){f.lastChunkLoaded.notify();if(f.chunkIndex===0){f.onError.notify()}}else{f.chunkIndex++;f.chunkLoaded.notify(h)}f.allItemsAreLoaded=g;f.loadingChunk.resolve()}).fail(function(){console.log("ajax call to load accommodation list item was aborted")})};return e})();d.ChunkLoader=c})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.Dictionary"}e.prototype.getAllValues=function(){var f=this;var g=_.filter(this,function(h){return _.isFunction(h)===false&&h!==f.__fullyQualifiedTypeName});return _.map(g,function(h){return h})};return e})();d.Dictionary=c})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(){this.handlers=[];this.listeners=[]}e.prototype.attach=function(f,g){this.handlers.push(f);this.listeners.push(g)};e.prototype.notify=function(){var g=[];for(var f=0;f<(arguments.length-0);f++){g[f]=arguments[f+0]}for(var h=0;h<this.handlers.length;h++){this.handlers[h].apply(this.listeners[h],g)}};return e})();d.Event=c})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(g){var f=this;this.hashParams={};this.getParameterByName=function(h){return f._getParameterByName(h)};this.hash=g;if(typeof(this.hash)==="string"&&this.hash!==null&&this.hash!==""){this.parse()}}e.prototype.parse=function(){if(typeof(this.hash)!=="string"||this.hash===null||this.hash===""){this.hashParams={};return this.hashParams}if(this.hash[0]==="#"){this.hash=this.hash.substr(1)}if(this.hash[0]==="!"){this.hash=this.hash.substr(1)}var f=this.hash.split("&");var g={};f.forEach(function(j){var k=j.split("=");if(k!=null&&k.length>0){var i=k[0];if(typeof(i)==="string"&&i!==null&&i!==""){var l;if(k.length>1){var h=k[1];if(typeof(h)==="string"&&h!==null&&h!==""){l=decodeURIComponent(h.replace(/\+/g," "))}else{l=null}}else{l=null}g[i]=l}}});this.hashParams=g;return this.hashParams};e.prototype._getParameterByName=function(f){if(_.has(this.hashParams,f)){return this.hashParams[f]}return null};return e})();d.HashParameterParser=c})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var namespace=Kuoni.Namespace.create("Kuoni.Infrastructure");(function(){this.Inherits=function(b,c){for(var a in c.prototype){b.prototype[a]=c.prototype[a]}}}).apply(namespace);(function(a){a.fn.showLoader=function(){return this.each(function(){var b=a(this);if(b.find(".loader").length>0){return}b.append(a("<div></div>",{"class":"loader"}))})};a.fn.hideLoader=function(){return this.each(function(){var b=a(this);b.find(".loader").remove()})};a.fn.printError=function(b){return this.each(function(){var c=a(this);c.append(a("<div></div>",{"class":"campaignparterrormessage"}));a(".campaignparterrormessage").append(b)})};a.fn.removeError=function(){return this.each(function(){var b=a(this);b.find(".campaignparterrormessage").remove()})}})(jQuery);var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(f){this.storage=f}e.prototype.setItem=function(f,g){if(typeof this.storage==="undefined"){return}this.storage[f]=JSON.stringify(g)};e.prototype.getItem=function(g){if(typeof this.storage==="undefined"){return}var f=this.storage[g];if(typeof f==="string"){var h=JSON.parse(f);this.mixinFunctionsForType(h);return h}return f};e.prototype.mixinFunctionsForType=function(h){if(typeof h.__fullyQualifiedTypeName==="string"){var g=h.__fullyQualifiedTypeName.split(".");var i=window;_.each(g,function(j){var k=i[j];if(typeof i!=="undefined"){i[j]=k}i=k});for(var f in h){if(h.hasOwnProperty(f)){this.mixinFunctionsForType(h[f])}}_.extend(h,i.prototype);if(_.isFunction(h.initializeEvents)){h.initializeEvents()}}};e.prototype.removeItem=function(f){if(typeof this.storage==="undefined"){return}delete this.storage[f]};return e})();c.JsonSessionStorage=d})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(f){this.totalCountService=f}e.prototype.lookAheadUpdateTriggered=function(f,i,j,h,g){var k=this.totalCountService.loadHotelTotalCount(f.getFilterBy());k.done(function(l){return g(i,l,j,h)})};return e})();c.LookAheadUpdater=d})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.AccommodationTypeFilter";this.AccommodationTypes=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.AccommodationTypeFilter.Key};i.prototype.isMatch=function(k){if(this.AccommodationTypes.length>0){for(var j=0;j<this.AccommodationTypes.length;j++){if(this.getAccommodationType(this.AccommodationTypes[j],k)!==true){return false}}}return true};i.prototype.getAccommodationType=function(j,m){var k=m.AccommodationTypes;for(var l=0;l<k.length;l++){if(k[l].Key===j){return k[l].Value}}return undefined};i.prototype.getValues=function(){return this.AccommodationTypes};i.prototype.isSet=function(){return this.AccommodationTypes.length!==0};i.prototype.getODataFilter=function(){var j=[];var k=this.getKey();var l=k;_.each(this.AccommodationTypes,function(m,n){j.push(new b.Domain.OData.ODataEqualsFilter(k,m,true).toODataString())});return new b.Domain.OData.ODataOrFilter(this.getKey(),j)};i.Key="AccommodationTypes";return i})();h.AccommodationTypeFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.AggregatedFilterModel";this.filters=new b.Infrastructure.Dictionary();this.enabled=true;this.initializeEvents()}i.prototype.enable=function(){this.enabled=true;this.onUpdated.notify()};i.prototype.disable=function(){this.enabled=false;this.onUpdated.notify()};i.prototype.isEnabled=function(){return this.enabled};i.prototype.initializeEvents=function(){this.onUpdated=new b.Infrastructure.Event()};i.prototype.getFilter=function(j){return this.filters[j]};i.prototype.setFilter=function(j){this.filters[j.getKey()]=j;this.onUpdated.notify()};i.prototype.setFilters=function(j){_.each(j.getAllValues(),function(k){this.filters[k.getKey()]=k}.bind(this))};i.prototype.getFilterBy=function(){var j=new b.Domain.OData.FilterBy();_.each(this.filters.getAllValues(),function(k){j.add(k.getODataFilter())});return j};i.prototype.isMatch=function(k){var j=_.any(this.filters.getAllValues(),function(l){return l.isMatch(k)===false});return j===false};i.prototype.clone=function(){var j=new b.Infrastructure.OnlineCatalogue.Filters.AggregatedFilterModel();j.setFilters(this.filters);return j};return i})();h.AggregatedFilterModel=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.ClassificationsFilter";this.classifications=this.parseToIntArray(j)}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.ClassificationsFilter.Key};i.prototype.parseToIntArray=function(j){return _.map(j,function(k){return parseInt(k,10)})};i.prototype.isMatch=function(j){if(this.classifications.length==0){return true}if(this.classifications.length>0){return this.classifications.indexOf(Math.floor(j.classification))>-1}return false};i.prototype.getValues=function(){return this.classifications};i.prototype.getODataFilter=function(){var k=_.map(this.classifications,function(l){return new b.Domain.OData.ODataClassificationRangeFilter("Classification"+l,"Classification",l).toODataString()});var j=new b.Domain.OData.ODataOrFilter(this.getKey(),k);return j};i.Key="ClassificationsFilter";return i})();h.ClassificationsFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(k,j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.CountriesAndTravelAreasFilter";this.countryIds=k;if(typeof j==="undefined"){this.areaIds=[]}else{this.areaIds=j}}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.CountriesAndTravelAreasFilter.Key};i.prototype.isMatch=function(j){throw"CountriesAndTravelAreasFilter: This filter does not support client side filtering!"};i.prototype.getValues=function(){return{areaIds:this.areaIds,countryIds:this.countryIds}};i.prototype.getODataFilter=function(){var j=this.areaIds.length>0?this.areaIds:this.countryIds;return new b.Domain.OData.CustomODataFilter("containingAnyAncestor",j)};i.Key="CountriesAndTravelAreasFilter";return i})();h.CountriesAndTravelAreasFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.DistanceToBeachFilter";this.distances=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.DistanceToBeachFilter.Key};i.prototype.isMatch=function(j){if(this.distances.minValue===this.distances.fromValue&&this.distances.maxValue===this.distances.toValue){return true}return j.distanceToBeach>=this.distances.fromValue&&j.distanceToBeach<=this.distances.toValue};i.prototype.getValues=function(){return this.distances};i.prototype.getODataFilter=function(){var k=this.distances.fromValue||this.distances.minValue;var j=this.distances.toValue||this.distances.maxValue;return new b.Domain.OData.ODataRangeFilter(k,j,this.getKey(),this.getKey(),this.distances.minValue,this.distances.maxValue)};i.Key="DistanceToBeach";return i})();h.DistanceToBeachFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.DistanceToCenterFilter";this.distances=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.DistanceToCenterFilter.Key};i.prototype.isMatch=function(j){if(this.distances.minValue===this.distances.fromValue&&this.distances.maxValue===this.distances.toValue){return true}return j.distanceToCenter>=this.distances.fromValue&&j.distanceToCenter<=this.distances.toValue};i.prototype.getValues=function(){return this.distances};i.prototype.getODataFilter=function(){var k=this.distances.fromValue||this.distances.minValue;var j=this.distances.toValue||this.distances.maxValue;return new b.Domain.OData.ODataRangeFilter(k,j,this.getKey(),this.getKey(),this.distances.minValue,this.distances.maxValue)};i.Key="DistanceToCenter";return i})();h.DistanceToCenterFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.FacilitiesFilter";this.facilities=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.FacilitiesFilter.Key};i.prototype.isMatch=function(k){if(this.facilities.length>0){for(var j=0;j<this.facilities.length;j++){if(this.getFacility(this.facilities[j],k)!==true){return false}}}return true};i.prototype.getFacility=function(k,m){var j=m.facilities;for(var l=0;l<j.length;l++){if(j[l].Key===k){return j[l].Value}}return undefined};i.prototype.getValues=function(){return this.facilities};i.prototype.isSet=function(){return this.facilities.length!==0};i.prototype.getODataFilter=function(){return new b.Domain.OData.CustomODataFilter("containingAllTags",this.facilities)};i.Key="FacilitiesFilter";return i})();h.FacilitiesFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(h){var g=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.FacilityGroupsFilter";this.facilities=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.FacilityGroupsFilter.Key};i.prototype.isMatch=function(k){if(this.facilities.length>0){for(var j=0;j<this.facilities.length;j++){if(this.getFacility(this.facilities[j],k)!==true){return false}}}return true};i.prototype.getFacility=function(k,m){var j=m.facilities;for(var l=0;l<j.length;l++){if(j[l].Key===k){return j[l].Value}}return undefined};i.prototype.getValues=function(){return this.facilities};i.prototype.isSet=function(){return this.facilities.length!==0};i.prototype.getODataFilter=function(){return new b.Domain.OData.CustomODataFilter("containingAllTags",this.facilities)};i.Key="FacilityGroupsFilter";return i})();h.FacilityGroupsFilter=g})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.InspirationsChildTravelAreaFilter";this.travelAreas=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.InspirationsChildTravelAreaFilter.Key};i.prototype.isMatch=function(k){var l=false;if(this.travelAreas.length==0){return true}if(this.travelAreas.length>0){for(var j=0;j<this.travelAreas.length;j++){if(this.travelAreas[j]=="C"){l=true;break}if(k.travelareaId==this.travelAreas[j]||k.parenttravelareaId==this.travelAreas[j]){l=true;break}else{l=false}}}return l};i.prototype.getValues=function(){return null};i.prototype.getODataFilter=function(){return null};i.Key="InspirationsChildTravelAreaFilter";return i})();g.InspirationsChildTravelAreaFilter=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.InspirationsHolidayTypeFilter";this.holidayTypes=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.InspirationsHolidayTypeFilter.Key};i.prototype.isMatch=function(k){var l=false;if(this.holidayTypes.length==0){return true}if(this.holidayTypes.length>0){for(var j=0;j<this.holidayTypes.length;j++){if(this.holidayTypes[j]=="I"){l=true;break}if(k.holidaytypeId==this.holidayTypes[j]){l=true;break}else{l=false}}}return l};i.prototype.getValues=function(){return null};i.prototype.getODataFilter=function(){return null};i.Key="InspirationsHolidayTypeFilter";return i})();g.InspirationsHolidayTypeFilter=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.InspirationsTravelAreaFilter";this.travelAreas=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.InspirationsTravelAreaFilter.Key};i.prototype.isMatch=function(k){var l=false;if(this.travelAreas.length==0){return true}if(this.travelAreas.length>0){for(var j=0;j<this.travelAreas.length;j++){if(this.travelAreas[j]=="R"){l=true;break}if(k.travelareaId==this.travelAreas[j]||k.parenttravelareaId==this.travelAreas[j]){l=true;break}else{l=false}}}return l};i.prototype.getValues=function(){return null};i.prototype.getODataFilter=function(){return null};i.Key="InspirationsTravelAreaFilter";return i})();g.InspirationsTravelAreaFilter=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.PriceFilter";this.prices=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.PriceFilter.Key};i.prototype.isMatch=function(j){if(this.prices.minValue===this.prices.fromValue&&this.prices.maxValue===this.prices.toValue){return true}return j.price>=this.prices.fromValue&&j.price<=this.prices.toValue};i.prototype.getValues=function(){return this.prices};i.prototype.getODataFilter=function(){var k=this.prices.fromValue||this.prices.minValue;var j=this.prices.toValue||this.prices.maxValue;return new b.Domain.OData.ODataRangeFilter(k,j,this.getKey(),this.getKey(),this.prices.minValue,this.prices.maxValue)};i.Key="Price";return i})();g.PriceFilter=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAll";this.segmentations=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAll.Key};i.prototype.isMatch=function(k){for(var j=0;j<this.segmentations.length;j++){if(this.getSegmentation(this.segmentations[j],k)!=true){return false}}return true};i.prototype.getSegmentation=function(l,k){var m=k.segmentations;for(var j=0;j<m.length;j++){if(m[j]===l){return true}}return undefined};i.prototype.getValues=function(){return this.segmentations};i.prototype.isSet=function(){return this.segmentations.length!==0};i.prototype.getODataFilter=function(){return new b.Domain.OData.CustomODataFilter(this.getKey(),this.segmentations)};i.Key="containingAllSegmentations";return i})();g.SegmentationsFilterAll=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAny";this.segmentations=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAny.Key};i.prototype.isMatch=function(k){for(var j=0;j<this.segmentations.length;j++){if(this.getSegmentation(this.segmentations[j],k)!=true){return false}}return true};i.prototype.getSegmentation=function(l,k){var m=k.segmentations;for(var j=0;j<m.length;j++){if(m[j]===l){return true}}return undefined};i.prototype.getValues=function(){return this.segmentations};i.prototype.isSet=function(){return this.segmentations.length!==0};i.prototype.getODataFilter=function(){return new b.Domain.OData.CustomODataFilter(this.getKey(),this.segmentations)};i.Key="containingAnySegmentations";return i})();g.SegmentationsFilterAny=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){var h=(function(){function i(j){this.__fullyQualifiedTypeName="ts_Kuoni.Infrastructure.OnlineCatalogue.Filters.TravelAreasFilter";this.travelAreas=j}i.prototype.getKey=function(){return b.Infrastructure.OnlineCatalogue.Filters.TravelAreasFilter.Key};i.prototype.isMatch=function(k){if(this.travelAreas.length==0){return true}if(this.travelAreas.length>0){var j=_.filter(this.travelAreas,function(l){return k.ancestorString.indexOf(l)>-1});return _.any(j)}return false};i.prototype.getValues=function(){return this.travelAreas};i.prototype.getODataFilter=function(){return new b.Domain.OData.ODataFilter(this.getKey(),"")};i.Key="TravelAreasFilter";return i})();g.TravelAreasFilter=h})(f.Filters||(f.Filters={}));var e=f.Filters})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(f,g){this.name=f;this.value=g}e.prototype.toString=function(){return[this.name,"=",encodeURIComponent(this.value)].join("")};return e})();c.QueryParameter=d})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(f){this.location=f}e.prototype.getParameterByName=function(f){f=f.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var g=new RegExp("[\\?&]"+f+"=([^&#]*)"),h=g.exec(this.location.search);return h==null?"":decodeURIComponent(h[1].replace(/\+/g," "))};return e})();c.UriParameterParser=d})(b.Infrastructure||(b.Infrastructure={}));var a=b.Infrastructure})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(g){this.currentImageIndex=0;this.imageCount=0;this.view=g;this.imageCount=g.imageCount();this.view.onNextImage.attach(this.nextImage,this);this.view.onPreviousImage.attach(this.previousImage,this);this.view.showImage(this.currentImageIndex);var f=this;setInterval(function(){f.nextImage(4000)},10000)}e.prototype.nextImage=function(f){if(f===undefined){f=2000}this.currentImageIndex=++this.currentImageIndex%this.imageCount;this.view.fadeImage(this.currentImageIndex,f)};e.prototype.previousImage=function(f){this.currentImageIndex=(this.imageCount+ --this.currentImageIndex)%this.imageCount;this.view.fadeImage(this.currentImageIndex,f)};return e})();d.BackgroundSlideshowController=c})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(h){this.listView=h;this.listView.onClickEvent.attach(this.onClick,this)}g.prototype.onClick=function(k){var h=$(this.listView.getHiddenFieldId()).val();var l=$("#"+k).attr("data-val");if(h.indexOf(l)>0){h=h.replace("~"+l,"")}else{if(h.indexOf("~")<0){h=h.replace(l,"")}else{h=h.replace(l+"~","")}}if(k.indexOf("BBP")>0){var j=(h.match(/BBP/g)||[]).length;$("#"+k).parents("div.basket").find(".item-sum").find("span").text(j)}else{if(k.indexOf("BBE")>0){var i=(h.match(/BBE/g)||[]).length;$("#"+k).parents("div.basket").find(".item-sum").find("span").text(i)}}$("#"+k).closest("div.order-item").remove();$(this.listView.getHiddenFieldId()).val(h);$(this.listView.getHiddenFieldIdForBack()).val(h)};return g})();e.BrochureOrderFormController=f})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(i,h){this.listView=i;this.listItemService=h;this.loadingItems=$.Deferred();this.SessionloadingItem=$.Deferred();this.numberOfItemsVisible=0;this.numberOfItemsToLoad=9;this.listView.onCheckEvent.attach(this.onCheckBoxClick,this);this.listView.onViewOnlineEvent.attach(this.onViewOnlineClick,this);this.initializeEvents();this.initializeProgressiveLoading()}g.prototype.onViewOnlineClick=function(l,m,j,k){var i=this.listModel.getItemCodeByIds(j);var h=i+"_"+m+"_"+k;$(this.listView.getHiddenFieldId("BVO")).val(h);this.listView._viewContext.parent("#brochure_list").find("#BrochureId").val(j);this.listView._viewContext.parent("#brochure_list").find("#btnPageSuiteClick").trigger("click")};g.prototype.onCheckBoxClick=function(l,n,j,k){var i=this.listModel.getItemCodeByIds(j);var h=$(this.listView.getHiddenFieldId(n)).val();if($(l).prop("checked")==true){var o=i+"_"+n+"_"+k;if(h.indexOf(o)<0){h=h==""?i+"_"+n+"_"+k:h+"~"+i+"_"+n+"_"+k;$(this.listView.getHiddenFieldId(n)).val(h)}}else{var m=i+"_"+n+"_"+k;if(h.indexOf(m)>0){h=h.replace("~"+m,"")}else{if(h.indexOf("~")<0){h=h.replace(m,"")}else{h=h.replace(m+"~","")}}$(l).parents().find("div[id^='item_"+j+"']").removeAttr("data-type")}this.listView.disableEnablePostEmail(h);$(this.listView.getHiddenFieldId(n)).val(h)};g.prototype.showLoader=function(){this.listView.showLoader()};g.prototype.resetView=function(){this.listView.reset()};g.prototype.initializeEvents=function(){this.onNoItemsToShow=new b.Infrastructure.Event()};g.prototype.loadAndShowList=function(h){this.listModel=h;this.listView.emptyList();this.listView.createPlaceHoldersFor(this.listModel.getAllItemIds());this.backButtonMaintainHistory();this.filterAndUpdateView(h.aggregatedFilter)};g.prototype.backButtonMaintainHistory=function(){var h=this;var j=$(this.listView.getHiddenFieldId("BBP")).val();if(j!=null&&j.length>0){if(j.indexOf("~")>0){var i=j.split("~");_.each(i,function(s){var o=s.split("_");var p=h.listModel.getItemidsByCode(o[0]);var q=o[1];var r=h.listView.getdivIdbyType(p);$(r).attr("data-type",q)})}else{var k=j.split("_");var l=this.listModel.getItemidsByCode(k[0]);var m=k[1];var n=this.listView.getdivIdbyType(l);$(n).attr("data-type",m)}}};g.prototype.reloadItems=function(){this.numberOfItemsVisible=0;this.hideAllItems();this.loadMoreItems();this.listView.disableEnablePostEmail($(this.listView.getHiddenFieldId("BBP")).val())};g.prototype.hideAllItems=function(){this.listView.hideAllListItems()};g.prototype.initializeProgressiveLoading=function(){var h=this;$(window).scroll(function(){if($(window).scrollTop()+1200>$(document).height()-$(window).height()&&h.loadingItems.state()==="resolved"){h.loadMoreItems();h.listView.disableEnablePostEmail($(h.listView.getHiddenFieldId("BBP")).val())}})};g.prototype.loadMoreItems=function(){var h=this;this.loadingItems=$.Deferred();this.listItemService.abortOngoingRequests();var l=this.listModel.getVisibleItemIds();if(l.length===0){this.onNoItemsToShow.notify();return}var j=l.slice(this.numberOfItemsVisible,this.numberOfItemsVisible+this.numberOfItemsToLoad);var i=[];_.each(j,function(m){if(h.listView.listItemExists(m)){h.listView.showListItem(m)}else{i.push(m)}});if(i.length>0){this.listView.showLoader()}var k=this.listItemService.getItems(i,function(m){h.listView.addListItem(m,i)},function(){console.log("ajax call to load accommodation list item was aborted")});k.done(function(){h.numberOfItemsVisible+=j.length;h.loadingItems.resolve();_.each(j,function(m){h.listView.getCheckBoxId(m,"BBP")})}).always(function(){h.listView.hideLoader();h.listView.disableEnablePostEmail($(h.listView.getHiddenFieldId("BBP")).val())})};g.prototype.getNumberOfMatchingItems=function(h,k,l,j,i){setTimeout(this.executeNumberOfMatchingItemsAsyncToAvoidPerformanceWarnings.bind(this,h,k,l,j,i),1)};g.prototype.executeNumberOfMatchingItemsAsyncToAvoidPerformanceWarnings=function(h,k,l,j,i){i(k,this.listModel.getNumberOfMatchingItems(h),l,j)};g.prototype.filterAndUpdateView=function(h){this.listModel.applyFilterOnAllItems(h);var i=this.listModel.getVisibleItemIds();this.listView.updateVisibleItems(i);this.reloadItems()};return g})();e.ProgressiveLoadingListController=f})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Controllers").ExpandableContainerController=(function(){var a=function(c){this._expandableContainerView=c};var b=a.prototype;b.initializeExpandableContainerView=function(){this._expandableContainerView.initializeExpandableContainer()};return a})();var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(i,g,h){var f=this;this.view=i;this.model=h;this.chunkLoader=g;this.chunkLoader.beforeLoad.attach(this.view.showLoader,this.view);this.chunkLoader.lastChunkLoaded.attach(this.view.hideLoader,this.view);this.chunkLoader.onError.attach(function(){f.view.showErrorMessage()},this.chunkLoader);this.chunkLoader.chunkLoaded.attach(function(j){f.view.loadHotelListItems(j)},this.chunkLoader);this.chunkLoader.initializeWithoutPreloading();this.view.onSortingChanged.attach(this.sortingChanged,this);this.view.initializeSorting()}e.prototype.filterUpdated=function(f){this.chunkLoader.setFilterBy(f.getFilterBy());this.view.removeAllItems();this.chunkLoader.loadNewChunk();this.model.setAggregatedFilter(f)};e.prototype.getSortingOrder=function(f){if(f==="des"){return true}return false};e.prototype.sortingChanged=function(g,h){this.view.removeAllItems();var f=new b.Domain.OData.OrderBy(g,this.getSortingOrder(h));this.chunkLoader.setOrderBy(f);this.chunkLoader.loadNewChunk()};return e})();c.HotelSearchListController=d})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(h,g,f){this.view=h;this.totalCountService=g;this.showSpinningWheelWhenLoading=f}e.prototype.filterUpdated=function(g){var f=this;this.view.hideCount();if(this.showSpinningWheelWhenLoading){this.view.showLoader()}this.totalCountService.loadHotelTotalCount(g.getFilterBy()).done(function(h){f.view.showCount(h);if(f.showSpinningWheelWhenLoading){f.view.hideLoader()}})};return e})();c.HotelSearchTotalCountController=d})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h,k,j,i){this.dropDownedFilterModel=h;this.filterView=k;this.filterStrategy=j;if(typeof i!=="undefined"&&typeof i.facilities!=="undefined"){this.selectedFilters=i.facilities}else{this.selectedFilters=[]}this.dropDownedFilterModel.onUpdated.attach(this.triggerLookAheadUpdate.bind(this));this.isFirstLookAhead=true;k.initializeFilter(i);k.onSelectionChanged.attach(this.viewFilterChanged,this);this.initializeEvents()}g.prototype.resetFilters=function(j,i,h){this.filterView.resetFilter(j,i,h)};g.prototype.initializeEvents=function(){this.onFilterChanged=new b.Infrastructure.Event();this.onUpdateLookAhead=new b.Infrastructure.Event()};g.prototype.viewFilterChanged=function(i){this.selectedFilters=i;var h=new this.filterStrategy(i);this.dropDownedFilterModel.setFilter(h);this.onFilterChanged.notify(this.dropDownedFilterModel)};g.prototype.triggerLookAheadUpdate=function(){this.filterView.clearLookahead();if(this.dropDownedFilterModel.isEnabled()===false){return}var h=this.filterView.getAllFilterOptions();for(var l=0;l<h.length;l++){var k=h[l];var m=[];m.push(k);var n=new this.filterStrategy(m);var j=this.dropDownedFilterModel.clone();j.setFilter(n);this.onUpdateLookAhead.notify(j,k,this.isFirstLookAhead,n.getKey(),this.lookAheadUpdated.bind(this))}this.isFirstLookAhead=false};g.prototype.lookAheadUpdated=function(i,k,j,h){this.filterView.setLookAheadResultFor(i,k,j)};return g})();f.DropDownFilterController=e})(c.Inspirations||(c.Inspirations={}));var d=c.Inspirations})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(i,h){this.listView=i;this.loadingItems=$.Deferred();this.numberOfItemsVisible=0;this.numberOfItemsToLoad=9;this.listItemService=h;this.initializeEvents();this.initializeProgressiveLoading();this.listView.onClickOfExpertTrips.attach(this.ButtonExpertTripsClick,this);this.listView.onClickOfViewAll.attach(this.ButtonViewAllClick,this);this.listView.onClickOfEditorPicks.attach(this.ButtonEditorPicksClick,this)}g.prototype.showLoader=function(){this.listView.showLoader()};g.prototype.resetView=function(){this.listView.reset()};g.prototype.initializeEvents=function(){this.onNoItemsToShow=new b.Infrastructure.Event()};g.prototype.ButtonExpertTripsClick=function(){this.listView.showLoader();this.listModel.clickButtonName="ET";var h=new b.Coordinators.Inspirations.FilterCoordinator($);if(h.getFilterOptionsLengthAndResetFilter(this.listModel.aggregatedFilter)>0){}else{var i=this.listModel.getExpertTripsItemsIds();if(i.length>0){this.listView.enableORdisableButtons("E","ET");h.enableORdisableDropDown("E");this.NewreloadItems(i,"ET")}else{this.listView.enableORdisableButtons("D","ET");h.enableORdisableDropDown("D");this.listView.hideLoader()}}};g.prototype.ButtonEditorPicksClick=function(){this.listView.showLoader();this.listModel.clickButtonName="EP";var h=new b.Coordinators.Inspirations.FilterCoordinator($);if(h.getFilterOptionsLengthAndResetFilter(this.listModel.aggregatedFilter)>0){}else{var i=this.listModel.getEditorPicksItemsIds();if(i.length>0){this.listView.enableORdisableButtons("E","EP");h.enableORdisableDropDown("E");this.NewreloadItems(i,"EP")}else{this.listView.enableORdisableButtons("D","EP");h.enableORdisableDropDown("D");this.listView.hideLoader()}}};g.prototype.ButtonViewAllClick=function(){this.listView.showLoader();this.listModel.clickButtonName="VA";var h=new b.Coordinators.Inspirations.FilterCoordinator($);if(h.getFilterOptionsLengthAndResetFilter(this.listModel.aggregatedFilter)>0){}else{var i=this.listModel.getAllItemIds();if(i.length>0){this.listView.enableORdisableButtons("E","VA");h.enableORdisableDropDown("E");this.NewreloadItems(i,"")}else{this.listView.enableORdisableButtons("D","VA");h.enableORdisableDropDown("D");this.listView.hideLoader()}}};g.prototype.loadAndShowList=function(h,i){this.listView.showLoader();this.listModel=h;if(i=="P"){this.listModel.clickButtonName="PT"}else{this.listModel.clickButtonName="EP"}this.filterAndUpdateView(h.aggregatedFilter)};g.prototype.NewreloadItems=function(i,h){this.listView.showLoader();this.numberOfItemsVisible=0;this.listView.emptyList();if(h=="ET"){this.listView.createPlaceHoldersFor(i);this.loadItems("ET")}else{if(h=="EP"){this.listView.createPlaceHoldersFor(i);this.loadItems("EP")}else{if(h=="VA"){this.listView.createPlaceHoldersFor(i);this.loadItems("VA")}else{this.listView.createPlaceHoldersFor(i);this.loadMoreItems(i)}}}};g.prototype.hideAllItems=function(){this.listView.hideAllListItems()};g.prototype.initializeProgressiveLoading=function(){var h=this;var i;$(window).scroll(function(){if($(window).scrollTop()+1200>$(document).height()-$(window).height()&&h.loadingItems.state()==="resolved"){if(h.listModel.clickButtonName=="ET"){h.loadItems("ET")}else{if(h.listModel.clickButtonName=="EP"){h.loadItems("EP")}else{if(h.listModel.clickButtonName=="VA"){h.loadItems("VA")}else{i=h.listModel.getVisibleItemIds();h.loadMoreItems(i)}}}}})};g.prototype.loadMoreItems=function(k){var h=this;this.loadingItems=$.Deferred();this.listItemService.abortOngoingRequests();if(k.length>0){var m=k}else{var m=this.listModel.getAllItemIds()}if(m.length===0){this.onNoItemsToShow.notify();return}var j=m.slice(this.numberOfItemsVisible,this.numberOfItemsVisible+this.numberOfItemsToLoad);var i=[];_.each(j,function(n){if(h.listView.listItemExists(n)){h.listView.showListItem(n)}else{i.push(n)}});if(i.length>0){this.listView.showLoader()}var l=this.listItemService.getItems(i,function(n){h.listView.addListItem(n)},function(){console.log("ajax call to load inspiration list item was aborted")});l.done(function(){h.numberOfItemsVisible+=j.length;h.loadingItems.resolve()}).always(function(){h.listView.hideLoader()})};g.prototype.loadItems=function(l){var h=this;this.loadingItems=$.Deferred();this.listItemService.abortOngoingRequests();if(l=="ET"){var m=this.listModel.getExpertTripsItemsIds()}else{if(l=="EP"){var m=this.listModel.getEditorPicksItemsIds()}else{if(l=="VA"){var m=this.listModel.getAllItemIds()}}}if(m.length===0){this.onNoItemsToShow.notify();return}var j=m.slice(this.numberOfItemsVisible,this.numberOfItemsVisible+this.numberOfItemsToLoad);var i=[];_.each(j,function(n){if(h.listView.listItemExists(n)){h.listView.showListItem(n)}else{i.push(n)}});if(i.length>0){this.listView.showLoader()}var k=this.listItemService.getItems(i,function(n){h.listView.addListItem(n)},function(){console.log("ajax call to load inspiration list item was aborted")});k.done(function(){h.numberOfItemsVisible+=j.length;h.loadingItems.resolve()}).always(function(){h.listView.hideLoader()})};g.prototype.getNumberOfMatchingItems=function(h,k,l,j,i){setTimeout(this.executeNumberOfMatchingItemsAsyncToAvoidPerformanceWarnings.bind(this,h,k,l,j,i),1)};g.prototype.executeNumberOfMatchingItemsAsyncToAvoidPerformanceWarnings=function(h,k,l,j,i){i(k,this.listModel.getNumberOfMatchingItems(h),l,j)};g.prototype.filterAndUpdateView=function(h){if(this.listModel.getCountofFilters(h)>0){this.listModel.clickButtonName=""}var i=new b.Coordinators.Inspirations.FilterCoordinator($);if(this.listModel.clickButtonName=="ET"){var j=this.listModel.getExpertTripsItemsIds();if(j.length>0){this.listView.enableORdisableButtons("E","ET");i.enableORdisableDropDown("E");this.NewreloadItems(j,"ET")}else{this.listView.enableORdisableButtons("D","ET");i.enableORdisableDropDown("D");this.listView.hideLoader()}}else{if(this.listModel.clickButtonName=="EP"){var j=this.listModel.getEditorPicksItemsIds();if(j.length>0){this.listView.enableORdisableButtons("E","EP");i.enableORdisableDropDown("E");this.NewreloadItems(j,"EP");i.hideShowFilterSections("S")}else{this.listView.enableORdisableButtons("D","EP");i.enableORdisableDropDown("D");this.listView.hideLoader();i.hideShowFilterSections("H")}}else{if(this.listModel.clickButtonName=="VA"){var j=this.listModel.getAllItemIds();if(j.length>0){this.listView.enableORdisableButtons("E","VA");i.enableORdisableDropDown("E");this.NewreloadItems(j,"VA")}else{this.listView.enableORdisableButtons("D","VA");i.enableORdisableDropDown("D");this.listView.hideLoader()}}else{if(this.listModel.clickButtonName=="PT"){var j=this.listModel.getAllItemIds();if(j.length>0){this.listView.enableORdisableButtons("E","");i.enableORdisableDropDown("E");this.NewreloadItems(j,"")}else{this.listView.enableORdisableButtons("D","");i.enableORdisableDropDown("D");this.listView.hideLoader()}}else{this.listModel.applyFilterOnAllItems(h);var j=this.listModel.getVisibleItemIds();if(j.length>0){this.listView.enableORdisableButtons("E","");i.enableORdisableDropDown("E");this.NewreloadItems(j,"");i.hideShowFilterSections("S")}else{this.listView.enableORdisableButtons("D","");i.enableORdisableDropDown("D");this.listView.hideLoader();i.hideShowFilterSections("H")}}}}}};return g})();e.ProgressiveLoadingListController=f})(c.Inspirations||(c.Inspirations={}));var d=c.Inspirations})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Controllers.OnlineCatalogue").AssetsController=(function(){var a=function(e,d,c){this._imageLightboxView=e;this._searchInputView=e;this._iframeLightboxView=d;this._ajaxLightboxView=c};var b=a.prototype;b.initializeLightboxes=function(){this._searchInputView.initializeLightboxes();this._iframeLightboxView.initializeLightboxes();this._ajaxLightboxView.initializeLightboxes(function(c){if(c==="Map"){}})};return a})();var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(i,h){this.listView=i;this.listItemService=h;this.loadingItems=$.Deferred();this.numberOfItemsVisible=0;this.numberOfItemsToLoad=9;this.initializeEvents()}g.prototype.showLoader=function(){this.listView.showLoader()};g.prototype.resetView=function(){this.listView.reset()};g.prototype.initializeEvents=function(){this.onNoItemsToShow=new b.Infrastructure.Event()};g.prototype.loadAndShowListByCarousel=function(h){this.listModel=h;this.numberOfItemsToLoad=this.listModel.getAllItemIds().length;this.listView.emptyList();this.listModel.applySortingOnAllItems("linkHeader.text;priority","asc");this.listView.createPlaceHoldersFor(this.listModel.getAllItemIds());this.loadMoreItems()};g.prototype.loadMoreItems=function(){var h=this;this.loadingItems=$.Deferred();this.listItemService.abortOngoingRequests();var l=this.listModel.getVisibleItemIds();if(l.length===0){this.onNoItemsToShow.notify();return}var j=l.slice(this.numberOfItemsVisible,this.numberOfItemsVisible+this.numberOfItemsToLoad);var i=[];_.each(j,function(m){if(h.listView.listItemExists(m)){h.listView.showListItem(m)}else{i.push(m)}});if(i.length>0){this.listView.showLoader()}var k=this.listItemService.getItems(i,function(m){h.listView.addListItem(m)},function(){console.log("ajax call to load accommodation list item was aborted")},this.listView._listProductType);k.done(function(){h.numberOfItemsVisible+=j.length;h.loadingItems.resolve()}).always(function(){h.listView.hideLoader()})};return g})();f.CarouselListController=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h,k,j,i){this.aggregatedFilterModel=h;this.filterView=k;this.filterStrategy=j;if(typeof i!=="undefined"&&typeof i.facilities!=="undefined"){this.selectedFilters=i.facilities}else{this.selectedFilters=[]}this.aggregatedFilterModel.onUpdated.attach(this.triggerLookAheadUpdate.bind(this));this.isFirstLookAhead=true;k.initializeFilter(i);k.onSelectionChanged.attach(this.viewFilterChanged,this);this.initializeEvents()}g.prototype.initializeEvents=function(){this.onFilterChanged=new b.Infrastructure.Event();this.onUpdateLookAhead=new b.Infrastructure.Event()};g.prototype.viewFilterChanged=function(i){this.selectedFilters=i;var h=new this.filterStrategy(i);this.aggregatedFilterModel.setFilter(h);this.onFilterChanged.notify(this.aggregatedFilterModel)};g.prototype.cloneFilter=function(k){if(k instanceof Array){var h=[];for(var j=0;j<k.length;++j){h[j]=this.cloneFilter(k[j])}return h}return k};g.prototype.triggerLookAheadUpdate=function(){this.filterView.clearLookahead();if(this.aggregatedFilterModel.isEnabled()===false){return}var h=this.filterView.getAllFilterOptions();for(var l=0;l<h.length;l++){var k=h[l];var m=[];if(this.isAndFilter()){m=this.cloneFilter(this.selectedFilters)}m.push(k);var n=new this.filterStrategy(m);var j=this.aggregatedFilterModel.clone();j.setFilter(n);this.onUpdateLookAhead.notify(j,k,this.isFirstLookAhead,n.getKey(),this.lookAheadUpdated.bind(this))}this.isFirstLookAhead=false};g.prototype.isAndFilter=function(){return this.filterStrategy.Key===b.Infrastructure.OnlineCatalogue.Filters.SegmentationsFilterAll.Key||this.filterStrategy.Key===b.Infrastructure.OnlineCatalogue.Filters.FacilitiesFilter.Key};g.prototype.lookAheadUpdated=function(i,k,j,h){this.filterView.setLookAheadResultFor(i,k);if(h===b.Infrastructure.OnlineCatalogue.Filters.TravelAreasFilter.Key){if(j&&k===0){this.filterView.RemoveCheckbox(i)}}};return g})();f.CheckboxRadioButtonFilterController=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(l,k,j){var h=this;this.view=l;this.service=k;this.model=j;this.view.onCountryChanged.attach(this.onCountryChanged,this);this.view.onAreaChanged.attach(this.onAreaChanged,this);this.view.showCountryFilter();this.view.disableAreasSelectList();var i=this.model.getState().countryIds;if(i!==null){this.view.setSelectedCountries(i);this.service.getAreasForCountries(this.model.getState().countryIds,function(m){h.areasAreLoaded(m)})}this.onFilterChanged=new b.Infrastructure.Event()}g.prototype.onCountryChanged=function(h){this.model.setCountryIds(h);this.service.getAreasForCountries(this.model.getState().countryIds,this.areasAreLoaded.bind(this));this.countryOrAreaChanged()};g.prototype.onAreaChanged=function(h){this.model.setAreaIds(h);this.countryOrAreaChanged()};g.prototype.countryOrAreaChanged=function(){var i=this.model.getState();var h=this.model.getAggregatedFilterModel();h.setFilter(new b.Infrastructure.OnlineCatalogue.Filters.CountriesAndTravelAreasFilter(i.countryIds,i.areaIds));this.onFilterChanged.notify(h)};g.prototype.areasAreLoaded=function(j){if(this.model.isCountrySet()){this.view.enableAreasSelectList()}else{this.view.disableAreasSelectList()}var i=this.model.getState().areaIds;this.view.showAreaFilter(j);this.view.setSelectedAreas(i);var h=(this.view.getSelectedAreas());this.model.setAreaIds(h);if(this.areaListsAreTheSame(i,h)==false){this.countryOrAreaChanged()}};g.prototype.areaListsAreTheSame=function(i,h){return i.join(",")==h.join(",")};return g})();f.CountriesAndTravelAreasFilterController=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(g){__extends(h,g);function h(i,l,k,j){g.call(this,i,l,k,j)}h.prototype.triggerLookAheadUpdate=function(){var i=this;this.filterView.clearLookahead();if(this.aggregatedFilterModel.isEnabled()===false){return}var j=this.filterView.getAllFacilityGroups();_.each(j,function(m){var k=m.allOptions;for(var o=0;o<k.length;o++){var n=k[o];var p=g.prototype.cloneFilter.call(i,i.selectedFilters);if(m.isOrFilter){p=_.difference(p,k)}p.push(n);var q=new i.filterStrategy(p);var l=i.aggregatedFilterModel.clone();l.setFilter(q);i.onUpdateLookAhead.notify(l,n,false,q.getKey(),g.prototype.lookAheadUpdated.bind(i))}})};return h})(f.CheckboxRadioButtonFilterController);f.FacilityGroupsFilterController=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var namespace=Kuoni.Namespace.create("Kuoni.Controllers.OnlineCatalogue");(function(){this.ListController=function(b){this._listView=b;b.onSortingChanged.attach(this.sort,this);b.initListItems()};var a=this.ListController.prototype;a.setModel=function(b){this._listModel=b;this._listView.updateSortingHeader(this._listModel.getAllItems());this._listView.triggerSorting()};a.sort=function(c,d){this._listModel.applySortingOnAllItems(c,d);var b=this._listModel.getAllItems();this._listView.updateSortingForGroup(this._getCatalogueItemIdList(b,true))};a._getCatalogueItemIdList=function(e,d){var b=[];for(var c=0;c<e.length;c++){if(e[c].visible||d){b.push(e[c].Id)}}return b}}).apply(namespace);var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(i,h){this.listView=i;this.listItemService=h;this.listView.onSortingChanged.attach(this.sort,this);this.loadingItems=$.Deferred();this.numberOfItemsVisible=0;this.numberOfItemsToLoad=10;this.initializeEvents();this.initializeProgressiveLoading()}g.prototype.showLoader=function(){this.listView.showLoader()};g.prototype.resetView=function(){this.listView.reset()};g.prototype.initializeEvents=function(){this.onNoItemsToShow=new b.Infrastructure.Event()};g.prototype.loadAndShowList=function(h){this.listModel=h;this.listModel.applySortingOnAllItems(this.listView.getSortOption(),this.listView.getSortAscending());this.listView.emptyList();this.listView.createPlaceHoldersFor(this.listModel.getAllItemIds());this.filterAndUpdateView(h.aggregatedFilter)};g.prototype.reloadItems=function(){this.numberOfItemsVisible=0;this.hideAllItems();this.loadMoreItems()};g.prototype.hideAllItems=function(){this.listView.hideAllListItems()};g.prototype.initializeProgressiveLoading=function(){var h=this;$(window).scroll(function(){if($(window).scrollTop()+1200>$(document).height()-$(window).height()&&h.loadingItems.state()==="resolved"){h.loadMoreItems()}})};g.prototype.loadMoreItems=function(){var h=this;this.loadingItems=$.Deferred();this.listItemService.abortOngoingRequests();var l=this.listModel.getVisibleItemIds();if(l.length===0){this.onNoItemsToShow.notify();return}var j=l.slice(this.numberOfItemsVisible,this.numberOfItemsVisible+this.numberOfItemsToLoad);var i=[];_.each(j,function(m){if(h.listView.listItemExists(m)){h.listView.showListItem(m)}else{i.push(m)}});if(i.length>0){this.listView.showLoader()}var k=this.listItemService.getItems(i,function(m){h.listView.addListItem(m)},function(){console.log("ajax call to load accommodation list item was aborted")});k.done(function(){h.numberOfItemsVisible+=j.length;h.loadingItems.resolve()}).always(function(){h.listView.hideLoader()})};g.prototype.sort=function(i,j){this.listModel.applySortingOnAllItems(i,j);var h=this.listModel.getAllItemIds();this.listView.updateSortingForGroup(h);this.reloadItems()};g.prototype.getNumberOfMatchingItems=function(h,k,l,j,i){setTimeout(this.executeNumberOfMatchingItemsAsyncToAvoidPerformanceWarnings.bind(this,h,k,l,j,i),1)};g.prototype.executeNumberOfMatchingItemsAsyncToAvoidPerformanceWarnings=function(h,k,l,j,i){i(k,this.listModel.getNumberOfMatchingItems(h),l,j)};g.prototype.filterAndUpdateView=function(h){this.listModel.applyFilterOnAllItems(h);var i=this.listModel.getVisibleItemIds();this.listView.updateVisibleItems(i);this.listView.updateSortingHeader(i);this.reloadItems()};return g})();e.ProgressiveLoadingListController=f})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h,k,j,i){this.aggregatedFilterModel=h;this.filterView=k;this.filterStrategy=j;this.selectedFilters=[];k.initializeFilter(i);k.onSelectionChanged.attach(this.viewFilterChanged,this);this.initializeEvents()}g.prototype.initializeEvents=function(){this.onFilterChanged=new b.Infrastructure.Event()};g.prototype.viewFilterChanged=function(i){this.selectedFilters=i;var h=new this.filterStrategy(i);this.aggregatedFilterModel.setFilter(h);this.onFilterChanged.notify(this.aggregatedFilterModel)};return g})();e.SliderFilterController=f})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(f){this.view=f;this.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];f.onDateSelectionChanged.attach(this.onDateSelectionChanged,this);f.initDateWrapper()}e.prototype.onDateSelectionChanged=function(f){var g=this.days[f.getDay()];var h=f.getDate();var i=this.months[f.getMonth()]+" "+f.getFullYear();this.view.setDateWrapper(g,h,i)};return e})();c.P2BookingBoxController=d})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(k,m,l,j,i){var h=this;this.model=k;this.view=m;this.uriParameterParser=l;this.campaignInformationService=i;this.view.updateTableHeaders();j.setQueryParameter("url",this.view.getSelectedDataSourceUrl());this.chunkLoader=j;this.chunkLoader.beforeLoad.attach(this.view.showLoader,this.view);this.chunkLoader.lastChunkLoaded.attach(this.view.hideLoader,this.view);this.chunkLoader.onError.attach(function(){h.view.hideTable();h.view.showErrorMessage()},this.chunkLoader);this.chunkLoader.chunkLoaded.attach(function(n){h.tableMarkupIsLoaded(n);h.view.showTable();h.view.hideErrorMessage()},this.chunkLoader);this.view.onDataSourceSelectionChanged.attach(this.changeDataSource,this);this.view.onFilterChanged.attach(this.applyFilters,this);this.view.onSortingChanged.attach(this.sortingChanged,this);this.chunkLoader.initializeWithFirstChunkPreloaded();this.view.initializeDataSourceDropdown();this.view.initializeSorting();this.view.alwaysShowScrollbar();this.loadCampaignInformation(this.addSelectedCountriesToCampaignInformation.bind(this),this.reloadIfNeeded.bind(this))}g.prototype.addSelectedCountriesToCampaignInformation=function(h){var i=false;var j=this.uriParameterParser.getParameterByName("countries").split("-");_.forEach(h.countries,function(k){if(_.contains(j,k.label)){k.selected=true;i=true}});return i};g.prototype.reloadIfNeeded=function(h){if(h){this.applyFilters()}};g.prototype.initializeDurationFilter=function(h){if(h.length>1){this.view.showDurationFilter(h)}else{this.view.hideDurationFilter()}};g.prototype.initializeDepartureAirportFilter=function(h){if(h.length>1){this.view.showDepartureAirportsFilter(h)}else{this.view.hideDepartureAirportsFilter()}};g.prototype.initializeTypeOfTravelFilter=function(h){if(h.length>1){this.view.showTypeOfTravelFilter(h)}else{this.view.hideTypeOfTravelFilter()}};g.prototype.initializeDepartureDateFilter=function(h){if(h.length>1){this.view.showDepartureDateFilter(h)}else{this.view.hideDepartureDateFilter()}};g.prototype.initializeCountryFilter=function(h){if(h.length>1){this.view.showCountryFilter(h)}else{this.view.hideCountryFilter()}};g.prototype.changeDataSource=function(h){this.chunkLoader.setQueryParameter("url",h);this.chunkLoader.setFilterBy(new b.Domain.OData.FilterBy());this.view.removeAllRows();this.view.hideErrorMessage();this.chunkLoader.loadNewChunk();this.loadCampaignInformation()};g.prototype.loadCampaignInformation=function(j,i){var h=this;this.campaignInformationService.getCampaignInformation(this.chunkLoader.getQueryString()).done(function(k){var l;if(_.isEmpty(k)){h.view.hideTable();h.view.showErrorMessage()}else{if(_.isFunction(j)){l=j(k)}h.view.showTable();h.view.initializePriceInputWithLimits(k.minPrice,k.maxPrice);h.initializeDurationFilter(k.durations);h.initializeDepartureAirportFilter(k.departureAirports);h.initializeTypeOfTravelFilter(k.typesOfTravel);h.initializeDepartureDateFilter(k.departurePeriods);h.initializeCountryFilter(k.countries);if(_.isFunction(i)){i(l)}}})};g.prototype.applyFilters=function(){var m=this.view.getFilterPriceRange();var k=this.view.getFilterDuration();var i=this.view.getFilterDepartureAirport();var n=this.view.getFilterTypeOfTravel();var j=this.view.getFilterDepartureDate();var h=this.view.getFilterCountry();var l=new b.Domain.OData.FilterBy();l.add(new b.Domain.OData.PriceODataFilter(m.fromPrice,m.toPrice));l.add(new b.Domain.OData.ODataFilter("duration",k));l.add(new b.Domain.OData.ODataOrFilter("typeOfTravel",n));l.add(new b.Domain.OData.ODataFilter("departureAirports",i));l.add(new b.Domain.OData.ODataFilter("departureDate",j));l.add(new b.Domain.OData.ODataOrFilter("countryFilter",h));this.chunkLoader.setFilterBy(l);this.view.removeAllRows();this.chunkLoader.loadNewChunk()};g.prototype.emptyTable=function(){this.view.removeAllRows()};g.prototype.createOrderByObject=function(h){var i=this.chunkLoader.getOrderBy();if(h===i.orderField){i.orderDesc=!i.orderDesc}else{i.orderDesc=false}i.orderField=h;return i};g.prototype.sortingChanged=function(h){this.chunkLoader.setOrderBy(this.createOrderByObject(h));this.view.highlightSortingHeader(this.chunkLoader.getOrderBy());this.view.removeAllRows();this.chunkLoader.loadNewChunk()};g.prototype.tableMarkupIsLoaded=function(h){this.view.addTableBodyMarkup(h);this.view.updateTableHeaders();Kuoni.Popover.Init()};return g})();f.CampaignPartController=e})(c.Parts||(c.Parts={}));var d=c.Parts})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(h){this.view=h;h.onSectionHeaderClicked.attach(this.sectionSelected,this)}g.prototype.sectionSelected=function(h){this.view.hideAllSections();if(this.openSection!==h){this.view.showSection(h);this.openSection=h}else{this.openSection=undefined}};return g})();e.TabContainerPartController=f})(c.Parts||(c.Parts={}));var d=c.Parts})(b.Controllers||(b.Controllers={}));var a=b.Controllers})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Controllers").SearchAsYouTypeController=(function(){var b=Kuoni.Definitions.SearchAsYouTypeItemTypes;var a=function(g,f,c,e){this._typeFilter=g;this._searchInputView=f;this._redirectView=c;this._searchAsYouTypeService=e;f.onSearchInputChanged.attach(this._searchInputChanged,this);f.onAutoCompleteItemSelected.attach(this._autoCompleteItemSelected,this)};var d=a.prototype;d.initializeAutoComplete=function(){this._searchInputView.initializeAutoComplete()};d._searchInputChanged=function(e,c){this._searchAsYouTypeService.getSearchResults(this._typeFilter,e,c)};d._autoCompleteItemSelected=function(c){if(c.ItemType==b.link||c.ItemType==b.seeMoreLink){this._redirectView.redirectTo(c.Href)}};return a})();var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(h){this.listItems=h.listItems;this.setAllItemsVisible()}g.prototype.getAllItems=function(){return this.listItems};g.prototype.getAllItemIds=function(){return _.map(this.listItems,function(h){return h.Id})};g.prototype.getItemCodeByIds=function(i){var h;this.forEachItem(function(j){if(j.Id==i){h=j.code}});return h};g.prototype.getItemidsByCode=function(i){var h;this.forEachItem(function(j){if(j.code==i){h=j.Id}});return h};g.prototype.getVisibleItemIds=function(){var h=_.filter(this.listItems,function(i){return i.visible});return _.map(h,function(i){return i.Id})};g.prototype.setAllItemsVisible=function(){this.forEachItem(function(h){h.visible=true})};g.prototype.forEachItem=function(h){var i=this.getAllItems();for(var k=0;k<i.length;k++){h(i[k])}};g.prototype.getProperty=function(m,k){var h=k.split(".");var l=m;for(var j=0;j<h.length;j++){l=l[h[j]]}return l};g.prototype.getNumberOfMatchingItems=function(h){var i=0;this.forEachItem(function(j){if(h.isMatch(j)){i++}});return i};g.prototype.applyFilterOnAllItems=function(h){this.forEachItem(function(i){i.visible=h.isMatch(i)})};return g})();e.ListModel=f})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(f){var e=(function(){function g(){this.__fullyQualifiedTypeName="ts_Kuoni.Models.Inspirations.DropDownFilterModel";this.filters=new b.Infrastructure.Dictionary();this.enabled=true;this.initializeEvents()}g.prototype.enable=function(){this.enabled=true;this.onUpdated.notify()};g.prototype.disable=function(){this.enabled=false;this.onUpdated.notify()};g.prototype.isEnabled=function(){return this.enabled};g.prototype.initializeEvents=function(){this.onUpdated=new b.Infrastructure.Event()};g.prototype.getFilter=function(h){return this.filters[h]};g.prototype.setFilter=function(h){this.filters[h.getKey()]=h;this.onUpdated.notify()};g.prototype.setFilters=function(h){_.each(h.getAllValues(),function(i){this.filters[i.getKey()]=i}.bind(this))};g.prototype.getFilterBy=function(){var h=new b.Domain.OData.FilterBy();_.each(this.filters.getAllValues(),function(i){h.add(i.getODataFilter())});return h};g.prototype.isMatch=function(i){var h=_.any(this.filters.getAllValues(),function(j){return j.isMatch(i)===false});return h===false};g.prototype.clone=function(){var h=new b.Models.Inspirations.DropDownFilterModel();h.setFilters(this.filters);return h};return g})();f.DropDownFilterModel=e})(d.Inspirations||(d.Inspirations={}));var c=d.Inspirations})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(h){this.listItems=h.listItems;this.setAllItemsVisible()}g.prototype.getAllItems=function(){return this.listItems};g.prototype.getAllItemIds=function(){return _.map(this.listItems,function(h){return h.Id})};g.prototype.getVisibleItemIds=function(){var h=_.filter(this.listItems,function(i){return i.visible});return _.map(h,function(i){return i.Id})};g.prototype.getExpertTripsItemsIds=function(){var h=this;var i=_.filter(this.listItems,function(j){return h.getProperty(j,"isexperttrips")==true});return _.map(i,function(j){return j.Id})};g.prototype.getEditorPicksItemsIds=function(){var h=this;var i=_.filter(this.listItems,function(j){return h.getProperty(j,"iseditorspicks")==true});return _.map(i,function(j){return j.Id})};g.prototype.setAllItemsVisible=function(){this.forEachItem(function(h){h.visible=true})};g.prototype.forEachItem=function(h){var i=this.getAllItems();for(var k=0;k<i.length;k++){h(i[k])}};g.prototype.getProperty=function(m,k){var h=k.split(".");var l=m;for(var j=0;j<h.length;j++){l=l[h[j]]}return l};g.prototype.getNumberOfMatchingItems=function(h){var i=0;this.forEachItem(function(j){if(h.isMatch(j)){i++}});return i};g.prototype.applyFilterOnAllItems=function(h){this.forEachItem(function(i){i.visible=h.isMatch(i)})};g.prototype.getCountofFilters=function(i){var l=0;var h=i.getFilter(b.Infrastructure.OnlineCatalogue.Filters.InspirationsHolidayTypeFilter.Key);var j=i.getFilter(b.Infrastructure.OnlineCatalogue.Filters.InspirationsTravelAreaFilter.Key);var k=i.getFilter(b.Infrastructure.OnlineCatalogue.Filters.InspirationsChildTravelAreaFilter.Key);if(h!=null){l=_.without(h.holidayTypes,"I").length}if(j!=null){l=l>0?l+_.without(j.travelAreas,"R").length:_.without(j.travelAreas,"R").length}if(k!=null){l=l>0?l+_.without(k.travelAreas,"C").length:_.without(k.travelAreas,"C").length}return l};return g})();e.ListModel=f})(d.Inspirations||(d.Inspirations={}));var c=d.Inspirations})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h){this.state=h;this.initializeEvents()}g.prototype.initializeEvents=function(){this.onUpdated=new b.Infrastructure.Event()};g.prototype.getState=function(){return this.state};g.prototype.isCountrySet=function(){return this.state.countryIds.length>0};g.prototype.setCountryIds=function(h){this.state.countryIds=h;this.onUpdated.notify(this.state)};g.prototype.setAreaIds=function(h){this.state.areaIds=h;this.onUpdated.notify(this.state)};g.prototype.getAggregatedFilterModel=function(){return this.state.aggregatedFilter};g.prototype.setAggregatedFilter=function(h){this.state.aggregatedFilter=h;this.onUpdated.notify(this.state)};return g})();f.AccommodationSearchModel=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(h){this.listItems=h.listItems;this.setAllItemsVisible()}g.prototype.getAllItems=function(){return this.listItems};g.prototype.getAllItemIds=function(){return _.map(this.listItems,function(h){return h.Id})};g.prototype.getVisibleItemIds=function(){var h=_.filter(this.listItems,function(i){return i.visible});return _.map(h,function(i){return i.Id})};g.prototype.setAllItemsVisible=function(){this.forEachItem(function(h){h.visible=true})};g.prototype.forEachItem=function(h){var i=this.getAllItems();for(var k=0;k<i.length;k++){h(i[k])}};g.prototype.applySortingOnAllItems=function(m,o){var h=this;var i=this.getAllItems();var n=m.split(";");for(var k=0;k<n.length;k++){var l=n[k];i.sort(function(j,p){return h.compareUsingProperty(j,p,o,l)})}};g.prototype.compareUsingProperty=function(i,l,p,o){var m=this.getProperty(i,o);var n=this.getProperty(l,o);var k=-1;var j=1;var h=0;if(m===null&&n!==null){h=j}else{if(m!==null&&n===null){h=k}else{if(typeof m=="string"){if(String(m).localeCompare(String(n))==-1){h=k}else{h=j}}else{if(m<n){h=k}else{if(m>n){h=j}}}if(p===false){return h*-1}}}return h};g.prototype.getProperty=function(m,k){var h=k.split(".");var l=m;for(var j=0;j<h.length;j++){l=l[h[j]]}return l};g.prototype.getNumberOfMatchingItems=function(h){var i=0;this.forEachItem(function(j){if(h.isMatch(j)){i++}});return i};g.prototype.applyFilterOnAllItems=function(h){this.forEachItem(function(i){i.visible=h.isMatch(i)})};return g})();f.ListModel=e})(c.OnlineCatalogue||(c.OnlineCatalogue={}));var d=c.OnlineCatalogue})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(){}return g})();f.CampaignPartModel=e})(c.Parts||(c.Parts={}));var d=c.Parts})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){g[g.TravelArea=0]="TravelArea";g[g.Product=1]="Product";g[g.Inspiration=2]="Inspiration";g[g.Other=3]="Other"})(f.SearchResultCategoryType||(f.SearchResultCategoryType={}));var e=f.SearchResultCategoryType})(c.SiteSearch||(c.SiteSearch={}));var d=c.SiteSearch})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){var e=(function(){function g(){this.__fullyQualifiedTypeName="ts_Kuoni.Models.State.AccommodationSearchState";this.countryIds=[];this.areaIds=[];this.aggregatedFilter=null;this.aggregatedFilter=new b.Infrastructure.OnlineCatalogue.Filters.AggregatedFilterModel()}return g})();f.AccommodationSearchState=e})(c.State||(c.State={}));var d=c.State})(b.Models||(b.Models={}));var a=b.Models})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(h){this._viewContext=h;this._queries={hiddenfield:"#BrochureCodes",hiddenfieldBack:"#BackBrochureCodes",byRemove:'[id^="remove_"]'};this.initializeEvents();this.setupListeners();this.bindCartCounter()}g.prototype.getHiddenFieldId=function(){return this._queries.hiddenfield};g.prototype.getHiddenFieldIdForBack=function(){return this._queries.hiddenfieldBack};g.prototype.initializeEvents=function(){this.onClickEvent=new a.Infrastructure.Event()};g.prototype.setupListeners=function(){var h=this;this._viewContext.find(this._queries.byRemove).click(function(i){h.onClickEvent.notify($(i.target).attr("id"))})};g.prototype.bindCartCounter=function(){var h=$(this.getHiddenFieldId()).val();var j=(h.match(/BBP/g)||[]).length;this._viewContext.find("#postbasket").find(".item-sum").find("span").text(j);var i=(h.match(/BBE/g)||[]).length;this._viewContext.find("#emailbasket").find(".item-sum").find("span").text(i)};return g})();e.BrochureOrderFormView=f})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(i){var h=this;this._viewContext=i;this._queries={numberOfItems:".number_of_items",list:"div.list",group:"#brochure_groups",groupClass:".brochure_group",listItems:".list_item",listItemPlaceholder:function(j){return"#"+h._ids.listItem(j)+"."+h._classes.placeholder},listItemLoaded:function(j){return"#"+h._ids.listItem(j)+h._queries.listItems},bypost:"#bro-post-",byemail:"#bro-email-",hiddenfield:"#BrochureCodes",spanbyemail:"#spanbyemail",spanbypost:"#spanbypost",btnreviewandsubmit:"#btnreviewandsubmit",byanchor:"#anchor_",btnPageSuiteClick:"#btnPageSuiteClick",hiddenfieldVO:"#BrochureCode",brochurelistcart:"#brochurelistcart"};this._ids={listItem:function(j){return"item_"+j}};this._classes={placeholder:"is_placeholder"};this.initializeEvents()}g.prototype.getHiddenFieldId=function(h){if(h=="BBE"||h=="BBP"){return this._queries.hiddenfield}else{if(h=="BVO"){return this._queries.hiddenfieldVO}}};g.prototype.getdivIdbyType=function(h){return this._viewContext.find("#item_"+h)};g.prototype.getCheckBoxId=function(h,l){var k=this._viewContext.find("#item_"+h);var j=$(k).attr("data-type");if(j==l&&j=="BBP"){var i=this._viewContext.find(this._queries.bypost+h);$(i).attr("disabled",false);$(i).parent("li").children().removeAttr("style");$(i).trigger("click");return 1}else{if(j==l&&j=="BBE"){var i=this._viewContext.find(this._queries.byemail+h);$(i).attr("disabled",false);$(i).parent("li").children().removeAttr("style");$(i).trigger("click");return 1}else{return 0}}};g.prototype.getItemCountTypeWise=function(h){return this._viewContext.find("[data-type^='"+h+"']").length};g.prototype.disableEnablePostEmail=function(h){var j=(h.match(/BBP/g)||[]).length;var i=(h.match(/BBE/g)||[]).length;var k=j+i;this.setLastSectionData(j,i);if(k>=6){this.disableEnableCheckBox('[id^="bro-post-"]',true);this.disableEnableCheckBox('[id^="bro-email-"]',true)}else{this.disableEnableCheckBox('[id^="bro-email-"]',false);if(j>=2){this.disableEnableCheckBox('[id^="bro-post-"]',true)}else{this.disableEnableCheckBox('[id^="bro-post-"]',false)}}};g.prototype.disableEnableCheckBox=function(i,h){$(i).each(function(){if($(this).is(":checked")){}else{if(h==true){$(this).attr("disabled",true);$(this).parent("li").children().attr("style","pointer-events:none;opacity:0.4;")}else{$(this).attr("disabled",false);$(this).parent("li").children().removeAttr("style")}}})};g.prototype.setLastSectionData=function(i,h){if(i==0&&h==0){this._viewContext.parent("#brochure_list").find(this._queries.btnreviewandsubmit).attr("disabled",true);this._viewContext.parent("#brochure_list").find(this._queries.btnreviewandsubmit).attr("style","pointer-events:none;opacity:0.4;");this._viewContext.parent("#brochure_list").find(this._queries.brochurelistcart).slideUp("slow")}else{this._viewContext.parent("#brochure_list").find(this._queries.btnreviewandsubmit).attr("disabled",false);this._viewContext.parent("#brochure_list").find(this._queries.btnreviewandsubmit).removeAttr("style");this._viewContext.parent("#brochure_list").find(this._queries.brochurelistcart).slideDown("slow")}this._viewContext.parent("#brochure_list").find(this._queries.spanbypost).text(i);this._viewContext.parent("#brochure_list").find(this._queries.spanbyemail).text(h)};g.prototype.initializeEvents=function(){this.onCheckEvent=new a.Infrastructure.Event();this.onViewOnlineEvent=new a.Infrastructure.Event()};g.prototype.setupListeners=function(i){var h=this;var j=this._viewContext.find("#"+this._ids.listItem(i)).find("h2").text();this._viewContext.find(this._queries.bypost+i).click(function(){h.onCheckEvent.notify(h._queries.bypost+i,"BBP",i,j)});this._viewContext.find(this._queries.byemail+i).click(function(){h.onCheckEvent.notify(h._queries.byemail+i,"BBE",i,j)});this._viewContext.find(this._queries.byanchor+i).click(function(){h.onViewOnlineEvent.notify(h._queries.byanchor+i,"BVO",i,j)})};g.prototype.hideLoader=function(){$(this._queries.groupClass,this._viewContext).hideLoader()};g.prototype.showLoader=function(){$(this._queries.groupClass,this._viewContext).showLoader();this._viewContext.find(".loader").css("position","relative")};g.prototype.reset=function(){$(this._queries.listItems,this._viewContext).hide()};g.prototype.addListItem=function(m,l){var h=$(m);h.hide();var j=this._idOfListItem(h[0]);var k=l.indexOf((parseInt(j)));var i=$(this._queries.listItemPlaceholder(j)).attr("data-type");$(this._queries.listItemPlaceholder(j),this._viewContext).replaceWith(h);$("#"+this._ids.listItem(j)).attr("data-type",i);if(k==1){$("#"+this._ids.listItem(j)).find("figure").addClass("delay-05s")}else{if(k==2){$("#"+this._ids.listItem(j)).find("figure").addClass("delay-1s")}}$("#"+this._ids.listItem(j)).fadeIn();$("#"+this._ids.listItem(j)).find("figure").bind("inview",function(n,o,p,q){if(o){if(q=="top"){}else{if(q=="bottom"){}else{$(this).addClass("animated flipInY")}}}else{}});this.setupListeners(j)};g.prototype.createPlaceHoldersFor=function(i){var h=$(this._queries.list,this._viewContext);_.each(i,function(j){h.remove(this._ids.listItem(j));$("<div>",{id:this._ids.listItem(j),"class":this._classes.placeholder}).appendTo(h)},this)};g.prototype.emptyList=function(){$(this._queries.list,this._viewContext).empty()};g.prototype._idOfListItem=function(h){return h.id.substring(5)};g.prototype._indexOfElement=function(i,h){return h.indexOf(i)};g.prototype._existsInArray=function(i,h){return this._indexOfElement(i,h)!==-1};g.prototype.updateVisibleItems=function(h){if(h.length===0){$(this._viewContext).hide()}if(h.length===1){$(this._viewContext).show()}else{$(this._viewContext).show();$(this._queries.numberOfItems,this._viewContext).text(h.length.toString())}var i=$(this._queries.listItems,this._viewContext);var j=this;i.each(function(){if(j._existsInArray(j._idOfListItem(this),h)){$(this).show()}else{$(this).hide()}})};g.prototype.listItemExists=function(h){return $(this._queries.listItemLoaded(h)).length>0};g.prototype.showListItem=function(h){$("#"+this._ids.listItem(h)).fadeIn()};g.prototype.hideAllListItems=function(){$(this._queries.listItems).hide()};return g})();e.ListView=f})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(f){var e=(function(){function g(h){this.viewContext=h;this.queries=new a.Infrastructure.Dictionary();this.queries.nextButton=".is_next";this.queries.previousButton=".is_previous";this.queries.imageContainer=".is_background_image_wrapper";this.queries.imageUrl="image_src";this.isInTransition=false;this.initializeEvents();this.setupListeners();this.loadImages()}g.prototype.loadImages=function(){var h=this;this.viewContext.find(this.queries.imageContainer).each(function(){var j=$(this);var i=j.data(h.queries.imageUrl);j.prepend($("<img>").attr("src",i));j.find("img").attr("width","100%")})};g.prototype.showImage=function(i){var h=this.viewContext.find(this.queries.imageContainer);h.removeClass("current");$(h[i]).addClass("current")};g.prototype.fadeImage=function(l,j){if(this.isInTransition===false){this.isInTransition=true;var k=this.viewContext.find(this.queries.imageContainer);var m=$(k[l]);var i=k.filter(".current");k.hide();var h=this;i.removeClass("current").show().stop(true,true).fadeOut(j);m.addClass("current").hide().stop(true,true).fadeIn(j,function(){h.transitionFinished()})}};g.prototype.transitionFinished=function(){this.isInTransition=false};g.prototype.imageCount=function(){return this.viewContext.find(this.queries.imageContainer).length};g.prototype.initializeEvents=function(){this.onNextImage=new a.Infrastructure.Event();this.onPreviousImage=new a.Infrastructure.Event()};g.prototype.setupListeners=function(){var h=this;this.viewContext.filter(this.queries.nextButton).click(function(){h.onNextImage.notify()});this.viewContext.filter(this.queries.previousButton).click(function(){h.onPreviousImage.notify()})};return g})();f.BackgroundSlideshowView=e})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(h){this.viewContext=h;this.queries={tabs:".is_tab_list>li",tabContents:".is_tab_content"};this.classes={buttonNormal:"button-medium-sky_blue_tab",buttonPressed:"button-medium-sky_blue_active_tab"}}g.prototype.initialize=function(){var h=this;$(this.queries.tabs,this.viewContext).each(function(j,i){$(i).addClass(h.classes.buttonNormal).click(function(k){h.resetTabs();$(k.target).removeClass(h.classes.buttonNormal);$(k.target).addClass(h.classes.buttonPressed);$(h.queries.tabContents,h.viewContext).hide();$($(h.queries.tabContents,h.viewContext)[j]).show()})});$(this.queries.tabs,this.viewContext).first().click()};g.prototype.resetTabs=function(){$(this.queries.tabs,this.viewContext).removeClass(this.classes.buttonPressed).addClass(this.classes.buttonNormal)};return g})();e.ContainerTabAddedBySuperUserOnManualPages=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var namespace=Kuoni.Namespace.create("Kuoni.Views.Components");(function(){this.ExpandableContainerView=function(b){this._viewContext=b;this._classes={wrapper:"expandable_wrapper",show:"showLink is_showLink",hide:"hideLink is_hideLink"};this._queries={show:".is_showLink",hide:".is_hideLink",expandable:".is_expandable"};this._elements={link:"<a>"}};var a=this.ExpandableContainerView.prototype;a.initializeEvents=function(){this.onLinkClicked=new ts_Kuoni.Infrastructure.Event()};a.initializeExpandableContainer=function(){this._viewContext.addClass(this._classes.wrapper);var c=this._viewContext.find(this._queries.expandable);this._collapsedHeight=c.data("collapsed_height");this._maxHeight=c.data("max_height");if(!this._collapsedHeight){this._collapsedHeight=0}if(!this._maxHeight){this._maxHeight=this._collapsedHeight}var b=c.data("collapse_text");var d=c.data("expand_text");if(this._maxHeight>c.outerHeight()){$(".body_facts_region").find(".gradient_text").hide()}if(c.outerHeight()>this._maxHeight){c.css({height:""+this._collapsedHeight+"px",overflow:"hidden"});var f=$(this._elements.link).addClass(this._classes.show).text(d).click(this._onShowMoreClick.bind(this)).append($("<span>",{"class":"icon"}).append($("<span>")));var e=$(this._elements.link).addClass(this._classes.hide).text(b).click(this._onHideMoreClick.bind(this)).hide().append($("<span>",{"class":"icon"}).append($("<span>")));c.after(f);c.after(e)}};a._onShowMoreClick=function(){var b=this._viewContext.find(this._queries.expandable);var c=$(".body_facts_region").find(".gradient_text");if(c){c.css("display","none")}b.css("height","auto");var d=b.height();b.css("height",""+this._collapsedHeight+"px");b.animate({height:""+d+"px"});this._viewContext.find(this._queries.expandable).slideDown();this._viewContext.find(this._queries.show).hide();this._viewContext.find(this._queries.hide).css("display","inline")};a._onHideMoreClick=function(){var b=$(".body_facts_region").find(".gradient_text");if(b){b.css("display","block")}this._viewContext.find(this._queries.expandable).animate({height:""+this._collapsedHeight+"px"});this._viewContext.find(this._queries.show).css("display","inline");this._viewContext.find(this._queries.hide).hide()}}).apply(namespace);var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(i,h){this.viewContext=i;this.listdata=h;this.queries=new a.Infrastructure.Dictionary();this.queries.imageUrl="image_src";this.loadImages()}g.prototype.loadImages=function(){var i=this.listdata;var j={fade:2000,duration:15000};var h=$.map(i,function(l){return l.img});var k=this.viewContext.backstretch(h,j);($(window)).on("backstretch.show",function(m,n){var l=i[n.index].caption;var o=i[n.index].link;$("#backstretch-caption").html('<a class="hero-caption hidden-phone" href='+o+"><span>"+l+"</span></a>").show().addClass("animated fadeInUp")});($(window)).on("backstretch.before",function(l,m){$("#backstretch-caption").hide()})};return g})();e.HeroImageSlideShowView=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(l,h,j,k,i){this.viewContext=l;this.jQuery=h;this.service=j;this.settingsService=k;this.listItemView=i;this.queries={classificationFilter:"#classifications_filter",hotelResultList:"#hotel_result_list",hotelResultListSortingDropdown:".list-sorter",loaderLocation:".loader_location"};this.classes={sortAsc:"headerSortDown",sortDesc:"headerSortUp"};this.initializeEvents()}g.prototype.initializeEvents=function(){this.onDataSourceSelectionChanged=new a.Infrastructure.Event();this.onFilterChanged=new a.Infrastructure.Event();this.onSortingChanged=new a.Infrastructure.Event()};g.prototype.clientIsNotTouchDevice=function(){return window.Modernizr.touch===false};g.prototype.showLoader=function(){this.jQuery(this.queries.loaderLocation,this.viewContext).showLoader()};g.prototype.hideLoader=function(){this.jQuery(this.queries.loaderLocation,this.viewContext).hideLoader()};g.prototype.showErrorMessage=function(){};g.prototype.removeAllItems=function(){this.jQuery(this.queries.hotelResultList,this.viewContext).empty()};g.prototype.initializeMultiselectWidgetInSingleMode=function(h){h.multiselect({multiple:false,height:"auto",minWidth:"auto",header:false,selectedList:1,classes:"dropdown_style1"});h.siblings("button").removeAttr("style")};g.prototype.initializeFilterChangedEventListener=function(i){var h=this;i.off("change");i.change(function(){h.onFilterChanged.notify()})};g.prototype.loadHotelListItems=function(j){var i=this;var h=$($.parseHTML(j));var k=this.jQuery(this.queries.hotelResultList,this.viewContext);k.append(h);h.filter(".list_item").each(function(l,m){i.listItemView.initListItem($(m))})};g.prototype.initializeSorting=function(){var h=this;this.jQuery(this.queries.hotelResultListSortingDropdown,this.viewContext).change(function(i){h.onSortingChanged.notify(h.jQuery(i.currentTarget).find("option:selected").val(),h.jQuery(i.currentTarget).find("option:selected").data("sort_order"))})};g.prototype.initalizeFaciltityGroups=function(){this.jQuery(".facility_groups .facilities_filter").each(function(){if($(this).find("input:checked").length>0){$(this).prev(".smallheading").addClass("open")}});this.jQuery(".facility_container").collapse()};return g})();e.HotelSearchListView=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(i,h){this.viewContext=i;this.jQuery=h;this.queries={hotelCount:".hotel_count",loaderLocation:".loader_location",hotelCountText:".hotel_count_text"}}g.prototype.showCount=function(h){var i=this.jQuery(this.queries.hotelCount,this.viewContext);i.html(h);this.jQuery(this.queries.hotelCountText,this.viewContext).show()};g.prototype.hideCount=function(){this.jQuery(this.queries.hotelCountText,this.viewContext).hide()};g.prototype.showLoader=function(){this.jQuery(this.queries.loaderLocation,this.viewContext).showLoader()};g.prototype.hideLoader=function(){this.jQuery(this.queries.loaderLocation,this.viewContext).hideLoader()};return g})();e.HotelSearchTotalCountView=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){(function(h){function g(k,j){var i="";var q=k.data("selected-text-resource");var p=["# ",q].join("");var o=function(r,s){r.find("option").each(function(){var t=$(this);if(t.val()===s){t.prop("disabled",true);t.prop("selected",true)}else{t.prop("selected",false)}})};var m=function(r,s){return r.find("option").filter(function(){var t=$(this);return t.val()===s})};var l=function(r,t){var s=m(r,t);s.prop("disabled",false);s.prop("selected",false)};var n=function(r){return r.find("option").filter(function(s){return $(this).prop("selected")})};return k.each(function(){var r=jQuery(this);if(r.attr("multiple")!=="multiple"){console.error("Select needs to enable multiple selection")}if(n(r).length===0){o(r,i)}var s=function(t,u){if(u.checked){if(u.value===i){o(r,i)}else{l(r,i);m(r,u.value).prop("selected",true);m(r,u.value).attr("selected",true)}}else{l(r,u.value)}if(n(r).length===0){o(r,i)}r.multiselect("refresh")};r.multiselect({header:false,selectedList:2,height:"auto",minWidth:"auto",selectedText:p,click:s,classes:j});r.multiselect("refresh");r.bind("multiselectoptgrouptoggle",function(u,v){var t=jQuery(this);if(n(t).length===0){o(t,i)}else{l(t,i)}t.multiselect("refresh")})})}h.Init=g})(e.KuoniMultiSelectWidget||(e.KuoniMultiSelectWidget={}));var f=e.KuoniMultiSelectWidget})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(){this.index=0;this.jsonService=new a.Services.JsonService()}g.prototype.initWith=function(i){var h=this;$(i).find(".list_image_slideshow").each(function(l,k){var j=$(k);j.find(".next").click(function(){h.changeImage(j,1)});j.find(".prev").click(function(){h.changeImage(j,-1)});j.find(".fancybox").click(function(){$.fancybox.overlay.open();$.fancybox.showLoading();h.getImageArray(j,800,500,function(n){var m=n[l];$.fancybox.overlay.close();$.fancybox(n,{index:h.index,helpers:{title:{type:"inside"}}})});return false})})};g.prototype.changeImage=function(h,j){var i=this;h.find("img").addClass("old").parent().showLoader();var m=220;var k=110;var l=h.closest(".is_villa").length>0;if(l){m=800;k=500}this.getImageArray(h,m,k,function(o){var n=o[i.index];i.index=(o.length+(i.index+j))%o.length;i.showImage(h,o[i.index])})};g.prototype.showImage=function(i,k){var h=i.find("img").parent();var j=$("<img />").appendTo(h).on("load",function(l){i.find("img").remove(".old");i.find(h).hideLoader();$(l.target).show()}).hide().attr("src",k.href).attr("alt",k.imgAlt);i.find(".image_nr").text(this.index+1)};g.prototype.getImageArray=function(h,l,j,i){var k=h.closest(".list_item")[0].id;if(h.closest(".is_travelarea").length>0){this.jsonService.getJson("/ListItem/TravelAreaImages/"+k+"/"+l+"/"+j+"/",i)}else{this.jsonService.getJson("/ListItem/ProductImages/"+k+"/"+l+"/"+j+"/",i)}};return g})();e.ListItemSlideShow=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(){}g.prototype.initListItem=function(h){new a.Views.Components.ListItemSlideShow().initWith(h);Kuoni.OnlineCatalogue.Rating.TripAdvisor.InitWith(h);Kuoni.Popover.InitWith(h);if(typeof ReevooMark!="undefined"){ReevooMark.init_badges()}$(h).find(".list_item_video").each(function(l,j){var i=$(j);var k=new Kuoni.Views.OnlineCatalogue.IframeLightboxView(i);k.initializeLightboxes()})};return g})();e.ListItemView=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var namespace=Kuoni.Namespace.create("Kuoni.Views.Components");(function(){this.PriceFormatter=function(){this._currency="???";this._groupSeparator=" "};var a=this.PriceFormatter.prototype;a.init=function(b){this._currency=b.currency;this._groupSeparator=b.groupSeparator};a.format=function(b){return this._toCurrency(b)};a._toCurrency=function(c){var d=c.toString();for(var b=0;b<Math.floor((d.length-(1+b))/3);b++){d=d.substring(0,d.length-(4*b+3))+this._groupSeparator+d.substring(d.length-(4*b+3))}return d+" "+this._currency}}).apply(namespace);(function(){this.DistanceFormatter=function(){this._unit="m";this._groupSeparator=" "};var a=this.DistanceFormatter.prototype;a.format=function(b){return b+" "+this._unit};a.init=function(b){if(typeof b.unit!=="undefined"){this._unit=b.unit;this._groupSeparator=b.groupSeparator}}}).apply(namespace);(function(){this.RangeSlider=function(e,d,c,b){this._viewContext=e;this._formatter=c;this._queries={rangeSliderLabel:".range_slider_label",filterRangeSlider:"."+b+"_filter_range_slider",slider:".ui-slider",filterType:"[name="+b+"]",moreText:".more_text"};this._initRangeSlider(d)};var a=this.RangeSlider.prototype;a.isUsed=function(){return this.getWrappingElement().length>0};a.getWrappingElement=function(){return $(this._queries.filterRangeSlider,this._viewContext)};a.getSlider=function(){return $(this._queries.slider,this._viewContext)};a._updateLabel=function(b,e,d,c){$(this._queries.filterType,this._viewContext).val(b+","+e);$(this._queries.rangeSliderLabel,this._viewContext).text(this._formatter.format(b)+" - "+this._formatter.format(e));if($(this._queries.moreText,this._viewContext).length===0){return}if(e===c){$(this._queries.moreText,this._viewContext).show()}else{$(this._queries.moreText,this._viewContext).hide()}};a._initRangeSlider=function(b){var c=this.getWrappingElement();if(c.length===0){return}var g=b.minValue;var f=b.maxValue;var d=b.stepValue;var h=[b.fromValue||b.minValue,b.toValue||b.maxValue];this._formatter.init(b);var e=0;c.slider({range:true,min:g,max:f,step:d,values:h,slide:function(i,j){this._updateLabel(j.values[0],j.values[1],g,f);window.clearTimeout(e);e=window.setTimeout(function(){$(this).trigger("change")}.bind(i.target),50)}.bind(this)});this._updateLabel(c.slider("values",0),c.slider("values",1),g,f);c.find(".ui-slider-handle:last-child").addClass("last_child")}}).apply(namespace);Kuoni.Namespace.create("Kuoni.Views.Components").RedirectView=(function(){var a=function(c){this._window=c};var b=a.prototype;b.redirectTo=function(c){this._window.location.href=c};return a})();Kuoni.Namespace.create("Kuoni.Views.Components").SearchInputView=(function(){var a=function(c){this._viewContext=c;this.initializeEvents()};var b=a.prototype;b.clearValHandle=void 0;b.wasSubmitBtnClick=false;b.initializeEvents=function(){this.onSearchInputChanged=new ts_Kuoni.Infrastructure.Event();this.onAutoCompleteItemSelected=new ts_Kuoni.Infrastructure.Event()};b.stopClearValueTimeout=function(){var c=this;if(c.clearValHandle){window.clearTimeout(c.clearValHandle);c.clearValHandle=void 0}};b.initializeAutoComplete=function(){var h=this;var g=h._viewContext.parents(".is-search-form").first();var c=g.find("input[type='submit']");h._viewContext.on("keydown",function(){h.stopClearValueTimeout()});$("body").on("click",function(k){var l=event.target||event.srcElement||event.originalTarget;var j=$(l);h.wasSubmitBtnClick=j[0]==c[0]});var f={source:function(j,k){h.onSearchInputChanged.notify(j.term,k)},open:function(){$(this).autocomplete("widget").css("z-index",501);$(this).data("uiAutocomplete").menu.element.addClass("search_as_you_type_menu");return false},delay:200,minLength:3,maxLength:12,focus:function(j,k){j.preventDefault()},select:function(j,k){j.preventDefault();h.onAutoCompleteItemSelected.notify(k.item)}};var d=h._viewContext.autocomplete(f);var i=d.data("uiAutocomplete");var e=h._viewContext.val();if(typeof(e)==="string"&&e!==null&&e!==""&&e!=="Search the Kuoni website for..."){h._viewContext.addClass("x")}else{h._viewContext.removeClass("x")}if(h._viewContext.hasClass("clearable")){g.on("input",".clearable",function(){var j=$(this);var k=j.val();if(typeof(k)==="string"&&k!==null&&k!==""&&k!=="Search the Kuoni website for..."){j.addClass("x")}else{j.removeClass("x")}}).on("mousemove",".x",function(l){var n=$(this);var r=this.offsetWidth;var o=r-30;var j=this.getBoundingClientRect().left;var k=l.clientX;var p=k-j;if(typeof(l.screenX)==="number"&&l.screenX!==null&&l.screenX!==""){var s=l.screenX;if(s-k<50){var q=n.offset().left;p=l.screenX-q;o=o-5}}var m=o<p;if(m){n.addClass("onX")}else{n.removeClass("onX")}}).on("touchstart click",".x",function(l){var k=l.clientX;var s=l.screenX;if(typeof(l.originalEvent.touches)==="object"&&typeof(l.originalEvent.touches.length)==="number"&&l.originalEvent.touches.length>0){k=l.originalEvent.touches[0].clientX;s=l.originalEvent.touches[0].screenX}var n=$(this);var r=this.offsetWidth;var o=r-30;var j=this.getBoundingClientRect().left;var p=k-j;if(typeof(s)==="number"&&s!==null&&s!==""){if(s-k<50){var q=n.offset().left;p=s-q;o=o-5}}var m=o<p;if(m){l.preventDefault();n.removeClass("x onX").val("").change();i._close()}}).on("touchstart click",".onX",function(j){j.preventDefault();var k=$(this);k.removeClass("x onX").val("").change();i._close()})}i._renderItem=function(m,k){var j="";if(typeof(k.CategoryType)==="number"&&(typeof(k.ItemType)==="undefined"||k.ItemType===null||k.ItemType!=Kuoni.Definitions.SearchAsYouTypeItemTypes.seeMoreLink)){if(k.CategoryType==Kuoni.Definitions.SearchResultCategoryType.travelArea){j='<span class="icon-world-small">&nbsp;</span>'}else{if(k.CategoryType==Kuoni.Definitions.SearchResultCategoryType.product){j='<span class="icon-case-small">&nbsp;</span>'}else{if(k.CategoryType==Kuoni.Definitions.SearchResultCategoryType.inspiration){j='<span class="icon-bulb-small">&nbsp;</span>'}}}}var l=k.Label;if(typeof(k.HighlightedTitle)==="string"&&k.HighlightedTitle!==null&&k.HighlightedTitle!==""){l=k.HighlightedTitle}return $("<li></li>").append("<a>"+j+l+"</a>").appendTo(m)};i.close=function(j){window.setTimeout(function(){var k=j.type==="blur";var l=j.type==="input";var m=((/iPhone|iPod|iPad/).test(navigator.userAgent));var n=$(".search_as_you_type_menu").is(":visible");var o=h._viewContext.val().length<3;var p=h._viewContext.val().length<1;var q=!h.wasSubmitBtnClick&&(!l||p);if(!n||h.wasSubmitBtnClick||(!o&&(l||(k&&m)))){return}i.cancelSearch=true;i._close(j);if(q){h.clearValHandle=window.setTimeout(function(){h._viewContext.val("");h._viewContext.removeClass("x");i.search("",j)},100)}},100)}};return a})();var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(h){this.shortCutList=h;this.linkList=h.find(".options");this.linkListItems=this.linkList.find("li");this.header=h.find(".header");this.numberOfItemsPerColumn=12;this.columnClassPrefix="_listColumn";this.numberOfColumns=this.getNumberOfColumns(this.numberOfItemsPerColumn);this.shortCutListClosedStateWidth=this.shortCutList.width();this.initialize();this.initializeEventListeners()}g.prototype.getNumberOfColumns=function(h){var i=this.linkList.find("li").length;return Math.ceil(i/h)};g.prototype.initialize=function(){var h=this;this.linkList.hide();var k=this.shortCutList.outerWidth()+2;if(k<186){k=186}if(this.numberOfColumns>1){this.shortCutList.addClass("multi_column");var j=(k+2)*this.numberOfColumns;this.linkList.css({width:j});var l=this.linkList.find("ul");l.addClass(this.columnClassPrefix+"1");l.css({width:k});for(var m=2;m<=this.numberOfColumns;m++){this.linkList.find("ul").last().after('<ul class="'+this.columnClassPrefix+m+'" style="width:'+k+'px" ></ul>')}this.linkList.find("ul").last().addClass("last_column").css({width:k+"px"});this.linkListItems.each(function(o,n){var i=Math.floor(o/h.numberOfItemsPerColumn)+1;h.getColumnByColumnNumber(i).append(n)})}else{this.linkList.addClass("single_column")}};g.prototype.getColumnByColumnNumber=function(h){return this.linkList.find("."+this.columnClassPrefix+h)};g.prototype.initializeEventListeners=function(){var h=this;this.shortCutList.click(function(){if(!h.header.hasClass("expanded")){h.openShortCutList()}else{h.closeShortCutList()}});this.shortCutList.mouseleave(function(){h.closeShortCutList()})};g.prototype.openShortCutList=function(){this.linkList.slideDown();this.header.addClass("expanded");var h=this.shortCutList.width();this.shortCutList.css({position:"relative","z-index":"9999"})};g.prototype.closeShortCutList=function(){var h=this;this.linkList.fadeOut(function(){h.header.removeClass("expanded");h.shortCutList.css({"z-index":"1"})})};return g})();e.ShortCutListView=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(m,k,l,i,h,j){this.viewContext=m;this.jQuery=k;this.filterSectionIdentifier=i;this.classes=h;this.onFilterChanged=new a.Infrastructure.Event();this.isMultilevelDropdown=j;this.element=this.jQuery(l,this.viewContext)}g.prototype.setSelectedValues=function(j){var h=this;if(j.length===0){return}var i=this.element.find("option:first-child");this.selectOption(i,false);$.each(j,function(k,m){var l=h.element.find("option[value='"+m+"']");h.selectOption(l)});if(this.clientIsNotTouchDevice()){this.element.multiselect("refresh")}};g.prototype.selectOption=function(h,i){if(typeof i==="undefined"){i=true}h.attr("selected",i);h.prop("selected",i)};g.prototype.enable=function(){this.element.removeClass("ui-state-disabled");if(this.clientIsNotTouchDevice()){this.element.multiselect("enable")}else{this.element.attr("disabled",false)}};g.prototype.disable=function(){this.element.addClass("ui-state-disabled");if(this.clientIsNotTouchDevice()){this.element.multiselect("disable")}else{this.element.attr("disabled",true)}};g.prototype.getSelectedValues=function(){var h=this.element.val();if(typeof h!=="undefined"){return _.filter(h,function(i){return i!==""})}return[]};g.prototype.clientIsNotTouchDevice=function(){return window.Modernizr.touch===false};g.prototype.showFilter=function(i){var h=this.jQuery(this.filterSectionIdentifier,this.viewContext);h.css({display:"block"});if(this.clientIsNotTouchDevice()){if(_.isUndefined(i)===false){this.initializeDropdownWithValuesFromObject(this.element,i,true)}a.Views.Components.KuoniMultiSelectWidget.Init(this.element,this.classes)}else{if(_.isUndefined(i)===false){this.initializeDropdownWithValuesFromObject(this.element,i,false)}this.showBrowserDefaultMultiSelect()}this.initializeFilterChangedEventListener(this.element)};g.prototype.showBrowserDefaultMultiSelect=function(){this.element.show()};g.prototype.initializeFilterChangedEventListener=function(i){var h=this;i.off("change");i.change(function(){h.onFilterChanged.notify()})};g.prototype.initializeDropdownWithValuesFromObject=function(i,k,j){if(j){var h=i.find("option:first-child:first");i.empty();i.append(h)}else{i.empty()}if(k.Children===null){return}$.each(k,function(l,n){if(n!==null){var m=$("<optgroup></optgroup>").attr("label",n.Name);$.each(n.Children,function(o,q){var p=$("<option></option>").attr("value",q.CatalogueItemId).text(q.Name);m.append(p)});i.append(m)}})};return g})();e.TravelAreaDropdown=f})(d.Components||(d.Components={}));var c=d.Components})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(g){var e=(function(){function h(i){this.queries=i;this.initializeEvents()}h.prototype.initializeEvents=function(){this.onSelectionChanged=new a.Infrastructure.Event();this.onMouseEnter=new a.Infrastructure.Event()};h.prototype.initializeFilter=function(i){this.getFilterData=this.getFilterDataFromCheckboxes;var j=this;this.queries.getContext().change(function(){j.onSelectionChangedHandler($(this))})};h.prototype.resetFilter=function(k,j,i){$.each(i,function(m,l){l.val(j[m]).attr("selected","selected").trigger("change")})};h.prototype.getSelectedValuesOfFilter=function(){var i=[];this.queries.getSelected().each(function(){if($(this).val()!="I"&&$(this).val()!="R"&&$(this).val()!="C"){i.push($(this).val())}});return i};h.prototype.getAllFilterOptions=function(){var i=[];this.queries.getElement().each(function(){i.push($(this).val())});return i};h.prototype.clearLookahead=function(){this.queries.getElement().nextAll(".counter").empty()};h.prototype.setLookAheadResultFor=function(i,l,j){if(j==true){if(i!="I"&&i!="R"&&i!="C"){if(l===0){this.queries.getContext().find('option[value="'+i+'"]').remove()}}}else{var m=$(this.queries.getElementWithValue(i));if(l===0){m.attr("hidden","hidden")}else{m.removeAttr("hidden")}}var k=0;this.queries.getContext().find("option").each(function(){if($(this).is("[hidden]")){k++}});if((this.queries.getContext().find("option").length-k)<=1){this.queries.getContext().attr("disabled","disabled");this.queries.getContext().hide()}else{this.queries.getContext().removeAttr("disabled");this.queries.getContext().show()}};h.prototype.onSelectionChangedHandler=function(j){var i=this.getFilterData(j);this.onSelectionChanged.notify(i)};h.prototype.getFilterDataFromCheckboxes=function(i){var j=[];this.queries.getSelected().each(function(){j.push($(this).val())});return j};return h})();g.DropDownFilterView=e;var f=(function(){function h(i){this.getContext=function(){return i};this.getSelected=function(){return i.find(":selected")};this.getElement=function(){return i.find("option")};this.getElementWithValue=function(j){return i.find('option[value="'+j+'"]')}}return h})();g.FilterViewQueries=f})(d.Inspirations||(d.Inspirations={}));var c=d.Inspirations})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function g(j,i){var h=this;this._viewContext=j;this._filterViewContext=i;this._queries={numberOfItems:".number_of_items",list:"div.list",group:"#inspirations_groups",groupClass:".inspirations_group",listItems:".list_item",listItemPlaceholder:function(k){return"#"+h._ids.listItem(k)+"."+h._classes.placeholder},listItemLoaded:function(k){return"#"+h._ids.listItem(k)+h._queries.listItems},inspirationsExpertTripsFilter:"#inspirations_ExpertTrips",inspirationsViewAllFilter:"#inspirations_ViewAll",inspirationsEditorPicksFilter:"#inspirations_EditorPicks"};this._ids={listItem:function(k){return"item_"+k}};this._classes={placeholder:"is_placeholder"};this.initializeEvents();this.setupListeners()}g.prototype.initializeEvents=function(){this.onClickOfExpertTrips=new a.Infrastructure.Event();this.onClickOfViewAll=new a.Infrastructure.Event();this.onClickOfEditorPicks=new a.Infrastructure.Event()};g.prototype.setupListeners=function(){var h=this;this._filterViewContext.find(this._queries.inspirationsExpertTripsFilter).click(function(){h.onClickOfExpertTrips.notify()});this._filterViewContext.find(this._queries.inspirationsViewAllFilter).click(function(){h.onClickOfViewAll.notify()});this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).click(function(){h.onClickOfEditorPicks.notify()})};g.prototype.enableORdisableButtons=function(i,h){this._filterViewContext.find(".selectedlink").removeClass("selectedlink");if(i=="D"){if(h==""||h=="VA"){this._filterViewContext.find(this._queries.inspirationsExpertTripsFilter).attr("disabled","disabled");this._filterViewContext.find(this._queries.inspirationsViewAllFilter).attr("disabled","disabled");this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).attr("disabled","disabled")}else{if(h=="ET"){this._filterViewContext.find(this._queries.inspirationsExpertTripsFilter).attr("disabled","disabled")}else{if(h=="EP"){this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).attr("disabled","disabled")}}}}else{if(h==""){this._filterViewContext.find(this._queries.inspirationsExpertTripsFilter).removeAttr("disabled");this._filterViewContext.find(this._queries.inspirationsViewAllFilter).removeAttr("disabled");this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).removeAttr("disabled")}else{if(h=="ET"){this._filterViewContext.find(this._queries.inspirationsExpertTripsFilter).removeAttr("disabled");this._filterViewContext.find(this._queries.inspirationsExpertTripsFilter).find("label").addClass("selectedlink")}else{if(h=="EP"){this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).removeAttr("disabled");this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).find("label").addClass("selectedlink")}else{if(h=="VA"){this._filterViewContext.find(this._queries.inspirationsViewAllFilter).removeAttr("disabled");this._filterViewContext.find(this._queries.inspirationsViewAllFilter).find("label").addClass("selectedlink")}}}}}};g.prototype.triggerEditorPickEvents=function(){this._filterViewContext.find(this._queries.inspirationsEditorPicksFilter).trigger("click")};g.prototype.hideLoader=function(){$(this._queries.groupClass,this._viewContext).hideLoader()};g.prototype.showLoader=function(){$(this._queries.groupClass,this._viewContext).showLoader();this._viewContext.find(".loader").css("position","relative")};g.prototype.reset=function(){$(this._queries.listItems,this._viewContext).hide()};g.prototype.addListItem=function(j){var h=$(j);h.hide();var i=this._idOfListItem(h[0]);$(this._queries.listItemPlaceholder(i),this._viewContext).replaceWith(h);$("#"+this._ids.listItem(i)).fadeIn()};g.prototype.createPlaceHoldersFor=function(n){var h=[1,2,0];var m=$(this._queries.list,this._viewContext);for(var k=0;k<3;k++){var o=$('<div class="span4 container_part wrapper item_margin" ><div class="part container_part"><div class="row">');for(var l=k;l<n.length;l=l+3){m.remove(this._ids.listItem(n[l]));if(((l+1)%3)==h[k]){$("<div>",{id:this._ids.listItem(n[l]),"class":this._classes.placeholder}).appendTo(o)}}o.appendTo(m)}};g.prototype.emptyList=function(){$(this._queries.list,this._viewContext).empty()};g.prototype._idOfListItem=function(h){return h.id.substring(5)};g.prototype._indexOfElement=function(i,h){return h.indexOf(i)};g.prototype._existsInArray=function(i,h){return this._indexOfElement(i,h)!==-1};g.prototype.updateVisibleItems=function(h){if(h.length===0){$(this._viewContext).hide()}if(h.length===1){$(this._viewContext).show()}else{$(this._viewContext).show();$(this._queries.numberOfItems,this._viewContext).text(h.length.toString())}var i=$(this._queries.listItems,this._viewContext);var j=this;i.each(function(){if(j._existsInArray(j._idOfListItem(this),h)){$(this).show()}else{$(this).hide()}})};g.prototype.listItemExists=function(h){return $(this._queries.listItemLoaded(h)).length>0};g.prototype.showListItem=function(h){$("#"+this._ids.listItem(h)).fadeIn()};g.prototype.hideAllListItems=function(){$(this._queries.listItems).hide()};return g})();e.ListView=f})(d.Inspirations||(d.Inspirations={}));var c=d.Inspirations})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Views.OnlineCatalogue").AjaxLightboxView=(function(){var a=function(c){this._viewContext=c;this._queries={lightboxLinks:".fancybox\\.ajax",lightboxParameter:function(d){return"fancybox-"+d}}};var b=a.prototype;b.initializeLightboxes=function(c){var d=this;this._viewContext.find(this._queries.lightboxLinks).each(function(){var e=$(this);var f={autoSize:false,afterShow:function(){if(c){c(e.data(d._queries.lightboxParameter("content")))}}};d._getFancyboxParameter(e,"width",f);d._getFancyboxParameter(e,"height",f);e.fancybox(f)})};b._getFancyboxParameter=function(c,e,d){var f=c.data(this._queries.lightboxParameter(e));if(f){if(!isNaN(f)){f=parseInt(f,10)}d[e]=f}};return a})();var ts_Kuoni;(function(a){(function(d){(function(f){var e=(function(){function g(k,i,j){var h=this;_.extend(this,new a.Views.Components.ListItemView());this._viewContext=k;this._listControlId=i;this._listProductType=j;this._queries={list:"div.list_".concat(this._listControlId),group:"#product_groups_".concat(this._listControlId),groupClass:".product_group_".concat(this._listControlId),listItems:".list_item",listItemPlaceholder:function(l){return"#"+h._ids.listItem(l)+"."+h._classes.placeholder},listItemLoaded:function(l){return"#"+h._ids.listItem(l)+h._queries.listItems}};this._ids={listItem:function(l){return"item_carousel_"+l}};this._classes={placeholder:"is_placeholder"}}g.prototype.hideLoader=function(){$(this._queries.groupClass,this._viewContext).hideLoader()};g.prototype.showLoader=function(){$(this._queries.groupClass,this._viewContext).showLoader()};g.prototype.reset=function(){$(this._queries.listItems,this._viewContext).hide()};g.prototype.addListItem=function(k){var h=$(k);h.hide();var i=this._idOfListItem(h[0]);$(this._queries.listItemPlaceholder(i),this._viewContext).replaceWith(h);$("#"+this._ids.listItem(i)).fadeIn();var j=new a.Views.Components.ListItemView();j.initListItem(h)};g.prototype.createPlaceHoldersFor=function(i){var h=$(this._queries.list,this._viewContext);_.each(i,function(j){h.remove(this._ids.listItem(j));$("<div>",{id:this._ids.listItem(j),"class":this._classes.placeholder}).appendTo(h)},this)};g.prototype.emptyList=function(){$(this._queries.list,this._viewContext).empty()};g.prototype._idOfListItem=function(h){return h.id.substring(14)};g.prototype._indexOfElement=function(i,h){return h.indexOf(i)};g.prototype._existsInArray=function(i,h){return this._indexOfElement(i,h)!==-1};g.prototype.updateVisibleItems=function(h){if(h.length===0){$(this._viewContext).hide()}if(h.length===1){$(this._viewContext).show()}else{$(this._viewContext).show()}var i=$(this._queries.listItems,this._viewContext);var j=this;i.each(function(){if(j._existsInArray(j._idOfListItem(this),h)){$(this).show()}else{$(this).hide()}})};g.prototype.listItemExists=function(h){return $(this._queries.listItemLoaded(h)).length>0};g.prototype.showListItem=function(h){$("#"+this._ids.listItem(h)).fadeIn()};g.prototype.hideAllListItems=function(){$(this._queries.listItems).hide()};g.prototype.initListItems=function(){$(this._queries.listItems).each(function(i,h){var j=new a.Views.Components.ListItemView();j.initListItem($(h))})};return g})();f.CarouselListView=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(g){var e=(function(){function h(i){this.queries=i;this.initializeEvents()}h.prototype.initializeEvents=function(){this.onSelectionChanged=new a.Infrastructure.Event()};h.prototype.initializeFilter=function(i){this.getFilterData=this.getFilterDataFromCheckboxes;if(typeof i!=="undefined"){this.setFilterSelectValues(i.getValues())}var j=this;this.queries.getContext().change(function(){j.onSelectionChangedHandler($(this))})};h.prototype.getAllFilterOptions=function(){var i=[];this.queries.getElement().each(function(){i.push($(this).val())});return i};h.prototype.clearLookahead=function(){this.queries.getElement().nextAll(".counter").empty();this.queries.getElement().nextAll("label").children(".counter").empty()};h.prototype.setLookAheadResultFor=function(j,m){var i=$(this.queries.getElementWithValue(j));var k=i.nextAll(".counter");if(!k||k.length<1){k=i.nextAll("label").children(".counter")}k.html("("+m+")");var l=i.closest("li");if(m===0){i.attr("disabled","disabled");i.prop("checked",false);if(l&&l.length>0){l.addClass("disabled")}}else{i.removeAttr("disabled");if(l&&l.length>0){l.removeClass("disabled")}}};h.prototype.RemoveCheckbox=function(j){var i=$(this.queries.getElementWithValue(j));var k=i.closest("li");if(k&&k.length>0){k.remove()}else{i.parent().remove()}};h.prototype.setFilterSelectValues=function(j){if(typeof j!=="undefined"){for(var k=0,l=j.length;k<l;k++){this.queries.getContext().find('input[value="'+j[k]+'"]').prop("checked",true)}}};h.prototype.onSelectionChangedHandler=function(j){var i=this.getFilterData(j);this.onSelectionChanged.notify(i)};h.prototype.getFilterDataFromCheckboxes=function(i){var j=[];this.queries.getChecked().each(function(){j.push($(this).val())});return j};return h})();g.CheckboxRadioButtonFilterView=e;var f=(function(){function h(i){this.getContext=function(){return i};this.getChecked=function(){return i.find(":checked")};this.getElement=function(){return i.find("input")};this.getElementWithValue=function(j){return i.find('input[value="'+j+'"]')}}return h})();g.FilterViewQueries=f})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));$(function(){var a=Cookies.get("ccAccepted");if(a==="true"){}else{$("#cookie-acceptance-wrapper").addClass("cc-open");$("#cookie-acceptance-wrapper").removeClass("cc-closed");$("#cookie-acceptance-wrapper").slideDown();$(".topnavbar .container").addClass("caOpen");$(".topnavbar").addClass("pb40");$("#home .backstretch").addClass("caOpen");$("#page_container, #home, #starthome").addClass("cc_open")}$("#acceptCookies").click(function(){Cookies.set("ccAccepted","true",{expires:7,path:""});$("#cookie-acceptance-wrapper").removeClass("cc-open");$("#cookie-acceptance-wrapper").addClass("cc-closed");$("#cookie-acceptance-wrapper").slideUp();$(".topnavbar .container").removeClass("caOpen");$(".topnavbar").removeClass("pb40");$("#home .backstretch").removeClass("caOpen");$("#page_container, #home, #starthome").removeClass("cc_open")})});var ts_Kuoni;(function(a){(function(d){(function(f){var e=(function(){function g(i,h){this.viewContext=i;this.jQuery=h;this.queries={countriesSelectList:"#country_drop_down",countryFilterSection:".country_filter_section",areasFilterSection:".area_filter_section",areasSelectList:"#area_select_list"};this.selectListContentTemplate="<option>";this.travelAreaDropDown=new a.Views.Components.TravelAreaDropdown(this.viewContext,this.jQuery,this.queries.areasSelectList,this.queries.areasFilterSection,"dropdown_style1",true);this.travelAreaDropDown.showFilter();this.countryDropDown=new a.Views.Components.TravelAreaDropdown(this.viewContext,this.jQuery,this.queries.countriesSelectList,this.queries.countryFilterSection,"dropdown_style1",true);this.initializeEvents();this.setupListeners()}g.prototype.initializeEvents=function(){this.onCountryChanged=new a.Infrastructure.Event();this.onAreaChanged=new a.Infrastructure.Event()};g.prototype.setSelectedCountries=function(h){this.countryDropDown.setSelectedValues(h)};g.prototype.setSelectedAreas=function(h){this.travelAreaDropDown.setSelectedValues(h)};g.prototype.getSelectedAreas=function(){return this.travelAreaDropDown.getSelectedValues()};g.prototype.showCountryFilter=function(){this.countryDropDown.showFilter()};g.prototype.showAreaFilter=function(h){this.travelAreaDropDown.showFilter(h)};g.prototype.enableAreasSelectList=function(){this.travelAreaDropDown.enable()};g.prototype.disableAreasSelectList=function(){this.travelAreaDropDown.disable()};g.prototype.setupListeners=function(){this.countryDropDown.onFilterChanged.attach(this.countryChanged,this);this.travelAreaDropDown.onFilterChanged.attach(this.areaChanged,this)};g.prototype.countryChanged=function(){var h=this.countryDropDown.getSelectedValues();this.onCountryChanged.notify(h)};g.prototype.areaChanged=function(){var h=this.travelAreaDropDown.getSelectedValues();this.onAreaChanged.notify(h)};return g})();f.CountriesAndTravelAreasFilterView=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var ts_Kuoni;(function(a){(function(d){(function(g){var e=(function(h){__extends(i,h);function i(j){h.call(this,j);this.facilityGroupFilterQueries=j}i.prototype.getAllFacilityGroups=function(){var m=[];var l=this.facilityGroupFilterQueries.getGroups();for(var n=0;n<l.length;n++){var k=l[n];var o=this.facilityGroupFilterQueries.isOrFilter(l[n]);var j=this.getAllOptionsInGroup(l[n]);m.push({isOrFilter:o,allOptions:j})}return m};i.prototype.getAllOptionsInGroup=function(j){var k=[];this.facilityGroupFilterQueries.getOptions(j).each(function(){k.push($(this).val())});return k};i.prototype.clearLookahead=function(){this.facilityGroupFilterQueries.getAllOptions().nextAll(".counter").empty()};return i})(g.CheckboxRadioButtonFilterView);g.FacilityGroupsFilterView=e;var f=(function(h){__extends(i,h);function i(j){h.call(this,j);this.getGroups=function(){return j.find(".facilities_filter")};this.getOptions=function(k){return $(k).find("input")};this.getAllOptions=function(){return j.find("input")};this.isOrFilter=function(k){return $(k).hasClass("is_or_filter")}}return i})(g.FilterViewQueries);g.FacilityGroupsFilterViewQueries=f})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Views.OnlineCatalogue").IframeLightboxView=(function(){var a=function(c){this._viewContext=c;this._queries={lightboxLinks:".fancybox\\.iframe",lightboxParameter:function(d){return"data-fancybox-"+d}}};var b=a.prototype;b.initializeLightboxes=function(){var c=this;this._viewContext.find(this._queries.lightboxLinks).each(function(){var d=$(this);var e={};c._getFancyboxParameter(d,"width",e);c._getFancyboxParameter(d,"height",e);d.fancybox(e)})};b._getFancyboxParameter=function(c,e,d){var f=c.attr(this._queries.lightboxParameter(e));if(f){if(!isNaN(f)){f=parseInt(f,10)}d[e]=f}};return a})();Kuoni.Namespace.create("Kuoni.Views.OnlineCatalogue").ImageLightboxView=(function(){var a=function(c){this._viewContext=c;this._queries={lightboxLinks:'.fancybox[data-fancybox-group^="imageSlideshow"]'}};var b=a.prototype;b.initializeLightboxes=function(){var c={helpers:{title:{type:"inside"}},beforeLoad:function(){this.title=$(this.element).attr("data-fancybox-caption")}};this._viewContext.find(this._queries.lightboxLinks).fancybox(c)};return a})();var ts_Kuoni;(function(a){(function(d){(function(f){var e=(function(){function g(i){var h=this;_.extend(this,new a.Views.Components.ListItemView());this._viewContext=i;this._queries={sortingSection:".sorting_section",numberOfItems:".number_of_items",listSorter:"select.list-sorter",list:"div.list",group:"#product_groups",groupClass:".product_group",listItems:".list_item",listItemPlaceholder:function(j){return"#"+h._ids.listItem(j)+"."+h._classes.placeholder},listItemLoaded:function(j){return"#"+h._ids.listItem(j)+h._queries.listItems}};this._ids={listItem:function(j){return"item_"+j}};this._classes={placeholder:"is_placeholder"};this._dataAttributes={elementSortOrder:"sort_order"};this.initializeEvents();this.initializeSorting()}g.prototype.hideLoader=function(){$(this._queries.groupClass,this._viewContext).hideLoader()};g.prototype.showLoader=function(){$(this._queries.groupClass,this._viewContext).showLoader()};g.prototype.reset=function(){$(this._queries.listItems,this._viewContext).hide();$(this._queries.sortingSection,this._viewContext).hide()};g.prototype.initializeEvents=function(){this.onSortingChanged=new a.Infrastructure.Event()};g.prototype.addListItem=function(k){var h=$(k);h.hide();var i=this._idOfListItem(h[0]);$(this._queries.listItemPlaceholder(i),this._viewContext).replaceWith(h);$("#"+this._ids.listItem(i)).fadeIn();var j=new a.Views.Components.ListItemView();j.initListItem(h);$(this._queries.sortingSection,this._viewContext).show()};g.prototype.createPlaceHoldersFor=function(i){var h=$(this._queries.list,this._viewContext);_.each(i,function(j){h.remove(this._ids.listItem(j));$("<div>",{id:this._ids.listItem(j),"class":this._classes.placeholder}).appendTo(h)},this)};g.prototype.emptyList=function(){$(this._queries.list,this._viewContext).empty()};g.prototype.initializeSorting=function(){var i=this;var h=$(this._queries.listSorter,this._viewContext);h.change(function(){i.sortEvent()})};g.prototype.updateSortingHeader=function(h){$(this._queries.numberOfItems,this._viewContext).text(h.length.toString())};g.prototype.triggerSorting=function(){var i=this;var h=$(this._queries.listSorter,this._viewContext);h.each(function(){i.sortEvent()})};g.prototype.sortEvent=function(){var i=$(this._queries.listSorter,this._viewContext);var h=i.find("option:selected");var j=(h.data(this._dataAttributes.elementSortOrder)!=="des");this.onSortingChanged.notify(h.val(),j)};g.prototype.getSortAscending=function(){var i=$(this._queries.listSorter,this._viewContext);var h=i.find("option:selected");return(h.data(this._dataAttributes.elementSortOrder)!=="des")};g.prototype.getSortOption=function(){return $(this._queries.listSorter,this._viewContext).find("option:selected").val()};g.prototype.updateSortingForGroup=function(h){var j=$(this._queries.list,this._viewContext);var k=this;var i=j.children();i.sort(function(l,m){var n=k._indexOfElement(k._idOfListItem(l),h);var o=k._indexOfElement(k._idOfListItem(m),h);return n<o?-1:1}).appendTo(j)};g.prototype._idOfListItem=function(h){return h.id.substring(5)};g.prototype._indexOfElement=function(i,h){return h.indexOf(i)};g.prototype._existsInArray=function(i,h){return this._indexOfElement(i,h)!==-1};g.prototype.updateVisibleItems=function(h){if(h.length===0){$(this._viewContext).hide()}if(h.length===1){$(this._viewContext).show();$(this._queries.sortingSection,this._viewContext).hide()}else{$(this._viewContext).show();$(this._queries.sortingSection,this._viewContext).show();$(this._queries.numberOfItems,this._viewContext).text(h.length.toString())}var i=$(this._queries.listItems,this._viewContext);var j=this;i.each(function(){if(j._existsInArray(j._idOfListItem(this),h)){$(this).show()}else{$(this).hide()}})};g.prototype.listItemExists=function(h){return $(this._queries.listItemLoaded(h)).length>0};g.prototype.showListItem=function(h){$("#"+this._ids.listItem(h)).fadeIn()};g.prototype.hideAllListItems=function(){$(this._queries.listItems).hide()};g.prototype.initListItems=function(){$(this._queries.listItems).each(function(i,h){var j=new a.Views.Components.ListItemView();j.initListItem($(h))})};return g})();f.ListView=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Views.OnlineCatalogue").OffersView=(function(){var a=function(c){this._viewContext=c;this._queries={offergroupselector:".is_offergroupselector",offergroup:".is_offergroup"}};var b=a.prototype;b.initializeOffers=function(){this.showSelectedOffers();this._viewContext.find(this._queries.offergroupselector).change(function(){this.showSelectedOffers()}.bind(this))};b.showSelectedOffers=function(){this._viewContext.find(this._queries.offergroup).hide();var c=this._viewContext.find(this._queries.offergroupselector).val();this._viewContext.find(this._queries.offergroup+c).show()};return a})();var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function h(j,i){this.queries=j;this.validationErrorClass="validationError";this.initializeEvents();this.initializeDatePicker(i);this.initializeValidatedSubmit();this.initializeAccordion();this.initializeTravelType();this.initializeRoomListener();this.initializeRoom1ChildSelectionListener();this.initializeRoom2ChildSelectionListener();this.setAllInputsEnabled()}h.prototype.initializeEvents=function(){this.onDateSelectionChanged=new a.Infrastructure.Event()};h.prototype.initializeDatePicker=function(l){var i=this;var k=new Date(l);var j=this.queries.getDatepicker();j.datepicker({minDate:+3,maxDate:k,dateFormat:"dd/mm/yy",defaultDate:"+1w",dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]});j.change(function(m){var n=$(m.currentTarget).datepicker("getDate");i.onDateSelectionChanged.notify(n)})};h.prototype.setDateWrapper=function(l,m,n){var j=this.queries.getDateWrapperDay();var i=this.queries.getDateWrapperDate();var k=this.queries.getDateWrapperYear();j.text(l);i.text(m);k.text(n)};h.prototype.showHideRoom2=function(j){var i=this.queries.getRoom2Box();if(parseInt(j,10)===2){i.slideDown()}else{i.slideUp()}};h.prototype.showHideChildrenAges=function(n,m){var l;var i;var j;var k;if(parseInt(n,10)===1){l=this.queries.getRoom1ChildAgeRegion();i=this.queries.getRoom1Child1Age();j=this.queries.getRoom1Child2Age();k=this.queries.getRoom1Child3Age()}else{if(parseInt(n,10)===2){l=this.queries.getRoom2ChildAgeRegion();i=this.queries.getRoom2Child1Age();j=this.queries.getRoom2Child2Age();k=this.queries.getRoom2Child3Age()}}if(parseInt(m,10)===0){l.slideUp()}else{l.slideDown()}if(parseInt(m,10)===1){i.show();j.hide();k.hide()}else{if(parseInt(m,10)===2){i.show();j.show();k.hide()}else{if(parseInt(m,10)===3){i.show();j.show();k.show()}}}};h.prototype.initDateWrapper=function(){this.onDateSelectionChanged.notify(this.queries.getDatepicker().datepicker("getDate"))};h.prototype.initializeValidatedSubmit=function(){var i=this;var k=this.queries.getSubmit();var j=this.queries.getDestinationDropDown();k.click(function(l){if(j.val()){i.setHiddenInputsDisabled();i.clearValidationError();var m=i.queries.getForm();i.queries.getSubmitFieldset().showLoader();m.submit()}else{i.showValidationError()}return false});j.change(function(l){i.clearValidationError()})};h.prototype.setHiddenInputsDisabled=function(){var j=this.queries.getRoomsRegionDivs();var i=j.filter(function(){return $(this).css("display")==="none"});i.each(function(m,k){var l=$(k).find("select");l.each(function(o,n){$(n).attr("disabled","disabled")})})};h.prototype.initializeAccordion=function(){var i=this;this.queries.getBookingBox().click(function(k){var j=i.queries.getAdditionalFieldset();j.slideDown();var m=i.queries.getRoomsField();m.slideDown();var n=i.queries.getSubmitFieldset();n.slideDown();var l=i.queries.getExpandableElement();l.slideUp()})};h.prototype.initializeTravelType=function(){var i=this;var j=this.queries.getTravelTypeFieldset();if(j.length===0){return}j.change(function(k){i.updateRadioButtonSelectedStyling()});this.updateRadioButtonSelectedStyling()};h.prototype.initializeRoomListener=function(){var i=this;var j=this.queries.getRoomSelectDropDown();j.change(function(k){i.showHideRoom2($(k.currentTarget).val())})};h.prototype.initializeRoom1ChildSelectionListener=function(){var i=this;var j=this.queries.getRoom1ChildSelection();j.change(function(k){i.showHideChildrenAges(1,$(k.currentTarget).val())})};h.prototype.initializeRoom2ChildSelectionListener=function(){var i=this;var j=this.queries.getRoom2ChildSelection();j.change(function(k){i.showHideChildrenAges(2,$(k.currentTarget).val())})};h.prototype.setAllInputsEnabled=function(){var j=this.queries.getRoomsRegionDivs();var i=j.find("select");i.each(function(l,k){$(k).removeAttr("disabled")})};h.prototype.updateRadioButtonSelectedStyling=function(){var i="selected";this.queries.getTravelTypes().removeClass(i);var j=this.queries.getSelectedRadioButton();this.queries.getClosestTravelType(j).addClass(i);var k=this.queries.getSubmitText(j);this.queries.getSubmit().html(k)};h.prototype.showValidationError=function(){this.queries.getDestinationDropDown().addClass(this.validationErrorClass);this.queries.getDestinationValidationMessage().fadeIn()};h.prototype.clearValidationError=function(){this.queries.getDestinationDropDown().removeClass(this.validationErrorClass);this.queries.getDestinationValidationMessage().hide()};return h})();e.P2BookingBoxView=f;var g=(function(){function h(i){this.getDatepicker=function(){return i.find("._datepicker")};this.getDepartureDateField=function(){return i.find("#select_departure_date")};this.getDateWrapperDay=function(){return i.find("#departure_date_day")};this.getDateWrapperDate=function(){return i.find("#departure_date_date")};this.getDateWrapperYear=function(){return i.find("#departure_date_year")};this.getTravelTypeFieldset=function(){return i.find("fieldset.travel_types")};this.getTravelTypes=function(){return i.find("fieldset.travel_types > div")};this.getClosestTravelType=function(j){return j.closest("div")};this.getSelectedRadioButton=function(){return i.find("fieldset.travel_types input:checked")};this.getAdditionalFieldset=function(){return i.find("fieldset.additional")};this.getSubmitFieldset=function(){return i.find("fieldset.submit")};this.getSubmit=function(){return i.find("._submit")};this.getForm=function(){return i.find("form")};this.getDestinationDropDown=function(){return i.find("#select_destination")};this.getDestinationValidationMessage=function(){return i.find("#destination_validation_message")};this.getExpandableElement=function(){return i.find(".expandable")};this.getRoomSelectDropDown=function(){return i.find("#select_rooms")};this.getRoom2Box=function(){return i.find("#room_2_container")};this.getRoom1ChildSelection=function(){return i.find("#select_child_room_1")};this.getRoom2ChildSelection=function(){return i.find("#select_child_room_2")};this.getRoom1ChildAgeRegion=function(){return i.find("#children_age_row_room1")};this.getRoom2ChildAgeRegion=function(){return i.find("#children_age_row_room2")};this.getRoom1Child1Age=function(){return i.find("#room_1_age_child_1")};this.getRoom1Child2Age=function(){return i.find("#room_1_age_child_2")};this.getRoom1Child3Age=function(){return i.find("#room_1_age_child_3")};this.getRoom2Child1Age=function(){return i.find("#room_2_age_child_1")};this.getRoom2Child2Age=function(){return i.find("#room_2_age_child_2")};this.getRoom2Child3Age=function(){return i.find("#room_2_age_child_3")};this.getRoomsField=function(){return i.find(".rooms")};this.getBookingBox=function(){return i};this.getSubmitText=function(j){return j.data("submit-text")};this.getAllInputs=function(){return i.find("input")};this.getRoomsRegionDivs=function(){return i.find("fieldset.rooms div")}}return h})();e.P2BookingBoxViewQueries=g})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function h(i,j,k){this.queries=i;this.slider=null;this.settingsService=j;this.initializeEvents();this.sliderFilterType=k}h.prototype.initializeEvents=function(){this.onSelectionChanged=new a.Infrastructure.Event()};h.prototype.initializeFilter=function(k){var m=this.queries.getFilterRangeSlider(this.sliderFilterType.toLowerCase());if(this.sliderFilterType===a.Infrastructure.OnlineCatalogue.Filters.PriceFilter.Key){if(m.length>0){var n=this.settingsService.getSettingsFor(m[0].id);if(typeof k!=="undefined"&&k.Key===a.Infrastructure.OnlineCatalogue.Filters.PriceFilter.Key){var l=k.getValues();n.fromValue=l.fromPrice;n.toValue=l.toPrice}this.slider=new Kuoni.Views.Components.RangeSlider(this.queries.getContext(),n,new Kuoni.Views.Components.PriceFormatter(),"price")}}else{if(this.sliderFilterType===a.Infrastructure.OnlineCatalogue.Filters.DistanceToCenterFilter.Key){if(m.length>0){var n=this.settingsService.getSettingsFor(m[0].id);if(typeof k!=="undefined"&&k.getKey()===a.Infrastructure.OnlineCatalogue.Filters.DistanceToCenterFilter.Key){var j=k.getValues();if(j!==null&&j!==undefined){n.fromValue=j.fromValue;n.toValue=j.toValue}}this.slider=new Kuoni.Views.Components.RangeSlider(this.queries.getContext(),n,new Kuoni.Views.Components.DistanceFormatter(),"distancetocenter")}}else{if(this.sliderFilterType===a.Infrastructure.OnlineCatalogue.Filters.DistanceToBeachFilter.Key){if(m.length>0){var n=this.settingsService.getSettingsFor(m[0].id);if(typeof k!=="undefined"&&k.getKey()===a.Infrastructure.OnlineCatalogue.Filters.DistanceToBeachFilter.Key){var i=k.getValues();if(i!==null&&i!==undefined){n.fromValue=i.fromValue;n.toValue=i.toValue}}this.slider=new Kuoni.Views.Components.RangeSlider(this.queries.getContext(),n,new Kuoni.Views.Components.DistanceFormatter(),"distancetobeach")}}}}if(this.slider!==null&&this.slider.isUsed()){this.getFilterData=this.getFilterDataFromSlider}var o=this;this.queries.getContext().change(function(){o.onSelectionChangedHandler($(this))})};h.prototype.getAllFilterOptions=function(){var i=[];this.queries.getElement().each(function(){i.push($(this).val())});return i};h.prototype.clearLookahead=function(){this.queries.getElement().nextAll(".counter").empty()};h.prototype.onSelectionChangedHandler=function(j){var i=this.getFilterData(j);this.onSelectionChanged.notify(i)};h.prototype.getFilterDataFromSlider=function(i){var j=this.slider.getSlider();return{fromValue:j.slider("values",0),toValue:j.slider("values",1),minValue:j.slider("option","min"),maxValue:j.slider("option","max")}};h.prototype.getSliderType=function(){return this.sliderFilterType};return h})();e.SliderFilterView=f;var g=(function(){function h(i){this.getContext=function(){return i};this.getElement=function(){return i.find("input")};this.getFilterRangeSlider=function(j){return i.find("."+j+"_filter_range_slider")}}return h})();e.SliderFilterViewQueries=g})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));$(document).ready(function(){var u=$("#season_a_b_swapped")&&$("#season_a_b_swapped").length>0;var g=$("#hide_season_a")&&$("#hide_season_a").length>0;var h=$("#hide_season_b")&&$("#hide_season_b").length>0;if(g){$(".season_a").hide()}else{$(".season_b").hide()}var k=$(".is_tour_page_navigation_item.tour-itin-tab span:first").text();var l=$(".is_tour_page_navigation_item.tour-itin-tab a:first").text();var p='<span class="tab_text">'+k+"</span>";var o='<a class="tab_text">'+l+"</a>";$(".not_current.is_tour_page_navigation_item.tour-itin-tab").html(o);$(".current.is_tour_page_navigation_item.tour-itin-tab").html(p);var q=$(".is_safari_page_navigation_item.tour-itin-tab span:first").text();var r=$(".is_safari_page_navigation_item.tour-itin-tab a:first").text();var t='<span class="tab_text">'+q+"</span>";var s='<a class="tab_text">'+r+"</a>";$(".not_current.is_safari_page_navigation_item.tour-itin-tab").html(s);$(".current.is_safari_page_navigation_item.tour-itin-tab").html(t);$(document).on("click",".not_current.is_tour_page_navigation_item.tour-itin-tab a",function(y){y.preventDefault();$(".current.is_tour_page_navigation_item.tour-itin-tab").addClass("switching");$(".current.is_tour_page_navigation_item.tour-itin-tab").removeClass("current");$(".not_current.is_tour_page_navigation_item.tour-itin-tab").addClass("current");$(".not_current.is_tour_page_navigation_item.tour-itin-tab a").replaceTag("<span>",true);$(".not_current.is_tour_page_navigation_item.tour-itin-tab").removeClass("not_current");$(".switching.is_tour_page_navigation_item.tour-itin-tab").addClass("not_current");$(".switching.is_tour_page_navigation_item.tour-itin-tab").removeClass("switching");$(".not_current.is_tour_page_navigation_item.tour-itin-tab span").replaceTag("<a href=#'>",true);$(".season_a").toggle();$(".season_b").toggle();$("#itin-tab").click();$("#itinerary-tab").show();$("#itin-tab").addClass("selected-tab");$("#itinerary-accordian").toggleClass("open").toggleClass("closed")});$(document).on("click",".not_current.is_safari_page_navigation_item.tour-itin-tab a",function(y){y.preventDefault();$(".current.is_safari_page_navigation_item.tour-itin-tab").addClass("switching");$(".current.is_safari_page_navigation_item.tour-itin-tab").removeClass("current");$(".not_current.is_safari_page_navigation_item.tour-itin-tab").addClass("current");$(".not_current.is_safari_page_navigation_item.tour-itin-tab a").replaceTag("<span>",true);$(".not_current.is_safari_page_navigation_item.tour-itin-tab").removeClass("not_current");$(".switching.is_safari_page_navigation_item.tour-itin-tab").addClass("not_current");$(".switching.is_safari_page_navigation_item.tour-itin-tab").removeClass("switching");$(".not_current.is_safari_page_navigation_item.tour-itin-tab span").replaceTag("<a href=#'>",true);$(".season_a").toggle();$(".season_b").toggle();$("#itin-tab").click();$("#itin-tab").addClass("selected-tab");$("#itinerary-accordian").toggleClass("open").toggleClass("closed")});$("#about-tab:visible").toggle();$("#dandi-tab:visible").toggle();var n=$("#itin-tab");var j=$("#itinerary-accordian");var m=$("#itinerary-tab");var c=$("#about-tour-tab");var a=$("#about-accordian");var b=$("#about-tab");var f=$("#dates-and-incs-tab");var d=$("#dandi-accordian");var e=$("#dandi-tab");var i=$("html,body");var x=function(y){if(typeof(y)!=="boolean"){y=true}c.removeClass("selected-tab").addClass("not-selected-tab");a.removeClass("open").addClass("closed");b.hide();f.removeClass("selected-tab").addClass("not-selected-tab");d.removeClass("open").addClass("closed");e.hide();var z=m.is(":visible");if(z){if(y){j.removeClass("open").addClass("closed");n.removeClass("selected-tab").addClass("not-selected-tab");m.hide()}}else{j.removeClass("closed").addClass("open");n.removeClass("not-selected-tab").addClass("selected-tab");m.show()}};var v=function(y){if(typeof(y)!=="boolean"){y=true}n.removeClass("selected-tab").addClass("not-selected-tab");j.removeClass("open").addClass("closed");m.hide();f.removeClass("selected-tab").addClass("not-selected-tab");d.removeClass("open").addClass("closed");e.hide();var z=b.is(":visible");if(z){if(y){a.removeClass("open").addClass("closed");c.removeClass("selected-tab").addClass("not-selected-tab");b.hide()}}else{a.removeClass("closed").addClass("open");c.removeClass("not-selected-tab").addClass("selected-tab");b.show()}};var w=function(y){if(typeof(y)!=="boolean"){y=true}n.removeClass("selected-tab").addClass("not-selected-tab");j.removeClass("open").addClass("closed");m.hide();c.removeClass("selected-tab").addClass("not-selected-tab");a.removeClass("open").addClass("closed");b.hide();var z=e.is(":visible");if(z){if(y){d.removeClass("open").addClass("closed");f.removeClass("selected-tab").addClass("not-selected-tab");e.hide()}}else{d.removeClass("closed").addClass("open");f.removeClass("not-selected-tab").addClass("selected-tab");e.show()}};n.click(function(y){y.preventDefault();x(false)});c.click(function(y){y.preventDefault();v(false)});f.click(function(y){y.preventDefault();w(false)});j.click(function(y){y.preventDefault();x();i.animate({scrollTop:j.offset().top-50})});a.click(function(y){y.preventDefault();v();i.animate({scrollTop:a.offset().top-50})});d.click(function(y){y.preventDefault();w();i.animate({scrollTop:d.offset().top-50})})});$.extend({replaceTag:function(c,f,e){var a=$(c);var d,b=$(f).clone();if(e){newTag=b[0];newTag.className=c.className;$.extend(newTag.classList,c.classList);$.extend(newTag.attributes,c.attributes)}a.wrapAll(b);a.contents().unwrap();return this}});$.fn.extend({replaceTag:function(b,a){return this.each(function(){jQuery.replaceTag(this,b,a)})}});var ts_Kuoni;(function(a){(function(d){(function(f){var e=(function(){function g(k,h,i,j){this.viewContext=k;this.jQuery=h;this.service=i;this.settingsService=j;this.queries={dataSourceDropdown:"select.data_source",departureAirportDropdown:"#departure_airport_drop_down",departureAirportFilterSection:".departure_airport_filter_section",durationFilterSection:".duration_filter_section",durationDropdown:"#duration_drop_down",typeOfTravelFilterSection:".type_of_travel_filter_section",typeOfTravelFilterOptionsWrapper:".type_of_travel_filter_section .options",typeOfTravelCheckbox:".type_of_travel_filter_section input:checked",departureDateDropdown:"#departure_date_drop_down",departureDateFilterSection:".departure_date_filter_section",countryDropdown:"#country_drop_down",countryDropdownOptions:"#country_drop_down option",countryFilterSection:".country_filter_section",tableBody:"tbody",table:".campaign_table",tableHeader:"thead",tableHeaderCells:"th",tableHeaderCellsExceptSegmentation:'th:not([data-column-name="Segmentation"])',departureAirportHeader:"th.departure_airport",departureAirportColumn:"td.departure_airport",priceFilterRangeSlider:".price_filter_range_slider",selectedDataSource:".data_source > option:selected",errorMessage:".error_message"};this.classes={sortAsc:"headerSortDown",sortDesc:"headerSortUp"};this.initializeEvents()}g.prototype.alwaysShowScrollbar=function(){this.jQuery("body").css("overflow-y","scroll")};g.prototype.removeAllRows=function(){this.jQuery(this.queries.tableBody,this.viewContext).empty()};g.prototype.initializeEvents=function(){this.onDataSourceSelectionChanged=new a.Infrastructure.Event();this.onFilterChanged=new a.Infrastructure.Event();this.onSortingChanged=new a.Infrastructure.Event()};g.prototype.hideErrorMessage=function(){this.jQuery(this.queries.errorMessage,this.viewContext).hide()};g.prototype.showErrorMessage=function(){this.jQuery(this.queries.errorMessage,this.viewContext).show()};g.prototype.hideTable=function(){this.jQuery(this.queries.table,this.viewContext).hide()};g.prototype.showTable=function(){this.jQuery(this.queries.table,this.viewContext).show()};g.prototype.getTableBody=function(){return this.jQuery(this.queries.tableBody,this.viewContext)};g.prototype.initializeDataSourceDropdown=function(){var i=this;var h=this.jQuery(this.queries.dataSourceDropdown,this.viewContext);if(this.clientIsNotTouchDevice()){this.initializeMultiselectWidgetInSingleMode(h)}h.change((function(j){i.onDataSourceSelectionChanged.notify(i.getSelectedDataSourceUrl())}).bind(this))};g.prototype.clientIsNotTouchDevice=function(){return window.Modernizr.touch===false};g.prototype.showLoader=function(){this.jQuery(this.viewContext).showLoader()};g.prototype.hideLoader=function(){this.jQuery(this.viewContext).hideLoader()};g.prototype.initializeDropdownWithValues=function(l,j,m){var k=this.jQuery(l,this.viewContext);var i=this.jQuery(j,this.viewContext);var h=i.find("option:first-child");i.empty();i.append(h);$.each(m,function(n,o){i.append($("<option></option>").attr("value",o[0]).text(o[1]))});this.initializeFilterChangedEventListener(i);k.show();if(this.clientIsNotTouchDevice()){this.initializeMultiselectWidgetInSingleMode(i)}};g.prototype.initializeDropdownWithValuesFromObject=function(i,k,j){if(j){var h=i.find("option:first-child");i.empty();i.append(h)}else{i.empty()}$.each(k,function(l,n){var m=$("<option></option>").attr("value",n.query).text(n.label);if(n.selected){m.attr("selected","selected")}i.append(m)})};g.prototype.showDurationFilter=function(h){this.initializeDropdownWithValues(this.queries.durationFilterSection,this.queries.durationDropdown,h)};g.prototype.initializeMultiselectWidgetInSingleMode=function(h){h.multiselect({multiple:false,height:"auto",minWidth:"auto",header:false,selectedList:1,classes:"dropdown_style1"});h.siblings("button").removeAttr("style")};g.prototype.hideDurationFilter=function(){var i=this.jQuery(this.queries.durationFilterSection,this.viewContext);var h=this.jQuery(this.queries.durationDropdown,this.viewContext);i.hide();h.val("")};g.prototype.showDepartureAirportsFilter=function(h){this.initializeDropdownWithValues(this.queries.departureAirportFilterSection,this.queries.departureAirportDropdown,h)};g.prototype.hideDepartureAirportsFilter=function(){var i=this.jQuery(this.queries.departureAirportFilterSection,this.viewContext);var h=this.jQuery(this.queries.departureAirportDropdown,this.viewContext);i.hide();h.val("")};g.prototype.hideTypeOfTravelFilter=function(){var h=this.jQuery(this.queries.typeOfTravelFilterSection,this.viewContext);h.hide()};g.prototype.showTypeOfTravelFilter=function(j){var i=this.jQuery(this.queries.typeOfTravelFilterSection,this.viewContext);var h=this.jQuery(this.queries.typeOfTravelFilterOptionsWrapper,this.viewContext);h.empty();$.each(j,function(k,m){var l=["type_of_travel_",k].join("");$("<span>",{"class":"travel_type_option"}).appendTo(h).append($("<input>").attr("type","checkbox").attr("id",l).attr("value",m[0])).append($("<label>").attr("for",l).text(m[1]))});i.css({display:"block"});this.initializeFilterChangedEventListener(h)};g.prototype.showDepartureDateFilter=function(h){this.initializeDropdownWithValues(this.queries.departureDateFilterSection,this.queries.departureDateDropdown,h)};g.prototype.initializeFilterChangedEventListener=function(i){var h=this;i.off("change");i.change(function(){h.onFilterChanged.notify()})};g.prototype.hideDepartureDateFilter=function(){var i=this.jQuery(this.queries.departureDateFilterSection,this.viewContext);i.hide();var h=this.jQuery(this.queries.departureDateDropdown,this.viewContext);h.val("")};g.prototype.showCountryFilter=function(h){var i=this.jQuery(this.queries.countryDropdown,this.viewContext);var j=this.jQuery(this.queries.countryFilterSection,this.viewContext);j.css({display:"block"});if(this.clientIsNotTouchDevice()){this.initializeDropdownWithValuesFromObject(i,h,true);a.Views.Components.KuoniMultiSelectWidget.Init(i,"dropdown_style1")}else{this.initializeDropdownWithValuesFromObject(i,h,false);this.showBrowserDefaultCountryMultiSelect()}this.initializeFilterChangedEventListener(i)};g.prototype.showBrowserDefaultCountryMultiSelect=function(){this.jQuery(this.queries.countryDropDown,this.viewContext).show()};g.prototype.hideCountryFilter=function(){var i=this.jQuery(this.queries.countryFilterSection,this.viewContext);i.hide();var h=this.jQuery(this.queries.countryDropdown,this.viewContext);h.val("")};g.prototype.initializePriceInputWithLimits=function(j,i){var h=this;this.jQuery(this.queries.priceFilterRangeSlider,this.viewContext).each(function(k,m){var l=h.settingsService.getSettingsFor(m.id);l.maxValue=i;l.minValue=j;h.slider=new Kuoni.Views.Components.RangeSlider(h.viewContext,l,new Kuoni.Views.Components.PriceFormatter(),"price")}).change(function(){h.onFilterChanged.notify()})};g.prototype.getSelectedDataSourceUrl=function(){return this.jQuery(this.queries.selectedDataSource,this.viewContext).val()};g.prototype.updateTableHeaders=function(){var i=this.jQuery(this.queries.tableHeader,this.viewContext);var h=this.jQuery(this.queries.departureAirportHeader,this.viewContext);if(this.jQuery(this.queries.departureAirportColumn,this.viewContext).length<1){i.removeClass("show_departure_airport");h.hide()}else{i.addClass("show_departure_airport");h.show()}};g.prototype.addTableBodyMarkup=function(h){this.getTableBody().append(h)};g.prototype.getFilterDepartureAirport=function(){return this.jQuery(this.queries.departureAirportDropdown,this.viewContext).val()};g.prototype.getFilterTypeOfTravel=function(){var h=this.jQuery(this.queries.typeOfTravelCheckbox,this.viewContext);var i=[];h.each(function(k,j){i.push(j.value)});return i};g.prototype.getFilterDuration=function(){return this.jQuery(this.queries.durationDropdown,this.viewContext).val()};g.prototype.getFilterDepartureDate=function(){return this.jQuery(this.queries.departureDateDropdown,this.viewContext).val()};g.prototype.getFilterCountry=function(){var i=this.jQuery(this.queries.countryDropdownOptions,this.viewContext);var h=[];i.each(function(k,j){if($(j).prop("selected")){h.push(j.value)}});return h};g.prototype.getFilterPriceRange=function(){var h=this.slider.getSlider();return{fromPrice:h.slider("values",0),toPrice:h.slider("values",1),minPrice:h.slider("option","min"),maxPrice:h.slider("option","max")}};g.prototype.initializeSorting=function(){var h=this;this.jQuery(this.queries.tableHeaderCellsExceptSegmentation,this.viewContext).click(function(i){h.onSortingChanged.notify(h.jQuery(i.currentTarget).data("column-name"))})};g.prototype.highlightSortingHeader=function(h){this.jQuery(this.queries.tableHeaderCells).removeClass(this.classes.sortAsc).removeClass(this.classes.sortDesc);this.jQuery(this.queries.tableHeaderCells+'[data-column-name="'+h.orderField+'"]',this.viewContext).addClass(h.orderDesc?this.classes.sortDesc:this.classes.sortAsc)};return g})();f.CampaignPartView=e})(d.Parts||(d.Parts={}));var c=d.Parts})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){(function(e){var f=(function(){function h(i){this.queries=i;this.initializeEvents();this.setupListeners()}h.prototype.initializeEvents=function(){this.onSectionHeaderClicked=new a.Infrastructure.Event()};h.prototype.setupListeners=function(){var i=this;this.queries.getSectionHeadersWithoutLinks().click(function(j){var k=$(j.currentTarget);var l=i.queries.getSectionId(k);i.onSectionHeaderClicked.notify(l)})};h.prototype.hideAllSections=function(){this.removeSelectedClassFromAllSectionHeaders();this.queries.getSections().hide()};h.prototype.removeSelectedClassFromAllSectionHeaders=function(){this.queries.getSectionHeadersWithoutLinks().removeClass("selected")};h.prototype.showSection=function(i){setTimeout(function(){this.queries.getSection(i).fadeIn({queue:false});this.queries.getSectionHeader(i).addClass("selected")}.bind(this),1)};return h})();e.TabContainerPartView=f;var g=(function(){function h(i){this.getSections=function(){return i.find(".sectionContent")};this.getSectionHeadersWithoutLinks=function(){return i.find('.sections li a[data-section-type="ajax"]')};this.getSectionHeader=function(j){return i.find('.sections li a[data-section-id="'+j+'"]')};this.getSectionId=function(j){return j.data("section-id")};this.getSection=function(j){return i.find('.sectionContent[data-section-id="'+j+'"]')}}return h})();e.TabContainerPartViewQueries=g})(d.Parts||(d.Parts={}));var c=d.Parts})(a.Views||(a.Views={}));var b=a.Views})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(d){var c=(function(){function e(g,i,h){var f=this;this.currentId=0;this.ignoreHashChange=false;this.searchQuery=ko.observable();this.searchQueryDelayed=ko.pureComputed(this.searchQuery).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:400}});this.lastSearchedFor=ko.observable();this.haveDefaultItems=false;this.loading=ko.observable(false);this.hasRun=ko.observable(false);this.success=ko.observable(true);this.errorMessage=ko.observable("Search is currently unavailable, please try again later.");this.hasResults=ko.observable(false);this.results=ko.observableArray([]);this.selectedResult=ko.observable(null);this.showDefaults=ko.observable(true);this.showResults=ko.observable(false);this.showQuickResults=ko.observable(false);this.loadingPages=ko.observable(false);this.loadedPages=ko.observable(false);this.havePageResults=ko.observable(false);this.pageResults=ko.observableArray([]);this.onSearchQueryEnter=function(k,j){if(j.keyCode===13){f.search()}return true};this.search=function(){if(f.options.resultsPageUrl&&typeof(f.options.resultsPageUrl)==="string"&&f.options.resultsPageUrl!==null&&f.options.resultsPageUrl!==""&&f.options.resultsPageUrl[0]==="/"){var j=window.location.pathname;if(j!==f.options.resultsPageUrl){var k=f.options.resultsPageUrl+f.getHash(f.searchQuery());window.location.href=k;return}}f.doSearch(f.searchQuery(),true)};this.selectResult=function(l){if(!l||f.selectedResult()===l){f.selectedResult(null);if(f.options.updateHashOnSearch){f.setHash(f.searchQuery())}f.scrollToTop();return}if(f.options.resultsPageUrl&&typeof(f.options.resultsPageUrl)==="string"&&f.options.resultsPageUrl!==null&&f.options.resultsPageUrl!==""&&f.options.resultsPageUrl[0]==="/"&&l.link&&l.link.href&&typeof(l.link.href)==="string"&&l.link.href!==null&&l.link.href!==""&&l.link.href[0]==="/"){var j=window.location.pathname;if(j!==f.options.resultsPageUrl){var k=f.options.resultsPageUrl+f.getHash(f.searchQuery(),l.link.href,true);window.location.href=k;return}}f.selectedResult(l);f.scrollToTop();if(f.options.updateHashOnSearch&&l.link&&l.link.href&&typeof(l.link.href)==="string"&&l.link.href!==null&&l.link.href!==""&&l.link.href[0]==="/"){f.setHash(f.searchQuery(),l.link.href)}};this.redirectToResult=function(j){if(!j||!j.link||!j.link.href||typeof(j.link.href)!=="string"||j.link.href===null||j.link.href===""||j.link.href[0]!=="/"){return}if(f.options.resultsPageUrl&&typeof(f.options.resultsPageUrl)==="string"&&f.options.resultsPageUrl!==null&&f.options.resultsPageUrl!==""&&f.options.resultsPageUrl[0]==="/"){window.location.href=f.options.resultsPageUrl+f.getHash(f.searchQuery(),j.link.href,true);return}window.location.href=j.link.href+f.getHash(f.searchQuery());return};this.scrollToTop=function(){var k="#top";var j=$(k);$("html, body").stop().animate({scrollTop:j.offset().top},200,"swing")};this.faqsSearchService=g;this.siteSearchService=i;this.options=h;if($(".from-server").length>0){this.haveDefaultItems=true}if(typeof(h.searchQuery)==="string"&&h.searchQuery!==null&&h.searchQuery!==""){$(".search .clearable").addClass("x");this.searchQuery(h.searchQuery);this.doSearch(this.searchQuery(),true,h.selectedResult)}if(this.options.searchWhenTyping){this.searchQueryDelayed.subscribe(function(j){f.doSearch(j)})}if(this.options.searchOnHashChange){$(window).on("hashchange",function(){if(f.ignoreHashChange){return}var j=new a.Infrastructure.HashParameterParser(window.location.hash);var l=j.getParameterByName("q")||"";var k=typeof(l)==="string"&&l!==""&&l!==f.lastSearchedFor();if(k){f.doSearch(l);f.searchQuery(l)}})}$("body").on("click",function(){f.showQuickResults(false)});this.initialiseClearButton();this.notSelectedResults=ko.computed(function(){var j=f.selectedResult();if(!j){return f.results()}else{return ko.utils.arrayFilter(f.results(),function(k){return(k!==j)})}});this.haveNotSelectedResults=ko.computed(function(){var j=f.notSelectedResults();if(j&&typeof(j)==="object"&&typeof(j.length)==="number"&&j.length>0){return true}return false})}e.prototype.initialiseClearButton=function(){this.searchQuery.subscribe(function(h){var g=$(".dynamic-faqs-search .clearable");if(typeof(h)==="string"&&h!==null&&h!==""&&h!=="Search..."){g.addClass("x")}else{g.removeClass("x")}});var f=$(".dynamic-faqs-search");f.on("mousemove",".x",function(g){var i=this.offsetWidth-105;var k=this.offsetWidth-75;var j=g.clientX-this.getBoundingClientRect().left;var h=i<j&&k>j;if(h){$(this).addClass("onX")}else{$(this).removeClass("onX")}}).on("touchstart click",".onX",function(g){g.preventDefault();$(this).removeClass("x onX").val("").change()}).on("touchstart click",".x",function(i){var h=i.clientX;var r=i.screenX;var p=i.originalEvent;var s=p.touches;if(typeof(s)==="object"&&typeof(s.length)==="number"&&s.length>0){h=s[0].clientX;r=s[0].screenX}var k=$(this);var o=this.offsetWidth;var l=o-105;var q=o-75;var g=this.getBoundingClientRect().left;var m=h-g;if(typeof(r)==="number"&&r){if(r-h<50){var n=k.offset().left;m=r-n;l=l-5}}var j=l<m&&q>m;if(j){i.preventDefault();k.removeClass("x onX").val("").change()}})};e.prototype.clearResults=function(){this.results.removeAll();this.hasResults(false);this.success(true);this.loading(false);this.pageResults.removeAll();this.havePageResults(false);this.loadingPages(false);this.loadedPages(false);this.showResults(true);this.showQuickResults(true);this.showDefaults(false)};e.prototype.getNextSearchId=function(){this.currentId++;if(this.currentId>100){this.currentId=0}return this.currentId};e.prototype.doSearch=function(j,g,k){var f=this;if(typeof(g)!=="boolean"){g=false}if(typeof(j)!=="string"||j===null||j===""||!j){j=""}if(j==="Search..."){return}var h=typeof(j)==="string"&&j!==this.lastSearchedFor();if(!g&&h===false){return}if(j===""){this.getNextSearchId();this.loading(false);this.showDefaults(true);this.showResults(false);this.showQuickResults(false)}this.lastSearchedFor(j);if(j.length<3){return}var i=this.getNextSearchId();this.loading(true);if(this.options.updateHashOnSearch){this.setHash(j,k)}this.faqsSearchService.search(j).done(function(l){if(f.currentId!==i){return}f.hasRun(true);if(l.hasResults){f.populateResults(l,k)}else{f.populateNoResults()}f.loading(false);f.showResults(true);f.showQuickResults(true);f.showDefaults(false)}).fail(function(m){if(f.currentId!==i){return}var l={searchText:j,searchSuccess:false,errorMessage:m.toString()};f.populateResults(l);f.loading(false);f.showResults(true);f.showQuickResults(true);f.showDefaults(false)});if(this.options.searchForRelatedPages){this.loadingPages(true);this.siteSearchService.search(j).done(function(p){if(f.currentId!==i){return}if(p.hasResults){var m=0;var o=[];var n=typeof(p.orderedResults)==="object"&&typeof(p.orderedResults.length)==="number"?p.orderedResults.length:0;if(n>0){for(var l=0;l<n;l++){o.push(p.orderedResults[l]);m++;if(m>=f.options.maxPageResults){break}}}f.havePageResults(m>0);f.pageResults(o)}else{f.havePageResults(false);f.pageResults.removeAll()}f.loadedPages(true);f.loadingPages(false)}).fail(function(){if(f.currentId!==i){return}f.havePageResults(false);f.pageResults.removeAll();f.loadedPages(true);f.loadingPages(false)})}};e.prototype.populateNoResults=function(){this.clearResults();this.loading(false)};e.prototype.populateResults=function(q,v){var t=q&&typeof(q.searchSuccess)==="boolean"&&q.searchSuccess;this.success(t);var g="Search is currently unavailable, please try again later.";if(q&&typeof(q.errorMessage)==="string"){g=q.errorMessage}this.errorMessage(g);var h=q&&typeof(q.hasResults)==="boolean"&&q.hasResults;this.hasResults(h);this.results.removeAll();var j=false;this.selectedResult(null);if(q&&typeof(q.results)==="object"&&typeof(q.results.length)==="number"&&q.results.length>0){var r=q.results;var s=r.length;var o=this.options.resultsPageUrl+v;var u=null;for(var k=0;k<s;k++){var p=r[k];if(typeof(p.relatedLinks)==="object"&&typeof(p.relatedLinks.length)==="number"){p.hasRelatedLinks=p.relatedLinks.length>0}else{p.relatedLinks=[];p.hasRelatedLinks=false}if(p.link.href===v||p.link.href===o){u=p;j=true}}if(typeof(this.options.maxFaqResults)==="number"&&this.options.maxFaqResults>=0){var l=[];if(this.options.maxFaqResults===0){r=l}else{var f=false;var m=this.options.maxFaqResults;var n=m-1;for(var k=0;k<s;k++){var p=r[k];if(p===u){l.push(p);f=true}else{if((!j&&k<m)||(j&&(f||k<n))){l.push(p)}}if(((!j||(j&&f))&&k>=n)){break}}r=l}}this.selectedResult(u);this.results(r)}};e.prototype.encodeAndStripResultsPageFromUrl=function(g){if(typeof(g)!=="string"||g===null||g===""){return null}var f=encodeURIComponent(g).split("%2F").join("/");if(this.options.resultsPageUrl&&typeof(this.options.resultsPageUrl)==="string"&&this.options.resultsPageUrl!==null&&this.options.resultsPageUrl!==""&&f.length>this.options.resultsPageUrl.length&&f.substring(0,this.options.resultsPageUrl.length)===this.options.resultsPageUrl){f=f.substring(this.options.resultsPageUrl.length)}return f};e.prototype.getHash=function(j,k,h){if(typeof h==="undefined"){h=false}var i="";if(typeof(j)==="string"&&j!==null&&j!==""){i="#!q="+encodeURIComponent(j);if(typeof(k)==="string"&&k!==null&&k!==""){var g=this.encodeAndStripResultsPageFromUrl(k);var f=this.encodeAndStripResultsPageFromUrl(window.location.pathname);if(h||f!==g){i+="&sr="+g}}}return i};e.prototype.setHash=function(h,i){var f=this;var g=this.getHash(h,i);this.ignoreHashChange=true;if(g===""){if(history&&typeof(history.pushState)==="function"){history.pushState("",document.title,window.location.pathname)}else{window.location.hash=g}}else{window.location.hash=g}window.setTimeout(function(){f.ignoreHashChange=false},250)};return e})();d.DynamicFaqsSearchViewModel=c})(a.ViewModels||(a.ViewModels={}));var b=a.ViewModels})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(a){(function(g){var f=(function(){function h(m,l,n,j){var i=this;this.ignoreHashChange=false;this.searchQuery=ko.observable();this.typeFilter=ko.observable();this.searchQueryDelayed=ko.pureComputed(this.searchQuery).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:400}});this.lastSearchedFor=ko.observable();this.loading=ko.observable(false);this.searchResults=new e(this);this.currentId=0;this.onSearchQueryEnter=function(p,o){if(o.keyCode===13){i.forceSearch()}return true};this.forceSearch=function(){i.doSearch(i.searchQuery(),i.typeFilter(),c.All,true)};this.search=function(){i.doSearch(i.searchQuery(),i.typeFilter())};this.setHash=function(q,o){var p="";if(typeof(q)==="string"&&q!==null&&q!==""){p="#!q="+encodeURIComponent(q)}o=i.parseCategoryFilter(o);if(o!==c.All){if(p.length===0){p="#!"}else{p+="&"}p+="cf="+o}var r=i.typeFilter();if(typeof(r)==="string"&&r!==null&&r!==""){if(p.length===0){p="#!"}else{p+="&"}p+="typeFilter="+r}i.ignoreHashChange=true;if(p===""){if(history&&typeof(history.pushState)==="function"){history.pushState("",document.title,window.location.pathname)}else{window.location.hash=p}}else{window.location.hash=p}window.setTimeout(function(){i.ignoreHashChange=false},250)};this.scrollToTop=function(){var p="#top";var o=$(p);$("html, body").stop().animate({scrollTop:o.offset().top},200,"swing")};this.searchService=m;j=this.parseCategoryFilter(j);if(typeof(n)==="string"){this.typeFilter(n)}if(typeof(l)==="string"&&l!==null&&l!==""){$(".search .clearable").addClass("x");this.searchQuery(l);this.doSearch(this.searchQuery(),this.typeFilter(),j)}else{this.populateNoResults()}this.searchQueryDelayed.subscribe(function(o){i.doSearch(o,i.typeFilter())});$(window).on("hashchange",function(){if(i.ignoreHashChange){return}var o=new a.Infrastructure.HashParameterParser(window.location.hash);var s=o.getParameterByName("q")||"";var t=o.getParameterByName("typeFilter")||"";var r=i.parseCategoryFilter(o.getParameterByName("cf"));var p=typeof(s)==="string"&&s!==""&&s!==i.lastSearchedFor();var q=typeof(t)==="string"&&t!==i.typeFilter();if(p||q){i.doSearch(s,t,r);i.searchQuery(s)}else{i.searchResults.currentFilter(r)}});this.searchQuery.subscribe(function(p){var o=$(".search .clearable");if(typeof(p)==="string"&&p!==null&&p!==""&&p!=="Search..."){o.addClass("x")}else{o.removeClass("x")}});var k=$(".search");k.on("mousemove",".x",function(o){var q=this.offsetWidth-105;var s=this.offsetWidth-75;var r=o.clientX-this.getBoundingClientRect().left;var p=q<r&&s>r;if(p){$(this).addClass("onX")}else{$(this).removeClass("onX")}}).on("touchstart click",".onX",function(o){o.preventDefault();$(this).removeClass("x onX").val("").change()}).on("touchstart click",".x",function(q){var p=q.clientX;var z=q.screenX;var x=q.originalEvent;var A=x.touches;if(typeof(A)==="object"&&typeof(A.length)==="number"&&A.length>0){p=A[0].clientX;z=A[0].screenX}var s=$(this);var w=this.offsetWidth;var t=w-105;var y=w-75;var o=this.getBoundingClientRect().left;var u=p-o;if(typeof(z)==="number"&&z!==null&&(z)!==""){if(z-p<50){var v=s.offset().left;u=z-v;t=t-5}}var r=t<u&&y>u;if(r){q.preventDefault();s.removeClass("x onX").val("").change()}})}h.prototype.parseCategoryFilter=function(i){if(typeof(i)==="number"&&i!==null&&isNaN(i)===false){if(typeof c[i]==="undefined"){i=c.All}}else{if(typeof(i)==="string"&&i!==null&&i!==""){var j=parseInt(i,10);if(typeof c[j]==="undefined"){i=c.All}else{i=j}}else{i=c.All}}return i};h.prototype.clearResults=function(){this.searchResults.clearResults()};h.prototype.getNextSearchId=function(){this.currentId++;if(this.currentId>100){this.currentId=0}return this.currentId};h.prototype.doSearch=function(p,q,j,k){var i=this;if(typeof(k)!=="boolean"){k=false}if(typeof(p)!=="string"||p===null||p===""||!p){p=""}if(p==="Search..."){return}if(typeof(q)!=="string"){q=this.typeFilter()}j=this.parseCategoryFilter(j);var m=typeof(p)==="string"&&p!==this.lastSearchedFor();var n=typeof(q)==="string"&&q!==this.typeFilter();var l=typeof(j)==="number"&&j!==this.searchResults.currentFilter();if(!k&&m===false&&n===false&&l===false){return}if(p===""){this.getNextSearchId();this.loading(false)}this.lastSearchedFor(p);if(p.length<3){return}var o=this.getNextSearchId();this.loading(true);this.searchService.search(p,q).done(function(r){if(i.currentId!==o){return}if(r.hasResults){i.searchResults.populate(r,j);i.loading(false)}else{i.populateNoResults(p)}}).fail(function(s){if(i.currentId!==o){return}var r={searchQuery:p,searchSuccess:false,errorMessage:s.toString()};i.searchResults.populate(r,c.All);i.loading(false)})};h.prototype.populateNoResults=function(k){var i=this;if(typeof(k)!=="string"||k===null||k===""){k=""}var j=this.getNextSearchId();this.loading(true);this.searchService.getNoResults().done(function(l){if(i.currentId!==j){return}var m={searchQuery:k,searchSuccess:true,highPriorityResults:[],travelAreaResults:l.travelAreaResults,productResults:l.productResults,inspirationResults:l.inspirationResults,otherResults:l.otherResults};if(typeof(l.headerText)==="string"&&l.headerText!==null&&l.headerText!==""){i.searchResults.noResultsTitle(l.headerText)}i.searchResults.populate(m,c.All);i.loading(false)}).fail(function(m){if(i.currentId!==j){return}var l={searchQuery:k,searchSuccess:false,errorMessage:m.toString()};i.searchResults.populate(l,c.All);i.loading(false)})};return h})();g.SiteSearchViewModel=f;var e=(function(){function h(j){var i=this;this.searchQuery=ko.observable();this.searchSuccess=ko.observable(true);this.errorMessage=ko.observable();this.noResultsTitle=ko.observable("Sorry your search returned no results");this.doneSearch=ko.observable(false);this.highPriorityResults=new d(this,c.HighPriority,6,null,null,"search-dynamic-template",null,true,6);this.travelAreaResults=new d(this,c.TravelArea,3,"Destinations","icon-world-big","search-travelarearesult-template");this.productResults=new d(this,c.Product,6,"Hotels & Holidays","icon-case-big","search-product-template");this.inspirationResults=new d(this,c.Inspiration,4,"Inspiration","icon-bulb-big","search-inspiration-template");this.otherResults=new d(this,c.Other,12,"More Results",null,"search-other-template",null,true,6);this.haveResults=ko.observable(false);this.currentFilter=ko.observable(c.All);this.isAllFilter=ko.pureComputed(function(){return i.currentFilter()===c.All});this.isHighPriorityFilter=ko.pureComputed(function(){return i.currentFilter()===c.HighPriority});this.isTravelAreaFilter=ko.pureComputed(function(){return i.currentFilter()===c.TravelArea});this.isProductFilter=ko.pureComputed(function(){return i.currentFilter()===c.Product});this.isInspirationFilter=ko.pureComputed(function(){return i.currentFilter()===c.Inspiration});this.isOtherFilter=ko.pureComputed(function(){return i.currentFilter()===c.Other});this.showHighPriorityResults=ko.pureComputed(function(){return i.isAllFilter()||i.isHighPriorityFilter()});this.showTravelAreaResults=ko.pureComputed(function(){return i.isAllFilter()||i.isTravelAreaFilter()});this.showProductResults=ko.pureComputed(function(){return i.isAllFilter()||i.isProductFilter()});this.showInspirationResults=ko.pureComputed(function(){return i.isAllFilter()||i.isInspirationFilter()});this.showOtherResults=ko.pureComputed(function(){return i.isAllFilter()||i.isOtherFilter()});this.clearResults=function(){i.highPriorityResults.clearResults();i.travelAreaResults.clearResults();i.productResults.clearResults();i.inspirationResults.clearResults();i.otherResults.clearResults();i.setAllFilter()};this.populate=function(l,k){if(typeof(l)==="undefined"||l==null){return}if(typeof(l.redirect)==="boolean"&&l.redirect&&typeof(l.redirectUrl)==="string"&&l.redirectUrl!==null&&l.redirectUrl!==""){if(l.redirectUrl[0]==="/"){window.location.href=l.redirectUrl}return}i.doneSearch(true);i.searchQuery(l.searchQuery);i.searchSuccess(l.searchSuccess);i.haveResults(l.hasResults);if(!l.searchSuccess){i.clearResults();if(typeof(l.errorMessage)!=="string"||l.errorMessage===null||l.errorMessage===""){l.errorMessage="Search is currently unavailable, please try again later."}i.errorMessage(l.errorMessage)}else{i.errorMessage(null);i.highPriorityResults.setResults(l.highPriorityResults);i.travelAreaResults.setResults(l.travelAreaResults);i.productResults.setResults(l.productResults);i.inspirationResults.setResults(l.inspirationResults);i.otherResults.setResults(l.otherResults);if(typeof(k)==="number"&&k!==null&&isNaN(k)===false){if(typeof c[k]!=="undefined"){i.currentFilter(k)}}}};this.setAllFilter=function(){i.currentFilter(c.All)};this.parent=j;this.currentFilter.subscribe(function(k){if(k===c.All){i.highPriorityResults.showAllResults(false);i.travelAreaResults.showAllResults(false);i.productResults.showAllResults(false);i.inspirationResults.showAllResults(false);i.otherResults.showAllResults(false)}else{if(k===c.HighPriority){if(i.highPriorityResults.haveResults()===false){i.setAllFilter();return}i.highPriorityResults.showAllResults(true);i.travelAreaResults.showAllResults(false);i.productResults.showAllResults(false);i.inspirationResults.showAllResults(false);i.otherResults.showAllResults(false)}else{if(k===c.TravelArea){if(i.travelAreaResults.haveResults()===false){i.setAllFilter();return}i.highPriorityResults.showAllResults(false);i.travelAreaResults.showAllResults(true);i.productResults.showAllResults(false);i.inspirationResults.showAllResults(false);i.otherResults.showAllResults(false)}else{if(k===c.Product){if(i.productResults.haveResults()===false){i.setAllFilter();return}i.highPriorityResults.showAllResults(false);i.travelAreaResults.showAllResults(false);i.productResults.showAllResults(true);i.inspirationResults.showAllResults(false);i.otherResults.showAllResults(false)}else{if(k===c.Inspiration){if(i.inspirationResults.haveResults()===false){i.setAllFilter();return}i.highPriorityResults.showAllResults(false);i.travelAreaResults.showAllResults(false);i.productResults.showAllResults(false);i.inspirationResults.showAllResults(true);i.otherResults.showAllResults(false)}else{if(k===c.Other){if(i.otherResults.haveResults()===false){i.setAllFilter();return}i.highPriorityResults.showAllResults(false);i.travelAreaResults.showAllResults(false);i.productResults.showAllResults(false);i.inspirationResults.showAllResults(false);i.otherResults.showAllResults(true)}else{i.setAllFilter();return}}}}}}i.parent.setHash(i.searchQuery(),k);i.parent.scrollToTop()});this.searchQuery.subscribe(function(k){i.parent.setHash(k,i.currentFilter())});this.showFilters=ko.pureComputed(function(){if(i.travelAreaResults.haveResults()){return true}if(i.productResults.haveResults()){return true}if(i.inspirationResults.haveResults()){return true}return false})}return h})();g.SiteSearchResultsViewModel=e;var d=(function(){function h(m,k,p,q,l,o,n,j,r){if(typeof j==="undefined"){j=false}if(typeof r==="undefined"){r=3}var i=this;this.title=ko.observable();this.iconClass=ko.observable();this.resultTemplateName=ko.observable("search-travelarearesult-template");this.tasterLimit=ko.observable(3);this.allResults=ko.observableArray([]);this.showAllResults=ko.observable(false);this.asViewMore=ko.observable(false);this.viewMoreLimit=ko.observable(3);this.viewMoreIncrement=ko.observable(3);this.setTasterLimit=function(s){if(typeof(s)==="number"&&s!==null&&!isNaN(s)){i.tasterLimit(s)}else{i.tasterLimit(3)}};this.setResults=function(s){if(typeof(s)==="undefined"||s==null||typeof(s.length)!=="number"||s.length<=0){i.clearResults();return}i.viewMoreLimit(i.tasterLimit());i.allResults(s);i.allResults.notifySubscribers()};this.clearResults=function(){i.allResults.removeAll()};this.viewAll=function(){i.parent.currentFilter(i.filterType)};this.viewMore=function(){i.viewMoreLimit(i.viewMoreLimit()+i.viewMoreIncrement())};this.parent=m;this.filterType=k;this.setTasterLimit(p);this.title(q);this.iconClass(l);this.setResults(n);if(typeof(o)==="string"&&o!==null&&o!==""){this.resultTemplateName(o)}this.categoryTemplateName=ko.pureComputed(function(){var s=i.asViewMore()?"search-category-viewmore-template":"search-category-template";return s});this.hasTitle=ko.pureComputed(function(){var s=i.title();if(typeof(s)==="string"&&s!==null&&s!==""){return true}return false});this.hasIconClass=ko.pureComputed(function(){var s=i.iconClass();if(typeof(s)==="string"&&s!==null&&s!==""){return true}return false});if(typeof(j)==="boolean"){this.asViewMore(j)}this.viewMoreLimit(this.tasterLimit());this.viewMoreIncrement(r);this.resultsCount=ko.pureComputed(function(){return i.allResults().length});this.haveResults=ko.pureComputed(function(){return i.resultsCount()>0});this.tasterResults=ko.pureComputed(function(){return i.allResults.slice(0,i.tasterLimit())});this.showViewAll=ko.pureComputed(function(){if(i.asViewMore()){return false}if(i.showAllResults()){return false}return i.resultsCount()>i.tasterResults().length});this.resultsToShow=ko.pureComputed(function(){if(i.asViewMore()){return i.allResults().slice(0,i.viewMoreLimit())}else{if(i.showAllResults()){return i.allResults()}return i.tasterResults()}});this.viewMoreCount=ko.pureComputed(function(){if(i.asViewMore()===false){return 0}var s=i.resultsCount();var u=i.viewMoreLimit();var t=s-u;if(t<0){t=0}return t});this.showViewMore=ko.pureComputed(function(){return i.viewMoreCount()>0});this.showTitleBar=ko.pureComputed(function(){var t=i.hasTitle();if(t){return true}var s=i.hasIconClass();if(s){return true}var u=i.showViewAll();if(u){return true}return false})}return h})();g.SiteSearchCategoryResultsViewModel=d;(function(h){h[h.All=0]="All";h[h.HighPriority=1]="HighPriority";h[h.TravelArea=2]="TravelArea";h[h.Product=3]="Product";h[h.Inspiration=4]="Inspiration";h[h.Other=5]="Other"})(g.SiteSearchCategoryFilterType||(g.SiteSearchCategoryFilterType={}));var c=g.SiteSearchCategoryFilterType})(a.ViewModels||(a.ViewModels={}));var b=a.ViewModels})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(h){this._restClient=h;this._requests=[]}g.prototype.getItems=function(j,h,i){var k=$.Deferred();var l=[];_.each(j,function(m){var n=$.Deferred(function(q,o,p,r){this._requests.push(this._createRequest(m,o,p,r))}.bind(this,m,h,i)).promise();l.push(n);return false},this);$.when.apply(this,l).done(function(){k.resolve()});return k.promise()};g.prototype._createRequest=function(k,i,j,l){var h=this;return this._restClient.get("/ListItem/Brochure/"+k).success(function(m){i(m);l.resolve()}).error(j).complete(function(n){var m=h._requests.indexOf(n);h._requests.splice(m,1)})};g.prototype.abortOngoingRequests=function(){var h=_.clone(this._requests);_.each(h,function(i){i.abort()})};return g})();e.BrochureListItemService=f})(d.Brochure||(d.Brochure={}));var c=d.Brochure})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(h,g,f){this.restClient=h;this.noOfItemsInChunk=g;this.baseUrl=f}e.prototype.getChunk=function(f,j,i,h){this.abortMostRecentRequest();var g=$.Deferred();var l=f*this.noOfItemsInChunk;var k=typeof j==="undefined"?"":j.toString();var m=[this.baseUrl,"?",k,"&$top=",this.noOfItemsInChunk.toString(),"&$skip=",l.toString(),"&$orderby=",i.toODataString()].join("");if(h.hasFilters()){m+=h.toODataString()}this.mostRecentRequest=this.restClient.ajax({url:m,statusCode:{200:function(n){g.resolve(false,n)},204:function(){g.resolve(true)}}});return g.promise()};e.prototype.abortMostRecentRequest=function(){if(typeof(this.mostRecentRequest)!=="undefined"){this.mostRecentRequest.abort()}};return e})();d.ChunkService=c})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(i){var h=this;this.search=function(j){return h.createSearchRequest(j)};this.restClient=i;this.requests=[]}g.prototype.createSearchRequest=function(k){var h=jQuery.Deferred();var i=encodeURIComponent(k);var l="/faqs/search?q="+i;var j=this.restClient.get(l);this.requests.push(j);j.done(function(m){h.resolve(m)}).fail(function(n,o,m){h.reject(m)});return h.promise()};g.prototype.abortOngoingRequests=function(){var h=_.clone(this.requests);_.each(h,function(i){i.abort()})};return g})();e.DynamicFaqsSearchService=f;e.serviceInstance=new b.Services.DynamicFaqsSearch.DynamicFaqsSearchService($)})(d.DynamicFaqsSearch||(d.DynamicFaqsSearch={}));var c=d.DynamicFaqsSearch})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(h){this._restClient=h;this._requests=[]}g.prototype.getItems=function(j,h,i){var k=$.Deferred();var l=[];_.each(j,function(m){var n=$.Deferred(function(q,o,p,r){this._requests.push(this._createRequest(m,o,p,r))}.bind(this,m,h,i)).promise();l.push(n);return false},this);$.when.apply(this,l).done(function(){k.resolve()});return k.promise()};g.prototype._createRequest=function(k,i,j,l){var h=this;return this._restClient.get("/ListItem/Inspirations/"+k).success(function(m){i(m);l.resolve()}).error(j).complete(function(n){var m=h._requests.indexOf(n);h._requests.splice(m,1)})};g.prototype.abortOngoingRequests=function(){var h=_.clone(this._requests);_.each(h,function(i){i.abort()})};return g})();e.InspirationsListItemService=f})(d.Inspirations||(d.Inspirations={}));var c=d.Inspirations})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){var c=(function(){function e(){}e.prototype.getJson=function(h,f){if(typeof(b.Services.JsonService.serviceCache[h])!=="undefined"){f(b.Services.JsonService.serviceCache[h]);return}var g=b.Repository.getItem(h);if(typeof(g)!=="undefined"){f(g);return}$.getJSON(h).done(function(i){b.Services.JsonService.serviceCache[h]=i;f(i)})};e.serviceCache={};return e})();d.JsonService=c})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(i){var h=this;this.offerGroupsCache={};this.offerCache={};this.offerGroupObservables={};this.offerObservables={};this.loadOfferGroup=function(k){var j=jQuery.Deferred();h.createRequest(k).done(function(l){h.populateOfferGroupsCache(k,l);j.resolve(l)}).fail(function(l){j.reject(l)});return j.promise()};this.getOfferGroup=function(k){var j=jQuery.Deferred();if(_.has(h.offerGroupsCache,k)){j.resolve(h.offerGroupsCache[k])}else{h.loadOfferGroup(k).done(function(){j.resolve(h.offerGroupsCache[k])}).fail(function(l){j.reject(l)})}return j.promise()};this.loaded=function(j){return _.has(h.offerGroupsCache,j)};this.offerGroup=function(j){if(_.has(h.offerGroupObservables,j)===false){h.offerGroupObservables[j]=ko.observableArray([]);h.getOfferGroup(j)}return h.offerGroupObservables[j]};this.loadAllOffers=function(){var j=jQuery.Deferred();var k={};h.createRequest().done(function(n){$.each(n,function(o,p){if(_.has(k,p.OfferGroupId)===false){k[p.OfferGroupId]=[]}k[p.OfferGroupId].push(p);h.populateOfferCache(p)});h.offerGroupsCache=k;for(var l in k){if(k.hasOwnProperty(l)){var m=k[l];if(_.has(h.offerGroupObservables,l)===false){h.offerGroupObservables[l]=ko.observableArray([])}h.offerGroupObservables[l](m)}}j.resolve(h.offerGroupsCache)}).fail(function(l){j.reject(l)});return j.promise()};this.offer=function(j,l){var k=j+"_"+l;if(_.has(h.offerObservables,k)===false){h.offerObservables[k]=ko.observable(null);h.getOffer(j,l)}return h.offerObservables[k]};this.restClient=i;this.requests=[]}g.prototype.createRequest=function(i){var h=jQuery.Deferred();var k=i?("/ajax/offers/"+i):"/ajax/offers";var j=this.restClient.get(k);this.requests.push(j);j.done(function(l){h.resolve(l)}).fail(function(m,n,l){h.reject(l)});return h.promise()};g.prototype.abortOngoingRequests=function(){var h=_.clone(this.requests);_.each(h,function(i){i.abort()})};g.prototype.populateOfferCache=function(h){var i=h.OfferGroupId+"_"+h.Order;this.offerCache[i]=h;if(_.has(this.offerObservables,i)===false){this.offerObservables[i]=ko.observable(null)}this.offerObservables[i](h)};g.prototype.populateOffersCache=function(i){var h=this;$.each(i,function(j,k){h.populateOfferCache(k)})};g.prototype.populateOfferGroupsCache=function(h,i){this.offerGroupsCache[h]=i;this.populateOffersCache(i);if(_.has(this.offerGroupObservables,h)===false){this.offerGroupObservables[h]=ko.observableArray([])}this.offerGroupObservables[h](i)};g.prototype.getOffer=function(j,l){var h=this;var i=jQuery.Deferred();var k=j+"_"+l;if(_.has(this.offerCache,k)){i.resolve(this.offerCache[k])}else{this.getOfferGroup(j).done(function(){i.resolve(h.offerCache[k])}).fail(function(m){i.reject(m)})}return i.promise()};return g})();e.ManualOffersService=f;e.serviceInstance=new b.Services.ManualOffers.ManualOffersService($)})(d.ManualOffers||(d.ManualOffers={}));var c=d.ManualOffers})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function h(){var i=this;this.manualOffersService=b.Services.ManualOffers.serviceInstance;this.loading=ko.observable(true);this.offerGroup=function(j){i.groupId=j;i.loading=ko.computed(function(){var l=i.manualOffersService.loaded(i.groupId);return !l});var k=i.manualOffersService.offerGroup(i.groupId);return new g(k)}}return h})();e.ManualOffersViewModel=f;var g=(function(){function h(l){var i=this;this.airports=ko.observableArray();this.destinations=ko.observableArray();this.selectedAirports=ko.observableArray();this.selectedDestinations=ko.observableArray();this.airportFilters=["London Heathrow","London Gatwick","Manchester","Birmingham","Glasgow","Newcastle","Aberdeen","Edinburgh","Belfast","Bristol"];var q=new b.Infrastructure.UriParameterParser(window.location);var o=q.getParameterByName("airports").split(",");if(o!=null&&o.length>0){this.selectedAirports(o)}this.offers=l;var m=l();var k=ko.utils.arrayMap(m,function(r){return r.Airports});var j=ko.utils.arrayGetDistinctValues(_.flatten(k));var p=j.sort(function(r,s){return i.airportFilters.indexOf(r)<i.airportFilters.indexOf(s)?-1:1});this.airports(p);var n=ko.utils.arrayMap(m,function(r){return r.Destinations});this.destinations(ko.utils.arrayGetDistinctValues(_.flatten(n)));this.filterByAirport=ko.computed(function(){var r=i.selectedAirports().toString().toLowerCase();if(r==null||r.length===0){return i.offers()}var s=ko.utils.arrayFilter(i.offers(),function(t){var u=ko.utils.arrayFilter(t.Airports,function(v){var w=r.indexOf(v.toLowerCase())>-1;return w});if(u!=null&&u.length>0){return true}return false});return s});this.filterByDestination=ko.computed(function(){var s=i.selectedDestinations().toString().toLowerCase();if(s==null||s.length===0){return i.offers()}var r=ko.utils.arrayFilter(i.offers(),function(t){var u=ko.utils.arrayFilter(t.Destinations,function(v){var w=s.indexOf(v.toLowerCase())>-1;return w});if(u!=null&&u.length>0){return true}return false});return r});this.filteredOffers=ko.computed(function(){var r=i.selectedAirports();var s=i.selectedDestinations();if(s!=null&&s.length>0){return i.filterByDestination()}if(r!=null&&r.length>0){return i.filterByAirport()}return i.offers()})}return h})();e.OfferGridViewModel=g})(d.ManualOffers||(d.ManualOffers={}));var c=d.ManualOffers})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(f){var e=(function(){function g(h){this._restClient=h;this._requests=[]}g.prototype.getItems=function(i,h,j){var k=$.Deferred();var l=[];_.each(i,function(m){var n=$.Deferred(function(p,o,q,r){this._requests.push(this._createRequest(p,o,q,r))}.bind(this,m,h,j)).promise();l.push(n)},this);$.when.apply(this,l).done(function(){k.resolve()});return k.promise()};g.prototype._createRequest=function(j,i,k,l){var h=this;return this._restClient.get("/ListItem/Accommodations/"+j).success(function(m){i(m);l.resolve()}).error(k).complete(function(n){var m=h._requests.indexOf(n);h._requests.splice(m,1)})};g.prototype.abortOngoingRequests=function(){var h=_.clone(this._requests);_.each(h,function(i){i.abort()})};return g})();f.AccommodationListItemService=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(f){var e=(function(){function g(h){this.storage=h}g.prototype.loadState=function(){var h=this.storage.getItem(this.getStorageKey());if(typeof h==="undefined"){return new b.Models.State.AccommodationSearchState()}return h};g.prototype.saveModel=function(h){this.storage.setItem(this.getStorageKey(),h)};g.prototype.getStorageKey=function(){return"accommodationSearchModel"};return g})();f.AccommodationSearchPageStateService=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(f){var e=(function(){function g(h){this.getAreasForCountriesRequest=null;this.restClient=h}g.prototype.getAreasForCountries=function(j,i){var h=this;if(this.getAreasForCountriesRequest!=null){this.getAreasForCountriesRequest.abort()}this.getAreasForCountriesRequest=this.restClient.getJSON("/AccommodationSearch/Areas/?countryIds="+j,function(k){h.getAreasForCountriesRequest=null;i(k)})};return g})();f.CountriesAndTravelAreasFilterService=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(f){var e=(function(){function g(h){this._restClient=h;this._requests=[]}g.prototype.getItems=function(i,h,j,l){var k=$.Deferred();var m=[];_.each(i,function(n){var o=$.Deferred(function(q,p,r,s){this._requests.push(this._createRequest(q,p,r,s,l))}.bind(this,n,h,j)).promise();m.push(o)},this);$.when.apply(this,m).done(function(){k.resolve()});return k.promise()};g.prototype._createRequest=function(j,i,k,l,m){var h=this;if(m=="ACCOMMODATIONS"){return this._restClient.get("/ListItem/AccommodationsCarousel/"+j).success(function(n){i(n);l.resolve()}).error(k).complete(function(o){var n=h._requests.indexOf(o);h._requests.splice(n,1)})}if(m=="TOUR-SAFARI-MULTICENTRE"){return this._restClient.get("/ListItem/TourSafariMultiCentreCarousel/"+j).success(function(n){i(n);l.resolve()}).error(k).complete(function(o){var n=h._requests.indexOf(o);h._requests.splice(n,1)})}if(m=="CRUISE"){return this._restClient.get("/ListItem/CruiseCarousel/"+j).success(function(n){i(n);l.resolve()}).error(k).complete(function(o){var n=h._requests.indexOf(o);h._requests.splice(n,1)})}};g.prototype.abortOngoingRequests=function(){var h=_.clone(this._requests);_.each(h,function(i){i.abort()})};return g})();f.ListItemService=e})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){var f=(function(){function g(h){this._restClient=h;this._requests=[]}g.prototype.getItems=function(i,h,j){var k=$.Deferred();var l=[];_.each(i,function(m){var n=$.Deferred(function(p,o,q,r){this._requests.push(this._createRequest(p,o,q,r))}.bind(this,m,h,j)).promise();l.push(n)},this);$.when.apply(this,l).done(function(){k.resolve()});return k.promise()};g.prototype._createRequest=function(j,i,k,l){var h=this;return this._restClient.get("/listitem/villas/"+j).success(function(m){i(m);l.resolve()}).error(k).complete(function(n){var m=h._requests.indexOf(n);h._requests.splice(m,1)})};g.prototype.abortOngoingRequests=function(){var h=_.clone(this._requests);_.each(h,function(i){i.abort()})};return g})();e.VillaListItemService=f})(d.OnlineCatalogue||(d.OnlineCatalogue={}));var c=d.OnlineCatalogue})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(f){var e=(function(){function g(i,h){this.restClient=i;this.jsonService=h}g.prototype.getCampaignInformation=function(i){var h=$.Deferred();var j=["/CampaignPart/CampaignInformation/?",i].join("");this.jsonService.getJson(j,function(k){h.resolve(k)});return h.promise()};return g})();f.CampaignInformationService=e})(d.Parts||(d.Parts={}));var c=d.Parts})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Services").SearchAsYouTypeService=(function(){var d;var a=function(c){this._restClient=c;this._cache={};this.previousRequest=undefined};var b=a.prototype;b.getSearchResults=function(h,g,e){var f=encodeURIComponent(g);var c=f+h;if(this._cache[c]!==undefined){e(this._cache[c]);return}if(this.previousRequest){if(typeof(this.previousRequest.abort)==="function"){this.previousRequest.abort()}this.previousRequest=undefined}var i=["/searchasyoutype?q=",f,"&typeFilter=",h].join("");this.previousRequest=this._restClient.ajax({url:i,success:function(j){this._cache[c]=j;e(j)}.bind(this),error:function(){e([])}})};return a})();var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(){}e.prototype.getSettingsFor=function(f){return b.Repository.getSetting(f)};return e})();c.SettingsService=d})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(e){var f=(function(){function g(i){var h=this;this.search=function(j,k){return h.createSearchRequest(j,k)};this.getNoResults=function(){if(h.noResultsPromise){return h.noResultsPromise}h.noResultsPromise=h.createNoResultsRequest();h.noResultsPromise.fail(function(){h.noResultsPromise=null;delete (h.noResultsPromise)});return h.noResultsPromise};this.restClient=i;this.requests=[]}g.prototype.createNoResultsRequest=function(){var h=this;var i=jQuery.Deferred();var k="/search-results/noresults";var j=this.restClient.get(k);this.requests.push(j);j.done(function(l){if(typeof(l)==="object"){h.addExtraData(l.travelAreaResults);h.addExtraData(l.productResults);h.addExtraData(l.inspirationResults);h.addExtraData(l.otherResults)}i.resolve(l)}).fail(function(m,n,l){i.reject(l)});return i.promise()};g.prototype.createSearchRequest=function(m,n){var h=this;var i=jQuery.Deferred();var j=encodeURIComponent(m);var o="/search-results/search?q="+j;if(typeof(n)==="string"&&n!==null&&n!==""){var k=encodeURIComponent(n);o+="&typeFilter="+k}var l=this.restClient.get(o);this.requests.push(l);l.done(function(p){if(typeof(p)==="object"){h.addExtraData(p.highPriorityResults);h.addExtraData(p.travelAreaResults);h.addExtraData(p.productResults);h.addExtraData(p.inspirationResults);h.addExtraData(p.otherResults);h.addExtraData(p.orderedResults)}i.resolve(p)}).fail(function(q,r,p){i.reject(p)});return i.promise()};g.prototype.addExtraData=function(l){if(typeof(l)==="object"&&typeof(l.length)==="number"&&l.length>0){var j=l.length;for(var h=0;h<j;h++){var k=l[h];this.addHasImageFlag(k);this.addCategoryTypeClass(k)}}};g.prototype.addHasImageFlag=function(h){if(typeof(h)==="object"){h.hasImage=typeof(h.image)!=="undefined"&&h.image!==null&&typeof(h.image.url)==="string"&&h.image.url!==null&&h.image.url!==""}};g.prototype.addCategoryTypeClass=function(h){if(typeof(h)==="object"){if(typeof(h.categoryType)!=="number"||h.categoryType===null){h.categoryTypeImageClass="";h.hasCategoryTypeImageClass=false}else{if(h.categoryType===0){h.categoryTypeImageClass="icon-world-big";h.hasCategoryTypeImageClass=true}else{if(h.categoryType===1){h.categoryTypeImageClass="icon-case-big";h.hasCategoryTypeImageClass=true}else{if(h.categoryType===2){h.categoryTypeImageClass="icon-bulb-big";h.hasCategoryTypeImageClass=true}else{h.categoryTypeImageClass="";h.hasCategoryTypeImageClass=false}}}}}};g.prototype.abortOngoingRequests=function(){var h=_.clone(this.requests);_.each(h,function(i){i.abort()})};return g})();e.SiteSearchService=f;e.serviceInstance=new b.Services.SiteSearch.SiteSearchService($)})(c.SiteSearch||(c.SiteSearch={}));var d=c.SiteSearch})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){var d=(function(){function e(g,f){this.restClient=g;this.baseUrl=f}e.prototype.loadHotelTotalCount=function(g){var f=$.Deferred();var i=this.baseUrl+"?";if(g.hasFilters()){i+=g.toODataString()}this.restClient.ajax({url:i,statusCode:{200:function(j){f.resolve(j)}}});var h=f.promise().fail(function(){console.log("ajax call to load total count was aborted/failed")});return h};return e})();c.TotalCountService=d})(b.Services||(b.Services={}));var a=b.Services})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(d){(function(e){function f(){var p=$("body.accommodation_search_page");if(p.length===0){return}if($("html.ie7").length>0){$("#accommodation_search_form").submit()}var j=new b.Coordinators.OnlineCatalogue.FilterCoordinator($);var l=new b.Infrastructure.JsonSessionStorage(window.sessionStorage);var h=new b.Services.OnlineCatalogue.AccommodationSearchPageStateService(l);var n=h.loadState();var g=new b.Models.OnlineCatalogue.AccommodationSearchModel(n);g.onUpdated.attach(h.saveModel,h);j.setupAccommodationSearchFilters(g);j.onAnyFilterChanged.attach(g.setAggregatedFilter,g);var m=new b.Services.SettingsService();var i=m.getSettingsFor("HotelList-ChunkService-Count-Url");var o=new b.Services.TotalCountService($,i);var k=new b.Infrastructure.LookAheadUpdater(o);j.onUpdateLookAhead.attach(k.lookAheadUpdateTriggered,k);b.Initialization.HotelSearchTotalCount.Init(m,j.onAnyFilterChanged,true);j.triggerLookAheadUpdate();j.triggerFilterChanged()}e.Init=f})(d.AccommodationSearch||(d.AccommodationSearch={}));var c=d.AccommodationSearch})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.AccommodationSearch.Init,1)});var ts_Kuoni;(function(b){(function(d){(function(e){(function(h){function g(){var j=$(".top_menu");var i=$(".top_menu_item");var p=j.width()-6;var l=i.length;if(l>0){var n=1;var k=1;var o=p-((l+1)*n);var m=Math.floor(o/l)-k-1;i.children(".menu_sub_section").css("min-width",m)}Kuoni.Menu.Init()}h.Init=g})(e.Menu||(e.Menu={}));var f=e.Menu})(d.Apollo||(d.Apollo={}));var c=d.Apollo})(b.Skin||(b.Skin={}));var a=b.Skin})(ts_Kuoni||(ts_Kuoni={}));Kuoni.Namespace.create("Kuoni.Initialization").Assets=(function(){var a=function(){var g=$("#assets");if(g.length===0){return}var f=new Kuoni.Views.OnlineCatalogue.ImageLightboxView(g);var e=new Kuoni.Views.OnlineCatalogue.IframeLightboxView(g);var c=new Kuoni.Views.OnlineCatalogue.AjaxLightboxView(g);var d=new Kuoni.Controllers.OnlineCatalogue.AssetsController(f,e,c);d.initializeLightboxes();var b=$(".add-assets");if(b&&b.length>0){b.each(function(){var l=$(this);var k=new Kuoni.Views.OnlineCatalogue.ImageLightboxView(l);var j=new Kuoni.Views.OnlineCatalogue.IframeLightboxView(l);var h=new Kuoni.Views.OnlineCatalogue.AjaxLightboxView(l);var i=new Kuoni.Controllers.OnlineCatalogue.AssetsController(k,j,h);i.initializeLightboxes()})}};return{Init:a}})();$(function(){setTimeout(Kuoni.Initialization.Assets.Init,1)});var ts_Kuoni;(function(b){(function(d){(function(e){function f(){if($("body.start_page").length===0){return}var i=$(".is_background_image_slideshow");var h=new b.Views.Components.BackgroundSlideshowView(i);var g=new b.Controllers.BackgroundSlideshowController(h)}e.Init=f})(d.BackgroundSlideshow||(d.BackgroundSlideshow={}));var c=d.BackgroundSlideshow})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(ts_Kuoni.Initialization.BackgroundSlideshow.Init);var ts_Kuoni;(function(b){(function(d){(function(e){function f(){var i=b.Repository.getItem("brochureType");if(i=="LIST"){var p=$("#brochure_groups");if(p.length===0){return}if(!b.Repository.hasItem("brochureList")){return}var h=b.Repository.getItem("brochureList");var q=new b.Models.Brochure.ListModel(h);var m=new b.Views.Brochure.ListView(p);var l=new b.Services.Brochure.BrochureListItemService($);var k;var g=new b.Infrastructure.Brochure.Filters.AggregatedFilterModel();q.aggregatedFilter=g;k=new b.Controllers.Brochure.ProgressiveLoadingListController(m,l);k.loadAndShowList(q)}else{if(i=="ORDER"){var p=$("#brochure_ReviewSubmit");if(p.length===0){return}var j=new b.Services.JsonService();var o=new b.Views.Brochure.BrochureOrderFormView(p);var n=new b.Controllers.Brochure.BrochureOrderFormController(o)}}}e.Init=f})(d.BrochureList||(d.BrochureList={}));var c=d.BrochureList})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.BrochureList.Init)});var ts_Kuoni;(function(b){(function(d){(function(e){function f(){var g;$.each(b.Repository.repository,function(i,n){if(i.indexOf("productListControlId")>=0){var j=b.Repository.getItem(i);var o=new b.Models.OnlineCatalogue.ListModel(b.Repository.getItem("catalogueList_".concat(j)));if(!b.Repository.hasItem("catalogueList_".concat(j))){return}g=$("#product_groups_carousel_".concat(j));if(g.length===0){return}if(g.hasClass("is_carousel_accommodation_list")){var m=new b.Views.OnlineCatalogue.CarouselListView(g,j,"ACCOMMODATIONS");var l=new b.Services.OnlineCatalogue.ListItemService($);var h="#product_slider_".concat(j);var k=new b.Controllers.OnlineCatalogue.CarouselListController(m,l);k.loadAndShowListByCarousel(o);($(h)).owlCarousel({items:3,itemsDesktop:[,3],itemsDesktopSmall:[979,2],itemsTablet:[768,2],itemsMobile:[767,1],navigation:true,navigationText:false,scrollPerPage:true})}else{if(g.hasClass("is_carousel_tour_list")){var m=new b.Views.OnlineCatalogue.CarouselListView(g,j,"TOUR-SAFARI-MULTICENTRE");var l=new b.Services.OnlineCatalogue.ListItemService($);var h="#product_slider_".concat(j);var k=new b.Controllers.OnlineCatalogue.CarouselListController(m,l);k.loadAndShowListByCarousel(o);($(h)).owlCarousel({items:3,itemsDesktop:[,3],itemsDesktopSmall:[979,2],itemsTablet:[768,2],itemsMobile:[767,1],navigation:true,navigationText:false,scrollPerPage:true})}else{if(g.hasClass("is_carousel_cruise_list")){var m=new b.Views.OnlineCatalogue.CarouselListView(g,j,"CRUISE");var l=new b.Services.OnlineCatalogue.ListItemService($);var h="#product_slider_".concat(j);var k=new b.Controllers.OnlineCatalogue.CarouselListController(m,l);k.loadAndShowListByCarousel(o);($(h)).owlCarousel({items:3,itemsDesktop:[,3],itemsDesktopSmall:[979,2],itemsTablet:[768,2],itemsMobile:[767,1],navigation:true,navigationText:false,scrollPerPage:true})}}}}})}e.Init=f})(d.CarouselProductList||(d.CarouselProductList={}));var c=d.CarouselProductList})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.CarouselProductList.Init)});var ts_Kuoni;(function(b){(function(d){(function(e){function f(){$(".is_tab_container").each(function(){var g=new b.Views.Components.ContainerTabAddedBySuperUserOnManualPages($(this));g.initialize()})}e.Init=f})(d.ContainerTabsAddedBySuperUserOnManualPages||(d.ContainerTabsAddedBySuperUserOnManualPages={}));var c=d.ContainerTabsAddedBySuperUserOnManualPages})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(document).ready(function(){setTimeout(ts_Kuoni.Initialization.ContainerTabsAddedBySuperUserOnManualPages.Init,1)});var ts_Kuoni;(function(b){(function(d){(function(e){function f(){var i=function(){var m=window.location.pathname;var p=new b.Infrastructure.UriParameterParser(window.location);var k=p.getParameterByName("q");var o=p.getParameterByName("sr");if(typeof(o)==="string"&&o!==null&&o!==""){m=o}var j=new b.Infrastructure.HashParameterParser(window.location.hash);var l=j.getParameterByName("q");if(typeof(l)==="string"&&l!==null&&l!==""){k=l}var n=j.getParameterByName("sr");if(typeof(n)==="string"&&n!==null&&n!==""){m=n}return{searchQuery:k,selectedResult:m}};var h=function(j,l){var k=$.extend({resultsContainer:null,pageResultsContainer:null,searchQuery:null,selectedResult:null,updateHashOnSearch:true,searchOnHashChange:true,resultsPageUrl:null,searchWhenTyping:true,searchForRelatedPages:true,maxFaqResults:null,maxPageResults:6},$(j).data("dynamic-faqs-search-options"));if(k.resultsContainer){k.resultsContainer=$(k.resultsContainer);if(k.resultsContainer.length<1){k.resultsContainer=null}}if(k.pageResultsContainer){k.pageResultsContainer=$(k.pageResultsContainer);if(k.pageResultsContainer.length<1){k.pageResultsContainer=null}}if(k.searchOnHashChange&&typeof(l)==="object"){if(typeof(l.searchQuery)==="string"&&l.searchQuery!==null&&l.searchQuery!==""){k.searchQuery=l.searchQuery}if(typeof(l.selectedResult)==="string"&&l.selectedResult!==null&&l.selectedResult!==""){k.selectedResult=l.selectedResult}}return k};var g=function(){var j=$(".dynamic-faqs-search");if(j.length<=0){return}var l=i();var k=b.Services.DynamicFaqsSearch.serviceInstance;var m=b.Services.SiteSearch.serviceInstance;$.each(j,function(o,n){var p=h(n,l);var q=new b.ViewModels.DynamicFaqsSearchViewModel(k,m,p);ko.applyBindings(q,n);if(p.resultsContainer){ko.applyBindings(q,p.resultsContainer.get(0))}if(p.pageResultsContainer){ko.applyBindings(q,p.pageResultsContainer.get(0))}})};g()}e.init=f})(d.DynamicFaqsSearch||(d.DynamicFaqsSearch={}));var c=d.DynamicFaqsSearch})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.DynamicFaqsSearch.init)});Kuoni.Namespace.create("Kuoni.Initialization").ExpandableContainer=(function(){var a=function(){$(".is_expandable").each(function(){var d=$(this).wrap("<div>").parent();var c=new Kuoni.Views.Components.ExpandableContainerView(d);var b=new Kuoni.Controllers.ExpandableContainerController(c);b.initializeExpandableContainerView()})};return{Init:a}})();$(document).ready(function(){setTimeout(Kuoni.Initialization.ExpandableContainer.Init,1)});var ts_Kuoni;(function(b){(function(d){(function(e){function f(){if($("body.start_page").length===0){return}if(!b.Repository.hasItem("heroimageList")){return}var h=$("#home");var g=b.Repository.getItem("heroimageList");return new b.Views.Components.HeroImageSlideShowView(h,g)}e.Init=f})(d.HeroImageSlideShow||(d.HeroImageSlideShow={}));var c=d.HeroImageSlideShow})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(ts_Kuoni.Initialization.HeroImageSlideShow.Init);var ts_Kuoni;(function(b){(function(d){(function(e){function f(){var x=$("#hotel_list_search");if(x.length===0){return}var m=x[0];var t=new b.Infrastructure.JsonSessionStorage(window.sessionStorage);var u=new b.Services.SettingsService();var g=new b.Services.OnlineCatalogue.AccommodationSearchPageStateService(t);var j=10;var h=u.getSettingsFor("HotelList-ChunkService-Markup-Url");var o=new b.Services.ChunkService($,j,h);var k=u.getSettingsFor("HotelList-Default-OrderBy");var i=new b.Infrastructure.ChunkLoader(o,k);var h=u.getSettingsFor("HotelList-ChunkService-Count-Url");var w=new b.Services.TotalCountService($,h);var r=new b.Infrastructure.LookAheadUpdater(w);var q=new b.Views.Components.ListItemView();var n=new b.Views.Components.HotelSearchListView(m,$,o,u,q);var l=new b.Coordinators.OnlineCatalogue.FilterCoordinator($);var v=g.loadState();var s=new b.Models.OnlineCatalogue.AccommodationSearchModel(v);var p=new b.Controllers.HotelSearchListController(n,i,s);l.setupAccommodationSearchFilters(s);l.onAnyFilterChanged.attach(p.filterUpdated,p);s.onUpdated.attach(g.saveModel,g);l.onUpdateLookAhead.attach(r.lookAheadUpdateTriggered,r);b.Initialization.HotelSearchTotalCount.Init(u,l.onAnyFilterChanged,false);l.triggerLookAheadUpdate();l.triggerFilterChanged();n.initalizeFaciltityGroups()}e.Init=f})(d.HotelList||(d.HotelList={}));var c=d.HotelList})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.HotelList.Init)});var ts_Kuoni;(function(b){(function(d){(function(e){function f(i,m,j){var n=$(".hotel_count_component");if(n.length===0){return}var k=i.getSettingsFor("HotelList-ChunkService-Count-Url");if(typeof k=="undefined"){throw"Setting: HotelList-ChunkService-Count-Url is not set, is it initialized ?"}var l=new b.Services.TotalCountService($,k);var h=new b.Views.Components.HotelSearchTotalCountView(n,$);var g=new b.Controllers.HotelSearchTotalCountController(h,l,j);m.attach(g.filterUpdated,g)}e.Init=f})(d.HotelSearchTotalCount||(d.HotelSearchTotalCount={}));var c=d.HotelSearchTotalCount})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var o=$(".insider_tips, .testimonials");var i=$(".testimonials").length>0?true:false;if(o.length===0){return}if(o.length>1){throw"Cant have more than one insider tip!"}var m=108;var j=o.children("p").length;if(o.children("p").length>1){h=o.children("p")[0].clientHeight}else{var h=o.outerHeight()}var k=">:not(p:last):not(h2)";if(j<2){k=">:not(h2)"}if(i==true){o.find(k).wrapAll($('<div class="wrapper"></div>'));o.find(".wrapper").append("<span class=icon><span></span></span>");if(j>1){var n=o.find("p:last");n.addClass("author_name");n.attr("style","margin-bottom: 0px;")}$("<div style='clear: both;'></div>").insertAfter(o.find("p:last"));return}else{if(h<=m){o.find(k).wrapAll($('<div class="wrapper"></div>'));o.find(".wrapper").append("<span class=icon><span></span></span>");if(j>1){var n=o.find("p:last");n.addClass("author_name")}return}}var l=new b.Services.SettingsService();var g=o.find(k).wrapAll($("<div></div>",{"data-expand_text":l.getSettingsFor("data-expand-text"),"data-collapse_text":l.getSettingsFor("data-collapse-text"),"data-collapsed_height":"76","class":"is_expandable"}));setTimeout(function(){if(j>1){var p=o.find("p:last");o.find(".expandable_wrapper").append("<span class='author_name'> "+p.html()+"</span>");p.remove()}},1000)}f.Init=e})(c.InsiderTips||(c.InsiderTips={}));var d=c.InsiderTips})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(ts_Kuoni.Initialization.InsiderTips.Init);var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var o=$("#inspirations_groups");var i=$("#filter_new_section");if(o.length===0){return}if(!b.Repository.hasItem("inspirationsList")){return}var j=b.Repository.getItem("inspirationsList");var k=b.Repository.getItem("inspirationstype");var p=new b.Models.Inspirations.ListModel(j);var n=new b.Views.Inspirations.ListView(o,i);var m=new b.Services.Inspirations.InspirationsListItemService($);var g=new b.Models.Inspirations.DropDownFilterModel();p.aggregatedFilter=g;var l=new b.Controllers.Inspirations.ProgressiveLoadingListController(n,m);l.loadAndShowList(p,k);if(k=="D"){var h=new b.Coordinators.Inspirations.FilterCoordinator($);h.setupInspirationsListFilters(g);h.onAnyFilterChanged.attach(l.filterAndUpdateView,l);h.onUpdateLookAhead.attach(l.getNumberOfMatchingItems,l);h.triggerLookAheadUpdate()}}f.Init=e})(c.InspirationsList||(c.InspirationsList={}));var d=c.InspirationsList})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.InspirationsList.Init)});var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var i=b.Services.ManualOffers.serviceInstance;var g=function(){var j=$(".bind-to-offers");$.each(j,function(l,k){var m=new b.Services.ManualOffers.ManualOffersViewModel();ko.applyBindings(m,k)});setTimeout(function(){var l=$(".offer-filters .tabbable",j);var k=$(".nav.nav-tabs li > a",l);var m=$(".tab-content",l);$('a[data-toggle="tab"]').on("click",function(o){var n=$(o.target);var p=n.parent().hasClass("active");setTimeout(function(){if(p){m.addClass("hide-tabs");k.parent().removeClass("active")}else{m.removeClass("hide-tabs")}},300)})},500)};var h=$(".load-all-offers");if(h.length>0){i.loadAllOffers().always(function(){g()})}else{g()}}f.init=e})(c.ManualOffers||(c.ManualOffers={}));var d=c.ManualOffers})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.ManualOffers.init)});Kuoni.Namespace.create("Kuoni.Initialization.Map");Kuoni.Initialization.Map=(function(){var a=function(){var f={};var c=function(h,i){f[h]=i};var g=function(h){delete f[h]};var d=function(h){if(f[h]){return true}return false};var e=function(){$.each(f,function(h,i){i.close()});f={}};return{add:c,removeItemById:g,contains:d,hideAll:e}}();var b=function(){var r=$("#map_canvas");if(!r||typeof google==="undefined"){return}var n=ts_Kuoni.Repository.getItem("MapInitialPositionAndZoom");var i=new google.maps.LatLng(n.Latitude,n.Longitude);var o=ts_Kuoni.Repository.getItem("MapType");var g=function(s,u,t){return{center:s,zoom:u,mapTypeId:t}};var m=new google.maps.Map(r[0],g(i,n.ZoomLevel,o));var d=function(t,u,s){return new google.maps.InfoWindow({content:['<a id="',t,'"><strong>',u,"</strong><br/><br/>",ts_Kuoni.Repository.getItem("MapMoreInformationLinkText"),"</a>"].join(""),position:s})};var e=function(t,u,s){$("#link"+t).click(function(){$.get(u,function(v){var v=$.parseHTML(v);window.location.href=$(v).find(".more_about").attr("href")})})};var h=function(t,s){return["/ListItem",t,s].join("/")};var c=function(s,t){google.maps.event.addListener(s,"click",function(w){var u=w.featureData;if(a.contains(u.id)){return}var y=h(t,u.id);var x="link"+u.id;var v=d(x,u.name,w.latLng);google.maps.event.addListener(v,"closeclick",function(){a.removeItemById(u.id)});v.open(m);e(u.id,y,v);a.add(u.id,v)})};var f=function(s){s.Layer=new google.maps.KmlLayer(s.Url,{preserveViewport:true,suppressInfoWindows:true})};var l=ts_Kuoni.Repository.getItem("MapKmlLayerConfigurations");$.each(l,function(s,t){f(t);c(t.Layer,t.Type)});var p=function(){if(m){var s=m.getZoom();$.each(l,function(t,u){var v=true;if(s<u.MinZoomLevel){v=false}else{if(s>u.MaxZoomLevel){v=false}}if(v&&!u.Layer.getMap()){u.Layer.setMap(m)}else{if(v==false&&u.Layer.getMap()){u.Layer.setMap(null)}}})}};google.maps.event.addListener(m,"zoom_changed",p);google.maps.event.addListener(m,"zoom_changed",a.hideAll);p();if(typeof ts_Kuoni.Repository.getItem("MapCurrentPoiId")!=="undefined"){var k=ts_Kuoni.Repository.getItem("MapCurrentPoiId");var q=h(ts_Kuoni.Repository.getItem("MapCurrentPoiType"),ts_Kuoni.Repository.getItem("MapCurrentPoiId"));var j=d("link"+k,ts_Kuoni.Repository.getItem("MapCurrentPoiName"),i);j.open(m);google.maps.event.addListener(j,"domready",function(){e(k,q,j)})}setTimeout(function(){google.maps.event.trigger(m,"resize");m.setCenter(i);j.close(m);j.open(m)},300)};return{Init:b}})();$(document).ready(function(){setTimeout(Kuoni.Initialization.Map.Init,1)});Kuoni.Namespace.create("Kuoni.Initialization").Offers=(function(){var a=function(){$(".is_offers").each(function(){var b=new Kuoni.Views.OnlineCatalogue.OffersView($(this));b.initializeOffers()})};return{Init:a}})();$(document).ready(function(){setTimeout(Kuoni.Initialization.Offers.Init,1)});var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var l=$(".is_p2_travel_area_booking_box");if(l.length===0){return}if(l.length>1){throw"Code does not currently support having several P2 Travel Area Booking Boxes!"}var i=new b.Services.SettingsService();var h=i.getSettingsFor("P2TravelAreaBookingBox");var k=new b.Views.OnlineCatalogue.P2BookingBoxViewQueries(l.first());var j=new b.Views.OnlineCatalogue.P2BookingBoxView(k,h.endDate);var g=new b.Controllers.P2BookingBoxController(j)}f.Init=e})(c.P2BookingBox||(c.P2BookingBox={}));var d=c.P2BookingBox})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(ts_Kuoni.Initialization.P2BookingBox.Init);var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){function h(){$(".part.campaign").each(function(){var p=$(this);var o=new b.Models.Parts.CampaignPartModel();var q=new b.Services.SettingsService();var n=new b.Services.JsonService();var m=20;var i=q.getSettingsFor("CampaignPart-ChunkService-Markup-Url");var k=new b.Services.ChunkService($,m,i);var r=new b.Infrastructure.UriParameterParser(window.location);var s=new b.Views.Parts.CampaignPartView(p,$,k,q);var l=new b.Infrastructure.ChunkLoader(k,"Date");var j=new b.Services.Parts.CampaignInformationService($,n);new b.Controllers.Parts.CampaignPartController(o,s,r,l,j)})}g.Init=h})(f.CampaignPart||(f.CampaignPart={}));var e=f.CampaignPart})(c.Parts||(c.Parts={}));var d=c.Parts})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.Parts.CampaignPart.Init,1)});var ts_Kuoni;(function(b){(function(c){(function(f){(function(g){function h(){var i=$("input[name='inputAmount']");if(i==null||typeof i===undefined){return}i.change(function(j){var l=$(this);var k=$("input[name='amount']");k.val(l.val()+"00")})}g.Init=h})(f.FlexwinPaymentPart||(f.FlexwinPaymentPart={}));var e=f.FlexwinPaymentPart})(c.Parts||(c.Parts={}));var d=c.Parts})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.Parts.FlexwinPaymentPart.Init,1)});var ts_Kuoni;(function(b){(function(c){(function(e){(function(h){function g(){var i=$(".tab_container");if(i.length===0){return}_.forEach(i,function(k){var l=new b.Views.Parts.TabContainerPartViewQueries($(k));var m=new b.Views.Parts.TabContainerPartView(l);var j=new b.Controllers.Parts.TabContainerPartController(m)})}h.Init=g})(e.TabContainerPart||(e.TabContainerPart={}));var f=e.TabContainerPart})(c.Parts||(c.Parts={}));var d=c.Parts})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.Parts.TabContainerPart.Init,1)});var ts_Kuoni;(function(b){(function(d){(function(e){(function(h){function g(){var m=$("header .header_phone");if(m.length===0){return}var i=$(".responsive .any_container");var j="hidden_when_mobile";var l=m.find(".phone_icon");var k=m.find(".phone_body");l.click(function(){if($(window).width()<768){if(k.hasClass(j)){i.addClass(j);k.removeClass(j)}else{k.addClass(j)}}})}h.Init=g})(e.PhoneIconSection||(e.PhoneIconSection={}));var f=e.PhoneIconSection})(d.Initialization||(d.Initialization={}));var c=d.Initialization})(b.KuoniSkin||(b.KuoniSkin={}));var a=b.KuoniSkin})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var l=$("#product_groups");if(l.length===0){return}if(!b.Repository.hasItem("catalogueList")){return}var m=new b.Models.OnlineCatalogue.ListModel(b.Repository.getItem("catalogueList"));var k=new b.Views.OnlineCatalogue.ListView(l);var j;if(l.hasClass("is_villa_list")){j=new b.Services.OnlineCatalogue.VillaListItemService($)}else{j=new b.Services.OnlineCatalogue.AccommodationListItemService($)}var i;var g=new b.Infrastructure.OnlineCatalogue.Filters.AggregatedFilterModel();m.aggregatedFilter=g;if(l.hasClass("is_accommodation_list")||l.hasClass("is_villa_list")){i=new b.Controllers.OnlineCatalogue.ProgressiveLoadingListController(k,j);i.loadAndShowList(m);var h=new b.Coordinators.OnlineCatalogue.FilterCoordinator($);h.setupOldProductListFilters(g);h.onAnyFilterChanged.attach(i.filterAndUpdateView,i);h.onUpdateLookAhead.attach(i.getNumberOfMatchingItems,i);h.triggerLookAheadUpdate()}else{i=new Kuoni.Controllers.OnlineCatalogue.ListController(k,j);i.setModel(m)}}f.Init=e})(c.ProductList||(c.ProductList={}));var d=c.ProductList})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.ProductList.Init)});var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var s=$(".responsive");if(s.length===0){return}var r=s.find("nav#top_navigation");var m=s.find("#header .is_search_container");var l=s.find(".menu_opener");var n=s.find(".search_opener");var k=s.find(".any_container");var g=s.find(".filter_column");var h=s.find(".hotel_filter_header");var p="hidden_when_mobile";var q="hidden_when_small";var i="hidden_filter_section";var j="shown_filter_section";l.click(function(){if(r.hasClass(p)){k.addClass(p);r.removeClass(p)}else{r.addClass(p)}});n.click(function(){if(m.hasClass(p)){k.addClass(p);m.removeClass(p)}else{m.addClass(p)}});var o=function(){h.addClass(i);h.removeClass(j);g.addClass(q)};g.find("h2").click(function(){o()});h.click(function(){if(h.hasClass(i)){h.addClass(j);h.removeClass(i);g.removeClass(q)}else{o()}})}f.Init=e})(c.responsive||(c.responsive={}));var d=c.responsive})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(ts_Kuoni.Initialization.responsive.Init);Kuoni.Namespace.create("Kuoni.Initialization").SearchAsYouType=(function(){var a=function(){var b=$;var e=b(".is-search-form input[type=text]");if(e.length===0){return}var c=new Kuoni.Views.Components.RedirectView(window);var d=new Kuoni.Services.SearchAsYouTypeService(b);e.each(function(){var g=new Kuoni.Views.Components.SearchInputView(b(this));var f;var h=b(this).data("search_type");if(typeof(h)==="string"&&h!==null&&h!==""){f=new Kuoni.Controllers.SearchAsYouTypeController(h,g,c,d)}else{f=new Kuoni.Controllers.SearchAsYouTypeController("",g,c,d)}f.initializeAutoComplete()})};return{Init:a}})();$(document).ready(function(){setTimeout(Kuoni.Initialization.SearchAsYouType.Init,1)});var ts_Kuoni;(function(b){(function(d){(function(e){(function(h){function g(){var m=$("header .header_search");if(m.length===0){return}var l=$(".search_icon_tab",m);var i=$(".search_body",m);var j=$(".is-search-form input[type=text]",m);var k=$(".is-search-form input[type=submit]",m);k.mousedown(function(){k.click()});l.mousedown(function(n){n.preventDefault()});l.hover(function(){i.removeClass("shown_when_mobile");j.focus()});j.blur(function(){i.addClass("shown_when_mobile")})}h.Init=g})(e.SearchIcon||(e.SearchIcon={}));var f=e.SearchIcon})(d.Initialization||(d.Initialization={}));var c=d.Initialization})(b.KuoniSkin||(b.KuoniSkin={}));var a=b.KuoniSkin})(ts_Kuoni||(ts_Kuoni={}));var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var g=$("._shortcut_list");if(g.length===0){return}g.each(function(h,i){new b.Views.Components.ShortCutListView($(i))})}f.Init=e})(c.Shortcuts||(c.Shortcuts={}));var d=c.Shortcuts})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.Shortcuts.Init,1)});var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var h=function(){var o=new b.Infrastructure.UriParameterParser(window.location);var k=o.getParameterByName("q");var m=o.getParameterByName("typeFilter");var j=new b.Infrastructure.HashParameterParser(window.location.hash);var l=j.getParameterByName("q");if(typeof(l)==="string"&&l!==null&&l!==""){k=l}var n=j.getParameterByName("typeFilter");if(typeof(n)==="string"&&n!==null&&n!==""){m=n}var i=j.getParameterByName("cf");return{searchQuery:k,typeFilter:m,categoryFilter:i}};var g=function(){var i=$(".bind-to-sitesearch");if(i.length<=0){return}var j=h();var k=b.Services.SiteSearch.serviceInstance;k.getNoResults();$.each(i,function(m,l){var n=new b.ViewModels.SiteSearchViewModel(k,j.searchQuery,j.typeFilter,j.categoryFilter);ko.applyBindings(n,l)})};g()}f.init=e})(c.SiteSearch||(c.SiteSearch={}));var d=c.SiteSearch})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.SiteSearch.init)});var ts_Kuoni;(function(b){(function(c){(function(f){function e(){var j=$("#region_groups");if(j.length===0){return}if(!b.Repository.hasItem("catalogueList")){return}var g=b.Repository.getItem("catalogueList");var k=new b.Models.OnlineCatalogue.ListModel(g);var i=new b.Views.OnlineCatalogue.ListView(j);var h=new Kuoni.Controllers.OnlineCatalogue.ListController(i);h.setModel(k)}f.Init=e})(c.TravelAreaList||(c.TravelAreaList={}));var d=c.TravelAreaList})(b.Initialization||(b.Initialization={}));var a=b.Initialization})(ts_Kuoni||(ts_Kuoni={}));$(function(){setTimeout(ts_Kuoni.Initialization.TravelAreaList.Init)});